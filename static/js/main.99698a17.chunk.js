(this.webpackJsonpDietapp=this.webpackJsonpDietapp||[]).push([[0],{30:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t),n.d(t,"db",(function(){return Te}));var a=n(1),i=n.n(a),s=n(5),r=n(12),c=n(11),o=n(2),d=n(18),l=n(6),_=n(15),u=n.n(_),m=n.p+"static/media/logo.92f8fff8.png",p=n(0);function b(){return Object(p.jsx)("img",{className:"left-section__logo-container__logo",src:m,alt:"Dietapp logo"})}function w(){return Object(p.jsxs)("h1",{className:"left-section__logo-container__title",children:["Diet",Object(p.jsx)("span",{className:"left-section__logo-container__title__right",children:"app"})]})}function h(e){return Object(p.jsxs)("button",{className:"left-section__hamburger",onClick:e.handleHamburger,children:[Object(p.jsx)("span",{className:"left-section__hamburger__line"}),Object(p.jsx)("span",{className:"left-section__hamburger__line"}),Object(p.jsx)("span",{className:"left-section__hamburger__line"})]})}function j(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("span",{className:"left-section__quotation-container__top",children:"Be healthy,"}),Object(p.jsx)("span",{className:"left-section__quotation-container__bottom",children:"be happy!"})]})}function g(e){return Object(p.jsx)("li",{className:"left-section__menu-container__list-item",children:Object(p.jsx)("a",{className:e.isActive?"left-section__menu-container__list-item__content left-section__menu-container__list-item__content--active":"left-section__menu-container__list-item__content",onClick:function(t){t.preventDefault(),e.linkTo(t.target.title)},href:e.href,title:e.value,children:e.value})})}n(30);var y=n(13);function O(e){var t=new Date,n=Object(l.useState)(t.getDate()),a=Object(r.a)(n,2),i=a[0],s=a[1],c=Object(l.useState)(t.getMonth()+1),o=Object(r.a)(c,2),d=o[0],_=o[1],u=Object(l.useState)(t.getFullYear()),m=Object(r.a)(u,2),b=m[0],w=m[1];Object(l.useEffect)((function(){e.changeDate({currentDay:i,currentMonth:d,currentYear:b})}),[i,d,b]);var h=function(){return b%4===0&&b%100!==0||b%400===0},j=function(){29===i&&2===d&&h()||28===i&&2===d&&!h()||30===i&&(4===d||6===d||9===d||11===d)||31===i?31===i&&12===d?(s(1),_(1),w((function(e){return e+1}))):(s(1),_((function(e){return e+1}))):s((function(e){return e+1}))},g=function(){1===i&&1===d?(s(31),_(12),w((function(e){return e-1}))):1===i&&3===d?(h()?s(29):s(28),_(2)):1!==i||4!==d&&6!==d&&8!==d&&9!==d&&11!==d?1===i?(s(30),_((function(e){return e-1}))):s((function(e){return e-1})):(s(31),_((function(e){return e-1})))};return Object(p.jsxs)("div",{className:"center-section__top__date-changer",children:[Object(p.jsx)("button",{className:"center-section__top__date-changer__previous-button",onClick:"Log in"===e.userStatus?e.loginShortcut:function(){g()},children:Object(p.jsx)(y.a,{})}),Object(p.jsx)("h4",{className:"center-section__top__date-changer__current-date",children:"".concat(function(){switch(d){case 1:return"January";case 2:return"February";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"November";case 12:return"December"}}()," ").concat(i)}),Object(p.jsx)("button",{className:"center-section__top__date-changer__next-button",onClick:"Log in"===e.userStatus?e.loginShortcut:function(){j()},children:Object(p.jsx)(y.b,{})})]})}var f=n(8),x={"list-saving":!1};function N(e){var t=Object(l.useState)(x),n=Object(r.a)(t,2),a=n[0],d=n[1],_=Object(l.useState)(!1),u=Object(r.a)(_,2),m=u[0],b=u[1],w=Object(l.useState)(!0),h=Object(r.a)(w,2),j=h[0],g=h[1];Object(l.useEffect)((function(){E(),I()}),[e,a]);var O=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(f.g)(Object(f.c)(Te,"predefinedProducts","predefinedProductsList"),{list:t},{merge:!0});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(s.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.prev=1,e.next=4,Object(f.d)(Object(f.c)(Te,"predefinedProducts","predefinedProductsList"));case 4:n=e.sent,(t=n.data().list)||O([]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),A=function(){d(x),e.handleFormClearing(),g(!0)},v=function(){e.handleAddWindow()},I=function(){Object.keys(a).forEach((function(e){g(!0),a[e]!==x[e]&&g(!1)})),Object.keys(e.data).forEach((function(t){e.data[t]&&g(!1)}))},E=function(){if("nutrition"===e.type){var t=document.querySelector("#name").value,n=document.querySelector("#weight").value,a=document.querySelector("#proteins").value,i=document.querySelector("#fats").value,s=document.querySelector("#carbs").value,r=document.querySelector("#kcal").value;b(!!(t&&n&&a&&i&&s&&r))}else{var c=document.querySelector("#weight").value,o=document.querySelector("#reps").value;b(!(!c||!o))}},k=function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:(n=e.sent).push(t),O(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(p.Fragment,{children:"nutrition"!==e.type?Object(p.jsxs)("form",{className:"window__main window__main--add",onSubmit:function(t){e.handleSerieAdding(t)},children:[Object(p.jsxs)("section",{className:"window__main__section window__main__section--form",children:[Object(p.jsx)("h3",{className:"window__main__section__title",children:"Last time"}),Object(p.jsxs)("div",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label",htmlFor:"oldWeight",children:"Weight: "}),Object(p.jsx)("p",{className:"window__main__input-line__input window__main__input-line__input--unchanging",id:"oldWeight",children:"last-training"===e.type?e.lastTimeData.training.weight:e.lastTimeData.serie.weight}),Object(p.jsx)("span",{className:"window__main__input-line__unit",children:"kg"})]}),Object(p.jsxs)("div",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label",htmlFor:"oldReps",children:"Reps: "}),Object(p.jsx)("p",{className:"window__main__input-line__input window__main__input-line__input--unchanging",id:"oldReps",children:"last-training"===e.type?e.lastTimeData.training.reps:e.lastTimeData.serie.reps}),Object(p.jsx)("span",{className:"window__main__input-line__unit",children:"reps"})]})]}),Object(p.jsxs)("section",{className:"window__main__section window__main__section--form",children:[Object(p.jsx)("h3",{className:"window__main__section__title",children:"New serie"}),Object(p.jsxs)("div",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label",htmlFor:"weight",children:"Weight: "}),Object(p.jsx)("input",{className:"window__main__input-line__input",type:"text",id:"weight",value:e.data.weight,onChange:e.handleOnChange,placeholder:"weight"===e.warning[1]?e.warning[0]:null,maxLength:"3"}),Object(p.jsx)("span",{className:"window__main__input-line__unit",children:"kg"})]}),Object(p.jsxs)("div",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label",htmlFor:"reps",children:"Reps: "}),Object(p.jsx)("input",{className:"window__main__input-line__input",type:"text",id:"reps",value:e.data.reps,onChange:e.handleOnChange,placeholder:"reps"===e.warning[1]?e.warning[0]:null,maxLength:"2"}),Object(p.jsx)("span",{className:"window__main__input-line__unit",children:"reps"})]})]}),Object(p.jsx)("button",{className:m?"window__header__add-button":"window__header__add-button window__header__add-button--disabled",type:"submit",disabled:!m,children:Object(p.jsx)(y.c,{})}),Object(p.jsxs)("section",{className:"window__bottom",children:[Object(p.jsx)("button",{className:j?"window__bottom__tertiary-button window__bottom__tertiary-button--disabled":"window__bottom__tertiary-button",disabled:!!j,type:"button",onClick:A,children:"Clear"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{className:"window__bottom__secondary-button",type:"button",onClick:v,children:"Cancel"}),Object(p.jsx)("button",{className:m?"window__bottom__primary-button":"window__bottom__primary-button window__bottom__primary-button--disabled",type:"submit",disabled:!m,children:"Add"})]})]}),Object(p.jsx)("button",{className:m?"window__header__add-button":"window__header__add-button window__header__add-button--disabled",type:"submit",style:{zIndex:11},disabled:!m,children:Object(p.jsx)(y.c,{})})]}):Object(p.jsxs)("form",{className:"window__main window__main--add",onSubmit:function(t){e.handleProductAdding(t),function(e){var t=[];return e.forEach((function(e){a[e]&&t.push(e)})),t}(Object.keys(a)).forEach((function(e){switch(e){case"list-saving":var t={id:Date.now(),name:document.querySelector("#name").value,weight:Number(document.querySelector("#weight").value),proteins:Number(document.querySelector("#proteins").value),fats:Number(document.querySelector("#fats").value),carbs:Number(document.querySelector("#carbs").value),kcal:Number(document.querySelector("#kcal").value)};k(t)}}))},children:[Object(p.jsxs)("section",{className:"window__main__section window__main__section--form",children:[Object(p.jsx)("h3",{className:"window__main__section__title",children:"Product info"}),Object(p.jsxs)("div",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label",htmlFor:"name",children:"Product name: "}),Object(p.jsx)("input",{className:"window__main__input-line__input",type:"text",id:"name",value:e.data.name,onChange:e.handleOnChange,placeholder:"name"===e.warning[1]?e.warning[0]:null,maxLength:"32"})]}),Object(p.jsxs)("div",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label",htmlFor:"weight",children:"Product weight: "}),Object(p.jsx)("input",{className:"window__main__input-line__input",type:"text",id:"weight",value:e.data.weight,onChange:e.handleOnChange,placeholder:"weight"===e.warning[1]?e.warning[0]:null,maxLength:"4"}),Object(p.jsx)("span",{className:"window__main__input-line__unit",children:"g"})]})]}),Object(p.jsxs)("section",{className:"window__main__section window__main__section--form",children:[Object(p.jsx)("h3",{className:"window__main__section__title",children:"Nutrition facts"}),Object(p.jsxs)("div",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label",htmlFor:"proteins",children:"Proteins: "}),Object(p.jsx)("input",{className:"window__main__input-line__input",type:"text",id:"proteins",value:e.data.proteins,onChange:e.handleOnChange,placeholder:"proteins"===e.warning[1]?e.warning[0]:null,maxLength:"4"}),Object(p.jsx)("span",{className:"window__main__input-line__unit",children:"g"})]}),Object(p.jsxs)("div",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label",htmlFor:"fats",children:"Fats: "}),Object(p.jsx)("input",{className:"window__main__input-line__input",type:"text",id:"fats",value:e.data.fats,onChange:e.handleOnChange,placeholder:"fats"===e.warning[1]?e.warning[0]:null,maxLength:"4"}),Object(p.jsx)("span",{className:"window__main__input-line__unit",children:"g"})]}),Object(p.jsxs)("div",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label",htmlFor:"carbs",children:"Carbs: "}),Object(p.jsx)("input",{className:"window__main__input-line__input",type:"text",id:"carbs",value:e.data.carbs,onChange:e.handleOnChange,placeholder:"carbs"===e.warning[1]?e.warning[0]:null,maxLength:"4"}),Object(p.jsx)("span",{className:"window__main__input-line__unit",children:"g"})]}),Object(p.jsxs)("div",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label",htmlFor:"kcal",children:"Calories: "}),Object(p.jsx)("input",{className:"window__main__input-line__input",type:"text",id:"kcal",value:e.data.kcal,onChange:e.handleOnChange,placeholder:"kcal"===e.warning[1]?e.warning[0]:null,maxLength:"4"}),Object(p.jsx)("span",{className:"window__main__input-line__unit",children:"kcal"})]})]}),Object(p.jsxs)("section",{className:"window__main__section window__main__section--form",children:[Object(p.jsx)("h3",{className:"window__main__section__title",children:"Options"}),Object(p.jsxs)("div",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label window__main__input-line__label--checkbox",htmlFor:"list-saving",children:"Save to list"}),Object(p.jsx)("button",{className:"window__main__input-line__checkbox",id:"list-saving",type:"button",onClick:function(e){d((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(c.a)({},e.target.id,!a[e.target.id]))}))},children:Object(p.jsx)("div",{className:"window__main__input-line__checkbox__background",id:"list-saving",style:a["list-saving"]?{backgroundColor:"#7500AF"}:{backgroundColor:"transparent"}})})]})]}),Object(p.jsx)("button",{className:m?"window__header__add-button":"window__header__add-button window__header__add-button--disabled",type:"submit",style:{zIndex:11},disabled:!m,children:Object(p.jsx)(y.c,{})}),Object(p.jsxs)("section",{className:"window__bottom",children:[Object(p.jsx)("button",{className:j?"window__bottom__tertiary-button window__bottom__tertiary-button--disabled":"window__bottom__tertiary-button",disabled:!!j,type:"button",onClick:A,children:"Clear"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{className:"window__bottom__secondary-button",type:"button",onClick:v,children:"Cancel"}),Object(p.jsx)("button",{className:m?"window__bottom__primary-button":"window__bottom__primary-button window__bottom__primary-button--disabled",type:"submit",disabled:!m,children:"Add"})]})]})]})})}function A(e){var t="update-product-data",n="reset-form",a="set-warning",i="clear-warning",s={productData:{id:e.data.id,name:e.data.name,weight:e.data.weight,proteins:e.data.proteins,fats:e.data.fats,carbs:e.data.carbs,kcal:e.data.kcal},warning:["",""]},c=Object(l.useReducer)((function(s,r){switch(r.type){case t:switch(r.payload.key){case"name":return Object(o.a)(Object(o.a)({},s),{},{productData:Object(o.a)(Object(o.a)({},s.productData),{},{name:r.payload.value})});case"weight":return Object(o.a)(Object(o.a)({},s),{},{productData:Object(o.a)(Object(o.a)({},s.productData),{},{weight:r.payload.value})});case"proteins":return Object(o.a)(Object(o.a)({},s),{},{productData:Object(o.a)(Object(o.a)({},s.productData),{},{proteins:r.payload.value})});case"fats":return Object(o.a)(Object(o.a)({},s),{},{productData:Object(o.a)(Object(o.a)({},s.productData),{},{fats:r.payload.value})});case"carbs":return Object(o.a)(Object(o.a)({},s),{},{productData:Object(o.a)(Object(o.a)({},s.productData),{},{carbs:r.payload.value})});case"kcal":return Object(o.a)(Object(o.a)({},s),{},{productData:Object(o.a)(Object(o.a)({},s.productData),{},{kcal:r.payload.value})});default:return console.error("Unknown action type: ".concat(r.type))}case n:return Object(o.a)(Object(o.a)({},s),{},{productData:{id:e.data.id,name:e.data.name,weight:e.data.weight,proteins:e.data.proteins,fats:e.data.fats,carbs:e.data.carbs,kcal:e.data.kcal}});case a:return"name"===r.payload?Object(o.a)(Object(o.a)({},s),{},{warning:[M.name,r.payload]}):Object(o.a)(Object(o.a)({},s),{},{warning:[M.weight,r.payload]});case i:return Object(o.a)(Object(o.a)({},s),{},{warning:["",r.payload]});default:return console.error("Unknown action type: ".concat(r.type))}}),s),d=Object(r.a)(c,2),_=d[0],m=d[1],b=Object(l.useState)(!1),w=Object(r.a)(b,2),h=w[0],j=w[1],g=Object(l.useState)(!0),O=Object(r.a)(g,2),f=O[0],x=O[1];Object(l.useEffect)((function(){var e=document.querySelector(".window--add");return e.style.filter="blur(5px) opacity(40%) grayscale(100%)",e.style.pointerEvents="none",function(){e.style.filter="blur(0px) opacity(100%) grayscale(0%)",e.style.pointerEvents="auto"}}),[]),Object(l.useEffect)((function(){N(),A()}),[_.productData]);var N=function(){var e=document.querySelector("#name").value,t=document.querySelector("#weight").value;j(!(!e||!t))},A=function(){Object.keys(e.data).forEach((function(t){e.data[t]!==_.productData[t]&&x(!1)}))},v=function(){var t=e.data.id;e.handleEditingWindow(t)},I=function(t){t.preventDefault(),e.handleProductEditing(_.productData)};return u.a.createPortal(Object(p.jsxs)("form",{className:"window window--edit",onSubmit:I,children:[Object(p.jsxs)("header",{className:"window__header",children:[Object(p.jsx)("h3",{className:"window__header__heading",children:"Edit product"}),Object(p.jsx)("button",{className:"window__header__back-button",onClick:v,children:Object(p.jsx)(y.a,{})}),Object(p.jsx)("button",{className:h?"window__header__add-button":"window__header__add-button window__header__add-button--disabled",disabled:!h,onClick:I,children:Object(p.jsx)(y.d,{})})]}),Object(p.jsxs)("main",{className:"window__form",children:[Object(p.jsxs)("section",{className:"window__main__section window__main__section--form",children:[Object(p.jsx)("h3",{className:"window__main__section__title",children:"Product info"}),Object(p.jsxs)("div",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label",htmlFor:"name",children:"Product name: "}),Object(p.jsx)("input",{className:"window__main__input-line__input",type:"text",id:"name",value:_.productData.name,onChange:function(e){e.preventDefault(),/[a-z\s]/i.test(e.target.value[e.target.value.length-1])?(m({type:t,payload:{key:"name",value:e.target.value}}),m({type:i,payload:"name"})):(m({type:t,payload:{key:"name",value:""}}),m({type:a,payload:"name"}))},placeholder:"name"===_.warning[1]?_.warning[0]:null,maxLength:"32"})]}),Object(p.jsxs)("div",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label",htmlFor:"weight",children:"Product weight: "}),Object(p.jsx)("input",{className:"window__main__input-line__input",type:"text",id:"weight",value:_.productData.weight,onChange:function(n){var s=Number(e.data.proteins)/Number(e.data.weight),r=Number(e.data.fats)/Number(e.data.weight),c=Number(e.data.carbs)/Number(e.data.weight),o=Number(e.data.kcal)/Number(e.data.weight),d=function(){m({type:t,payload:{key:"weight",value:""}}),m({type:t,payload:{key:"proteins",value:0}}),m({type:t,payload:{key:"fats",value:0}}),m({type:t,payload:{key:"carbs",value:0}}),m({type:t,payload:{key:"kcal",value:0}}),m({type:a,payload:"weight"})};/[0-9]/.test(n.target.value[n.target.value.length-1])?/^[0]{1}/.test(n.target.value)?d():(m({type:t,payload:{key:"weight",value:Number(n.target.value)}}),m({type:t,payload:{key:"proteins",value:Math.round(n.target.value*s)}}),m({type:t,payload:{key:"fats",value:Math.round(n.target.value*r)}}),m({type:t,payload:{key:"carbs",value:Math.round(n.target.value*c)}}),m({type:t,payload:{key:"kcal",value:Math.round(n.target.value*o)}}),m({type:i,payload:"weight"})):d()},placeholder:"weight"===_.warning[1]?_.warning[0]:null,maxLength:"32"}),Object(p.jsx)("span",{className:"window__main__input-line__unit",children:"g"})]})]}),Object(p.jsxs)("section",{className:"window__main__section window__main__section--form",children:[Object(p.jsx)("h3",{className:"window__main__section__title",children:"Nutrition facts"}),Object(p.jsxs)("div",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label",htmlFor:"proteins",children:"Proteins: "}),Object(p.jsx)("p",{className:"window__main__input-line__input window__main__input-line__input--unchanging",id:"proteins",children:_.productData.proteins}),Object(p.jsx)("span",{className:"window__main__input-line__unit",children:"g"})]}),Object(p.jsxs)("div",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label",htmlFor:"fats",children:"Fats: "}),Object(p.jsx)("p",{className:"window__main__input-line__input window__main__input-line__input--unchanging",id:"fats",children:_.productData.fats}),Object(p.jsx)("span",{className:"window__main__input-line__unit",children:"g"})]}),Object(p.jsxs)("div",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label",htmlFor:"carbs",children:"Carbs: "}),Object(p.jsx)("p",{className:"window__main__input-line__input window__main__input-line__input--unchanging",id:"carbs",children:_.productData.carbs}),Object(p.jsx)("span",{className:"window__main__input-line__unit",children:"g"})]}),Object(p.jsxs)("div",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label",htmlFor:"kcal",children:"Calories: "}),Object(p.jsx)("p",{className:"window__main__input-line__input window__main__input-line__input--unchanging",id:"kcal",children:_.productData.kcal}),Object(p.jsx)("span",{className:"window__main__input-line__unit",children:"kcal"})]})]})]}),Object(p.jsxs)("section",{className:"window__bottom",children:[Object(p.jsx)("button",{className:f?"window__bottom__tertiary-button window__bottom__tertiary-button--disabled":"window__bottom__tertiary-button",disabled:!!f,type:"button",onClick:function(e){e.preventDefault(),m({type:n}),m({type:i}),x(!0)},children:"Reset"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{className:"window__bottom__secondary-button",type:"button",onClick:v,children:"Cancel"}),Object(p.jsx)("button",{className:h?"window__bottom__primary-button":"window__bottom__primary-button window__bottom__primary-button--disabled",type:"submit",disabled:!h,children:"Save"})]})]})]}),document.getElementById("portal"))}var v="set-product-send-for-edit",I="negate-edit-window-state",E="update-saved-products-list",k="load-predefined-products-list-from-local-storage",S="set-is-add-button-disabled",D={savedProductList:[{id:0,name:"Cottage cheese",weight:100,proteins:20,fats:10,carbs:15,kcal:250},{id:1,name:"Skyr",weight:100,proteins:20,fats:0,carbs:12,kcal:100},{id:2,name:"Potatos",weight:100,proteins:9,fats:2,carbs:80,kcal:126},{id:3,name:"Coca Cola",weight:100,proteins:0,fats:0,carbs:100,kcal:400},{id:4,name:"Banana",weight:100,proteins:5,fats:3,carbs:52,kcal:173}],productSendForEdit:{id:0,name:"",weight:0,proteins:0,fats:0,carbs:0,kcal:0},isEditWindowOpened:!1,isAddButtonDisabled:!1};function C(e){var t=Object(l.useReducer)((function(e,t){switch(t.type){case k:return Object(o.a)(Object(o.a)({},e),{},{savedProductList:t.payload});case I:return Object(o.a)(Object(o.a)({},e),{},{isEditWindowOpened:!e.isEditWindowOpened});case v:return Object(o.a)(Object(o.a)({},e),{},{productSendForEdit:{id:t.payload.id,name:t.payload.name,weight:t.payload.weight,proteins:t.payload.proteins,fats:t.payload.fats,carbs:t.payload.carbs,kcal:t.payload.kcal}});case E:var n=e.savedProductList;return n[t.payload.index]=t.payload.newProduct,Object(o.a)(Object(o.a)({},e),{},{savedProductList:n});case S:return Object(o.a)(Object(o.a)({},e),{},{isAddButtonDisabled:t.payload});default:return console.error("Unknown action type: ".concat(t.type))}}),D),n=Object(r.a)(t,2),a=n[0],c=n[1],d=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(f.g)(Object(f.c)(Te,"predefinedProducts","predefinedProductsList"),{list:t},{merge:!0});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(s.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.prev=1,e.next=4,Object(f.d)(Object(f.c)(Te,"predefinedProducts","predefinedProductsList"));case 4:n=e.sent,(t=n.data().list)||d(a.savedProductList),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:c({type:k,payload:t});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){_()}),[]),Object(l.useEffect)((function(){w()}),[]);var u=function(e){var t=document.getElementById(e.currentTarget.id);if(e.currentTarget.id){var n=t.querySelector(".window__main__section__large-list__item__name");"bold"===n.style.fontWeight?(t.style.background="#ffffff",n.style.fontWeight="normal",w()):(t.style.background="#7500AF30",n.style.fontWeight="bold",m(a.savedProductList[j(e.currentTarget.id)]),b())}},m=function(e){c({type:v,payload:e})},b=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(Number.isInteger(e)){var t=document.getElementById(e),n=t.querySelector(".window__main__section__large-list__item__name");t.style.background="#ffffff",n.style.fontWeight="normal"}c({type:I}),w()},w=function(){for(var e=document.querySelectorAll(".window__main__section__large-list__item"),t=!1,n=0;n<e.length;n++){if("bold"===e[n].querySelector(".window__main__section__large-list__item__name").style.fontWeight){t=!1;break}t=!0}c({type:S,payload:t})},h=function(){var t=[];document.querySelectorAll(".window__main__section__large-list__item").forEach((function(e,n){"bold"===e.querySelector(".window__main__section__large-list__item__name").style.fontWeight&&t.push({name:a.savedProductList[n-1].name,weight:a.savedProductList[n-1].weight,proteins:a.savedProductList[n-1].proteins,fats:a.savedProductList[n-1].fats,carbs:a.savedProductList[n-1].carbs,kcal:a.savedProductList[n-1].kcal})})),0!==t.length&&e.handlePredefinedProductsAdding(t)},j=function(e){var t=a.savedProductList,n=0;return t.forEach((function(t,a){t.id===Number(e)&&(n=a)})),n};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("button",{className:a.isAddButtonDisabled?"window__header__add-button window__header__add-button--disabled":"window__header__add-button",type:"button",style:{zIndex:11},onClick:h,disabled:!!a.isAddButtonDisabled,children:Object(p.jsx)(y.c,{})}),a.isEditWindowOpened?Object(p.jsx)(A,{data:{id:a.productSendForEdit.id,name:a.productSendForEdit.name,weight:a.productSendForEdit.weight,proteins:a.productSendForEdit.proteins,fats:a.productSendForEdit.fats,carbs:a.productSendForEdit.carbs,kcal:a.productSendForEdit.kcal},warning:e.warning,handleProductEditing:function(e){var t=j(e.id);c({type:E,payload:{index:t,newProduct:e}}),d(a.savedProductList),b()},handleEditingWindow:b}):null,Object(p.jsx)("ul",{className:"window__main__section__large-list window__main__section__large-list--heading",children:Object(p.jsx)("li",{className:"window__main__section__large-list__item window__main__section__large-list__item--heading",children:Object(p.jsxs)("div",{className:"window__main__section__large-list__wrapper",children:[Object(p.jsx)("span",{className:"window__main__section__large-list__item__name",style:{color:"white"},children:"Product name"}),Object(p.jsxs)("span",{className:"window__main__section__large-list__item__nutrition-facts",children:[Object(p.jsx)("p",{className:"window__main__section__large-list__item__nutrition-facts__proteins",title:"Proteins",children:"P"}),Object(p.jsx)("p",{className:"window__main__section__large-list__item__nutrition-facts__fats",title:"Fats",children:"F"}),Object(p.jsx)("p",{className:"window__main__section__large-list__item__nutrition-facts__carbs",title:"Carbohydrates",children:"C"})]}),Object(p.jsx)("span",{className:"window__main__section__large-list__item__calories",children:"Calories"})]})})}),Object(p.jsx)("ul",{className:"window__main__section__large-list",children:a.savedProductList.map((function(e){return Object(p.jsxs)("li",{id:e.id,className:"window__main__section__large-list__item",onClick:u,children:[Object(p.jsxs)("div",{className:"window__main__section__large-list__wrapper",children:[Object(p.jsx)("span",{id:e.id,className:"window__main__section__large-list__item__name",children:e.name}),Object(p.jsxs)("span",{id:e.id,className:"window__main__section__large-list__item__nutrition-facts",children:[Object(p.jsxs)("p",{id:e.id,className:"window__main__section__large-list__item__nutrition-facts__proteins",title:"Proteins",children:[e.proteins," g"]}),Object(p.jsxs)("p",{id:e.id,className:"window__main__section__large-list__item__nutrition-facts__fats",title:"Fats",children:[e.fats," g"]}),Object(p.jsxs)("p",{id:e.id,className:"window__main__section__large-list__item__nutrition-facts__carbs",title:"Carbohydrates",children:[e.carbs," g"]})]}),Object(p.jsxs)("span",{id:e.id,className:"window__main__section__large-list__item__calories",children:[e.kcal," kcal"]})]}),Object(p.jsxs)("span",{id:e.id,className:"window__main__section__large-list__item__weight",children:[e.weight," g"]})]},e.id)}))}),Object(p.jsxs)("section",{className:"window__bottom",children:[Object(p.jsx)("div",{}),Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{className:"window__bottom__secondary-button",onClick:e.handleAddWindow,children:"Cancel"}),Object(p.jsx)("button",{className:a.isAddButtonDisabled?"window__bottom__primary-button window__bottom__primary-button--disabled":"window__bottom__primary-button",onClick:h,children:"Add"})]})]})]})}function T(e){var t=Object(l.useState)(!0),n=Object(r.a)(t,2),a=n[0],i=n[1];Object(l.useEffect)((function(){var e=document.querySelector("#root"),t=document.querySelector(".wrapper"),n=document.querySelector(".left-section__hamburger");return t.style.filter="blur(5px) opacity(40%) grayscale(100%)",t.style.pointerEvents="none",e.style.zIndex=97,n.style.display="none",function(){t.style.filter="blur(0px) opacity(100%) grayscale(0%)",t.style.pointerEvents="auto",e.style.zIndex=99,window.innerWidth<769&&(n.style.display="block")}}),[]),Object(l.useEffect)((function(){e.handleFormClearing()}),[a]);return u.a.createPortal(Object(p.jsxs)("div",{className:"window window--add",children:[Object(p.jsxs)("header",{className:"window__header",children:[Object(p.jsx)("h2",{className:"window__header__heading",children:"exercises"===e.type?"Add serie":"Add product"}),Object(p.jsx)("button",{className:"window__header__back-button",onClick:e.handleAddWindow,children:Object(p.jsx)(y.a,{})}),Object(p.jsxs)("button",{className:"window__header__switch",onClick:function(){i(!a)},children:[Object(p.jsx)("h3",{className:a?"window__header__switch__left window__header__switch__left--selected":"window__header__switch__left",children:"exercises"===e.type?"Last training":"From list"}),Object(p.jsx)("h3",{className:a?"window__header__switch__right":"window__header__switch__right window__header__switch__right--selected",children:"exercises"===e.type?"Last serie":"Your own"})]})]}),"exercises"===e.type?Object(p.jsx)("main",{className:"window__form",children:a?Object(p.jsx)(N,{type:"last-training",data:{weight:e.data.weight,reps:e.data.reps},warning:e.warning,handleOnChange:e.handleOnChange,handleSerieAdding:e.handleSerieAdding,handleFormClearing:e.handleFormClearing,handleAddWindow:e.handleAddWindow,lastTimeData:e.lastTimeData}):Object(p.jsx)(N,{type:"last-serie",data:{weight:e.data.weight,reps:e.data.reps},warning:e.warning,handleOnChange:e.handleOnChange,handleSerieAdding:e.handleSerieAdding,handleFormClearing:e.handleFormClearing,handleAddWindow:e.handleAddWindow,lastTimeData:e.lastTimeData})}):Object(p.jsx)("main",{className:"window__form",children:a?Object(p.jsx)(C,{warning:e.warning,handleAddWindow:e.handleAddWindow,handlePredefinedProductsAdding:e.handlePredefinedProductsAdding}):Object(p.jsx)(N,{type:"nutrition",data:{isPlaceholderEnabled:e.data.isPlaceholderEnabled,name:e.data.name,weight:e.data.weight,proteins:e.data.proteins,fats:e.data.fats,carbs:e.data.carbs,kcal:e.data.kcal},warning:e.warning,handleOnChange:e.handleOnChange,handleFormClearing:e.handleFormClearing,handleProductAdding:e.handleProductAdding,handleAddWindow:e.handleAddWindow})})]}),document.getElementById("portal"))}n(45);function W(e){var t=Object(l.useState)(!1),n=Object(r.a)(t,2),a=n[0],i=n[1],s=Object(l.useState)(!1),c=Object(r.a)(s,2),o=c[0],d=c[1];Object(l.useEffect)((function(){var e=document.querySelector(".window");a?(e.style.filter="blur(5px) opacity(40%) grayscale(100%)",e.style.pointerEvents="none"):(e.style.filter="blur(0px) opacity(100%) grayscale(0%)",e.style.pointerEvents="auto")}),[a]),Object(l.useEffect)((function(){var e=document.querySelector("#root"),t=document.querySelector(".wrapper"),n=document.querySelector(".left-section__hamburger");return t.style.filter="blur(5px) opacity(40%) grayscale(100%)",t.style.pointerEvents="none",e.style.zIndex=97,n.style.display="none",function(){t.style.filter="blur(0px) opacity(100%) grayscale(0%)",t.style.pointerEvents="auto",e.style.zIndex=99,window.innerWidth<769&&(n.style.display="block")}}),[]),Object(l.useEffect)((function(){b()}),[]);var _=function(e){var t=document.getElementById(e.currentTarget.id);if(e.currentTarget.id){var n=t.querySelector(".window__main__section__large-list__item__name");"bold"===n.style.fontWeight?(t.style.background="#ffffff",n.style.fontWeight="normal"):(t.style.background="#7500AF30",n.style.fontWeight="bold"),b()}},m=function(){var t=[];document.querySelectorAll(".window__main__section__large-list__item").forEach((function(e){"bold"===e.querySelector(".window__main__section__large-list__item__name").style.fontWeight&&t.push(Number(e.id))})),0!==t.length&&e.handleRemoving(t)},b=function(){for(var e=document.querySelectorAll(".window__main__section__large-list__item"),t=!1,n=0;n<e.length;n++){if("bold"===e[n].querySelector(".window__main__section__large-list__item__name").style.fontWeight){t=!1;break}t=!0}d(t)};return u.a.createPortal(Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("section",{className:"window",children:[Object(p.jsxs)("header",{className:"window__header",children:[Object(p.jsx)("h1",{className:"window__header__heading",children:"exercises"===e.type?"Remove serie":"Remove product"}),Object(p.jsx)("button",{className:"window__header__back-button",onClick:e.handleRemoveWindow,children:Object(p.jsx)(y.a,{})}),Object(p.jsx)("button",{className:o?"window__header__add-button window__header__add-button--disabled":"window__header__add-button",onClick:m,children:Object(p.jsx)(y.e,{})})]}),Object(p.jsxs)("main",{className:"window__main window__main--list",children:[Object(p.jsx)("ul",{className:"window__main__section__large-list window__main__section__large-list--heading",children:Object(p.jsx)("li",{className:"window__main__section__large-list__item window__main__section__large-list__item--heading",children:"exercises"===e.type?Object(p.jsxs)("div",{className:"window__main__section__large-list__wrapper",children:[Object(p.jsx)("span",{className:"window__main__section__large-list__item__name",style:{color:"white"},children:"Serie"}),Object(p.jsx)("span",{className:"window__main__section__large-list__item__nutrition-facts",children:Object(p.jsx)("p",{className:"window__main__section__large-list__item__nutrition-facts__weight",children:"Weight"})}),Object(p.jsx)("span",{className:"window__main__section__large-list__item__calories",children:"Repetitions"})]}):Object(p.jsxs)("div",{className:"window__main__section__large-list__wrapper",children:[Object(p.jsx)("span",{className:"window__main__section__large-list__item__name",style:{color:"white"},children:"Product name"}),Object(p.jsxs)("span",{className:"window__main__section__large-list__item__nutrition-facts",children:[Object(p.jsx)("p",{className:"window__main__section__large-list__item__nutrition-facts__proteins",title:"Proteins",children:"P"}),Object(p.jsx)("p",{className:"window__main__section__large-list__item__nutrition-facts__fats",title:"Fats",children:"F"}),Object(p.jsx)("p",{className:"window__main__section__large-list__item__nutrition-facts__carbs",title:"Carbohydrates",children:"C"})]}),Object(p.jsx)("span",{className:"window__main__section__large-list__item__calories",children:"Calories"})]})})}),Object(p.jsx)("ul",{className:"window__main__section__large-list",children:e.list.map((function(t){return"exercises"===e.type?Object(p.jsx)("li",{onClick:_,id:t.id,className:"window__main__section__large-list__item",children:Object(p.jsxs)("div",{className:"window__main__section__large-list__wrapper",children:[Object(p.jsxs)("span",{id:t.id,className:"window__main__section__large-list__item__name",children:["Serie ",t.serieCount]}),Object(p.jsx)("span",{id:t.id,className:"window__main__section__large-list__item__nutrition-facts",children:Object(p.jsxs)("p",{id:t.id,className:"window__main__section__large-list__item__nutrition-facts__weight",title:"Weight",children:[t.weight," kg"]})}),Object(p.jsxs)("span",{id:t.id,className:"window__main__section__large-list__item__calories",children:[t.reps," reps"]})]})},t.id):Object(p.jsxs)("li",{onClick:_,id:t.id,className:"window__main__section__large-list__item",children:[Object(p.jsxs)("div",{className:"window__main__section__large-list__wrapper",children:[Object(p.jsx)("span",{id:t.id,className:"window__main__section__large-list__item__name",children:t.name}),Object(p.jsxs)("span",{id:t.id,className:"window__main__section__large-list__item__nutrition-facts",children:[Object(p.jsxs)("p",{id:t.id,className:"window__main__section__large-list__item__nutrition-facts__proteins",title:"Proteins",children:[t.proteins," g"]}),Object(p.jsxs)("p",{id:t.id,className:"window__main__section__large-list__item__nutrition-facts__fats",title:"Fats",children:[t.fats," g"]}),Object(p.jsxs)("p",{id:t.id,className:"window__main__section__large-list__item__nutrition-facts__carbs",title:"Carbohydrates",children:[t.carbs," g"]})]}),Object(p.jsxs)("span",{id:t.id,className:"window__main__section__large-list__item__calories",children:[t.kcal," kcal"]})]}),Object(p.jsxs)("span",{id:t.id,className:"window__main__section__large-list__item__weight",children:[t.weight," g"]})]},t.id)}))})]}),Object(p.jsxs)("section",{className:"window__bottom",children:[Object(p.jsx)("button",{className:"window__bottom__tertiary-button",onClick:function(){i(!0)},children:"Remove all"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{className:"window__bottom__secondary-button",onClick:e.handleRemoveWindow,children:"Cancel"}),Object(p.jsx)("button",{className:o?"window__bottom__primary-button window__bottom__primary-button--disabled":"window__bottom__primary-button",onClick:m,children:"Remove"})]})]})]}),a?Object(p.jsxs)("section",{className:"window window--login",children:[Object(p.jsx)("header",{className:"window__header",children:Object(p.jsx)("h2",{className:"window__header__heading",children:"Remove all?"})}),Object(p.jsx)("main",{className:"window__main",children:Object(p.jsx)("h3",{className:"window__main__message",children:"exercises"===e.type?"Are you sure you want to remove all series in current exercise?":"Are you sure you want to remove all products in current meal?"})}),Object(p.jsxs)("section",{className:"window__bottom",children:[Object(p.jsx)("button",{className:"window__bottom__secondary-button",onClick:function(){i(!1)},children:"Cancel"}),Object(p.jsx)("button",{className:"window__bottom__primary-button",onClick:function(){var t=[];document.querySelectorAll(".window__main__section__large-list__item").forEach((function(e){t.push(Number(e.id))})),e.handleRemoving(t)},children:"Remove"})]})]}):null]}),document.getElementById("portal"))}function P(e){return Object(l.useEffect)((function(){var t={proteins:e.proteins,fats:e.fats,carbs:e.carbs,kcal:e.kcal};return e.addIngredientsFunction(t),function(){e.subIngredientsFunction(t)}}),[]),Object(p.jsxs)("div",{className:"meal__products-section__product",children:[Object(p.jsxs)("div",{className:"meal__products-section__product__info",children:[Object(p.jsx)("h2",{className:"meal__products-section__product__title",children:e.name}),Object(p.jsxs)("p",{className:"meal__products-section__product__weight",children:[e.weight," g"]})]}),Object(p.jsxs)("ul",{className:"meal__products-section__product__stats-list",children:[Object(p.jsxs)("li",{className:"meal__products-section__product__stats-list__item",children:[e.proteins," g"]}),Object(p.jsxs)("li",{className:"meal__products-section__product__stats-list__item",children:[e.fats," g"]}),Object(p.jsxs)("li",{className:"meal__products-section__product__stats-list__item",children:[e.carbs," g"]}),Object(p.jsxs)("li",{className:"meal__products-section__product__stats-list__item meal__products-section__product__stats-list__item--kcal",children:[e.kcal," kcal"]})]})]})}n(33);var M={name:"Name must be a string of letters only",weight:"Weight must be a positive number",macros:"Macronutrient must be a number"},U={NEGATE_MEAL_STATE:"negate-meal-state",NEGATE_ADDING_WINDOW_STATE:"negate-adding-window-state",NEGATE_REMOVING_WINDOW_STATE:"negate-removing-window-state",ADD_PRODUCT:"add-product",ENABLE_PLACEHOLDER:"enable-placeholder",DISABLE_PLACEHOLDER:"disable-placeholder",SET_WARNING:"set-warning",CLEAR_WARNING:"clear-warning",REMOVE_PRODUCT:"remove-product",ADD_TO_SUMMARY:"add-to-summary",SUB_FROM_SUMMARY:"sub-from-summary",CLEAR_PRODUCTLIST_BEFORE_DAY_CHANGING:"clear-productlist-before-day-changing",ADD_PRODUCT_TO_PRODUCTLIST:"add-product-to-productlist"};function R(e){var t=function(){var t=Object(s.a)(i.a.mark((function t(n){var a,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[],s=[],t.prev=2,t.next=5,Object(f.e)(Object(f.b)(Te,"users"));case 5:t.sent.forEach((function(t){t.id===e.userId&&t.data().productList&&(s=t.data().productList)})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0);case 12:return a=s.concat(n),t.prev=13,t.next=16,Object(f.g)(Object(f.c)(Te,"users",String(e.userId)),{productList:a},{merge:!0});case 16:t.next=21;break;case 18:t.prev=18,t.t1=t.catch(13),console.error(t.t1);case 21:case"end":return t.stop()}}),t,null,[[2,9],[13,18]])})));return function(e){return t.apply(this,arguments)}}(),n=function(){var t=Object(s.a)(i.a.mark((function t(n){var a,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[],s=[],t.prev=2,t.next=5,Object(f.e)(Object(f.b)(Te,"users"));case 5:t.sent.forEach((function(t){t.id===e.userId&&t.data().productList&&(a=t.data().productList)})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0);case 12:return s=a,n.forEach((function(e){s.forEach((function(t,n){Number(t.id)===Number(e)&&s.splice(n,1)}))})),t.prev=14,t.next=17,Object(f.g)(Object(f.c)(Te,"users",String(e.userId)),{productList:s},{merge:!0});case 17:t.next=22;break;case 19:t.prev=19,t.t1=t.catch(14),console.error(t.t1);case 22:case"end":return t.stop()}}),t,null,[[2,9],[14,19]])})));return function(e){return t.apply(this,arguments)}}(),a={isMealOpened:!1,isAddingWindowOpened:!1,isRemovingWindowOpened:!1,countIngredients:!1,productList:[],newProduct:{id:0,mealId:e.mealId,dateIds:{dayId:0,monthId:0,yearId:0},name:"",weight:"",proteins:"",fats:"",carbs:"",kcal:""},warning:["",""],summary:{proteins:0,fats:0,carbs:0,kcal:0}},c=Object(l.useReducer)((function(a,i){switch(i.type){case U.NEGATE_MEAL_STATE:return Object(o.a)(Object(o.a)({},a),{},{isMealOpened:!a.isMealOpened});case U.NEGATE_ADDING_WINDOW_STATE:return Object(o.a)(Object(o.a)({},a),{},{isAddingWindowOpened:!a.isAddingWindowOpened});case U.NEGATE_REMOVING_WINDOW_STATE:return Object(o.a)(Object(o.a)({},a),{},{isRemovingWindowOpened:!a.isRemovingWindowOpened});case U.CHANGE_NEW_PRODUCT_DATA:switch(i.payload.key){case"name":return Object(o.a)(Object(o.a)({},a),{},{newProduct:Object(o.a)(Object(o.a)({},a.newProduct),{},{name:i.payload.value})});case"weight":return Object(o.a)(Object(o.a)({},a),{},{newProduct:Object(o.a)(Object(o.a)({},a.newProduct),{},{weight:i.payload.value})});case"proteins":return Object(o.a)(Object(o.a)({},a),{},{newProduct:Object(o.a)(Object(o.a)({},a.newProduct),{},{proteins:i.payload.value})});case"fats":return Object(o.a)(Object(o.a)({},a),{},{newProduct:Object(o.a)(Object(o.a)({},a.newProduct),{},{fats:i.payload.value})});case"carbs":return Object(o.a)(Object(o.a)({},a),{},{newProduct:Object(o.a)(Object(o.a)({},a.newProduct),{},{carbs:i.payload.value})});case"kcal":return Object(o.a)(Object(o.a)({},a),{},{newProduct:Object(o.a)(Object(o.a)({},a.newProduct),{},{kcal:i.payload.value})})}case U.ADD_PRODUCT:var s=a.productList;return a.newProduct.id=Date.now(),a.newProduct.dateIds=e.dateIds,t([a.newProduct]),s.push(a.newProduct),Object(o.a)(Object(o.a)({},a),{},{newProduct:{id:0,mealId:e.mealId,dateIds:{dayId:0,monthId:0,yearId:0},name:"",weight:"",proteins:"",fats:"",carbs:"",kcal:""},productList:s});case U.SET_WARNING:switch(i.payload){case"name":return Object(o.a)(Object(o.a)({},a),{},{warning:[M.name,i.payload]});case"weight":return Object(o.a)(Object(o.a)({},a),{},{warning:[M.weight,i.payload]});default:return Object(o.a)(Object(o.a)({},a),{},{warning:[M.macros,i.payload]})}case U.CLEAR_WARNING:return Object(o.a)(Object(o.a)({},a),{},{warning:["",i.payload]});case U.REMOVE_PRODUCT:var r=a.productList,c=i.payload;return n(c),c.forEach((function(e){r.forEach((function(t,n){Number(t.id)===Number(e)&&r.splice(n,1)}))})),Object(o.a)(Object(o.a)({},a),{},{productList:r});case U.ADD_TO_SUMMARY:switch(i.payload.ingredient){case"proteins":return Object(o.a)(Object(o.a)({},a),{},{summary:Object(o.a)(Object(o.a)({},a.summary),{},{proteins:a.summary.proteins+Number(i.payload.value)})});case"fats":return Object(o.a)(Object(o.a)({},a),{},{summary:Object(o.a)(Object(o.a)({},a.summary),{},{fats:a.summary.fats+Number(i.payload.value)})});case"carbs":return Object(o.a)(Object(o.a)({},a),{},{summary:Object(o.a)(Object(o.a)({},a.summary),{},{carbs:a.summary.carbs+Number(i.payload.value)})});case"kcal":return Object(o.a)(Object(o.a)({},a),{},{summary:Object(o.a)(Object(o.a)({},a.summary),{},{kcal:a.summary.kcal+Number(i.payload.value)})})}case U.SUB_FROM_SUMMARY:switch(i.payload.ingredient){case"proteins":return Object(o.a)(Object(o.a)({},a),{},{summary:Object(o.a)(Object(o.a)({},a.summary),{},{proteins:a.summary.proteins-Number(i.payload.value)})});case"fats":return Object(o.a)(Object(o.a)({},a),{},{summary:Object(o.a)(Object(o.a)({},a.summary),{},{fats:a.summary.fats-Number(i.payload.value)})});case"carbs":return Object(o.a)(Object(o.a)({},a),{},{summary:Object(o.a)(Object(o.a)({},a.summary),{},{carbs:a.summary.carbs-Number(i.payload.value)})});case"kcal":return Object(o.a)(Object(o.a)({},a),{},{summary:Object(o.a)(Object(o.a)({},a.summary),{},{kcal:a.summary.kcal-Number(i.payload.value)})})}case U.ADD_PRODUCT_TO_PRODUCTLIST:return Object(o.a)(Object(o.a)({},a),{},{productList:[].concat(Object(d.a)(a.productList),[i.payload])});case U.CLEAR_PRODUCTLIST_BEFORE_DAY_CHANGING:return Object(o.a)(Object(o.a)({},a),{},{productList:[]});default:return console.error("Unknown action type: ".concat(i.type))}}),a),_=Object(r.a)(c,2),u=_[0],m=_[1],b=Object(l.useState)(!1),w=Object(r.a)(b,2),h=w[0],j=w[1],g=function(){var t=Object(s.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y(),t.prev=1,t.next=4,Object(f.e)(Object(f.b)(Te,"users"));case 4:t.sent.forEach((function(t){t.id===e.userId&&t.data().productList&&t.data().productList.forEach((function(t){t.mealId===e.mealId&&t.dateIds.dayId===e.dateIds.dayId&&t.dateIds.monthId===e.dateIds.monthId&&t.dateIds.yearId===e.dateIds.yearId&&m({type:U.ADD_PRODUCT_TO_PRODUCTLIST,payload:t})}))})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}(),y=function(){m({type:U.CLEAR_PRODUCTLIST_BEFORE_DAY_CHANGING})};Object(l.useEffect)((function(){y(),g()}),[e.userId,e.dateIds]),Object(l.useEffect)((function(){y(),g()}),[e.isSettingsOpened]),Object(l.useEffect)((function(){var e=function(e,t){e&&m({type:t})};e(u.isMealOpened,U.NEGATE_MEAL_STATE),e(u.isAddingWindowOpened,U.NEGATE_ADDING_WINDOW_STATE),e(u.isRemovingWindowOpened,U.NEGATE_REMOVING_WINDOW_STATE)}),[e.userId,e.dateIds]),Object(l.useEffect)((function(){e.updateGauges(u.summary,e.mealId)}),[u.summary]),Object(l.useEffect)((function(){var e=function(e){var t=document.querySelectorAll(".meal"),n=document.querySelector(".wrapper"),a=document.querySelector(".center-section");t.forEach((function(t){t.querySelector(".meal__buttons-section").style.pointerEvents=e,n.style.pointerEvents=e,a.style.overflowY="none"===e?"hidden":"auto"}))};u.isAddingWindowOpened||u.isRemovingWindowOpened?e("none"):e("auto")}),[u.isAddingWindowOpened,u.isRemovingWindowOpened]);var O=function(e){Object.keys(e).forEach((function(t){m({type:U.ADD_TO_SUMMARY,payload:{ingredient:t,value:e[t]}})}))},x=function(e){Object.keys(e).forEach((function(t){m({type:U.SUB_FROM_SUMMARY,payload:{ingredient:t,value:e[t]}})}))},N=function(){m({type:U.NEGATE_ADDING_WINDOW_STATE})},A=function(){m({type:U.NEGATE_REMOVING_WINDOW_STATE})};return Object(p.jsxs)("div",{className:"meal",style:u.isMealOpened&&window.innerWidth>768?{left:"-10px"}:{left:"0px"},children:[Object(p.jsxs)("section",{className:"meal__top-section",onClick:"Log in"===e.userStatus?e.loginShortcut:function(){m({type:U.NEGATE_MEAL_STATE})},children:[Object(p.jsx)("h2",{className:"meal__top-section__meal-title",children:e.name}),Object(p.jsxs)("ul",{className:"meal__top-section__meal-stats-list",children:[Object(p.jsxs)("li",{className:"meal__top-section__meal-stats-list__item",children:[u.summary.proteins," g"]}),Object(p.jsxs)("li",{className:"meal__top-section__meal-stats-list__item",children:[u.summary.fats," g"]}),Object(p.jsxs)("li",{className:"meal__top-section__meal-stats-list__item",children:[u.summary.carbs," g"]}),Object(p.jsxs)("li",{className:"meal__top-section__meal-stats-list__item",children:[u.summary.kcal," kcal"]})]})]}),0!==u.productList.length?Object(p.jsx)("section",{className:"meal__products-section",style:u.isMealOpened?{display:"flex"}:{display:"none"},children:u.productList.map((function(e){return Object(p.jsx)(P,{name:e.name,weight:e.weight,proteins:e.proteins,fats:e.fats,carbs:e.carbs,kcal:e.kcal,addIngredientsFunction:O,subIngredientsFunction:x},e.id)}))}):null,Object(p.jsx)("section",{className:"meal__buttons-section",style:u.isMealOpened?{display:"flex"}:{display:"none"},children:Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{className:u.productList.length?"meal__buttons-section__remove-button":"meal__buttons-section__remove-button meal__buttons-section__remove-button--disabled",onClick:u.productList.length?A:null,disabled:!(!u.isAddingWindowOpened&&!u.isRemovingWindowOpened),children:"Remove"}),Object(p.jsx)("button",{className:"meal__buttons-section__add-button",onClick:N,disabled:!(!u.isAddingWindowOpened&&!u.isRemovingWindowOpened),children:"Add"})]})}),u.isAddingWindowOpened?Object(p.jsx)(T,{data:{isPlaceholderEnabled:h,name:u.newProduct.name,weight:u.newProduct.weight,proteins:u.newProduct.proteins,fats:u.newProduct.fats,carbs:u.newProduct.carbs,kcal:u.newProduct.kcal},warning:u.warning,handleOnChange:function(e){var t=function(){m({type:U.CHANGE_NEW_PRODUCT_DATA,payload:{key:e.target.id,value:""}}),m({type:U.SET_WARNING,payload:e.target.id})},n=function(){m({type:U.CHANGE_NEW_PRODUCT_DATA,payload:{key:e.target.id,value:e.target.value}}),m({type:U.CLEAR_WARNING,payload:e.target.id})};"name"===e.target.id?/[a-z\s]/i.test(e.target.value[e.target.value.length-1])?n():t():/[0-9]/.test(e.target.value[e.target.value.length-1])?/^[0]{1}/.test(e.target.value)?"weight"===e.target.id?t():(m({type:U.CHANGE_NEW_PRODUCT_DATA,payload:{key:e.target.id,value:"0"}}),m({type:U.CLEAR_WARNING,payload:e.target.id})):n():t()},handleFormClearing:function(){m({type:U.CHANGE_NEW_PRODUCT_DATA,payload:{key:"name",value:""}}),m({type:U.CHANGE_NEW_PRODUCT_DATA,payload:{key:"weight",value:""}}),m({type:U.CHANGE_NEW_PRODUCT_DATA,payload:{key:"proteins",value:""}}),m({type:U.CHANGE_NEW_PRODUCT_DATA,payload:{key:"fats",value:""}}),m({type:U.CHANGE_NEW_PRODUCT_DATA,payload:{key:"carbs",value:""}}),m({type:U.CHANGE_NEW_PRODUCT_DATA,payload:{key:"kcal",value:""}}),j(!1)},handleProductAdding:function(e){e.preventDefault(),setTimeout((function(){m({type:U.ADD_PRODUCT})}),10),m({type:U.NEGATE_ADDING_WINDOW_STATE})},handleAddWindow:N,handlePredefinedProductsAdding:function(n){var a=[];(a=n.map((function(t,n){return Object(o.a)(Object(o.a)({},t),{},{mealId:e.mealId,dateIds:e.dateIds,id:Date.now()+10*n})}))).forEach((function(e){m({type:U.ADD_PRODUCT_TO_PRODUCTLIST,payload:e})})),t(a,!0),m({type:U.NEGATE_ADDING_WINDOW_STATE})}}):null,u.isRemovingWindowOpened?Object(p.jsx)(W,{list:u.productList,handleRemoving:function(e){m({type:U.REMOVE_PRODUCT,payload:e}),m({type:U.NEGATE_REMOVING_WINDOW_STATE})},handleRemoveWindow:A}):null]})}n(34);function L(e){return Object(p.jsxs)("div",{className:e.isKcal?"right-section__gauge-container right-section__gauge-container--kcal":"right-section__gauge-container",children:[Object(p.jsx)("div",{className:e.isKcal?"right-section__gauge-container__bar right-section__gauge-container__bar--kcal":"right-section__gauge-container__bar",style:e.percent<100?function(){var t=2.7*e.percent;return t<90?{transform:"rotate(".concat(t,"deg)")}:t>=90&&t<180?{transform:"rotate(".concat(t,"deg)"),borderRightColor:"#ffffff80"}:t>=180?{transform:"rotate(".concat(t,"deg)"),borderRightColor:"#ffffff80",borderTopColor:"#ffffff80"}:void 0}():{borderColor:"#e00000"}}),Object(p.jsxs)("div",{className:e.isKcal?"right-section__gauge-container__text right-section__gauge-container__text--kcal":"right-section__gauge-container__text",children:[Object(p.jsxs)("h4",{className:e.isKcal?"right-section__gauge-container__text__amount right-section__gauge-container__text__amount--kcal":"right-section__gauge-container__text__amount",children:[e.amount," ",e.isKcal?null:"g"]}),Object(p.jsxs)("h6",{className:e.isKcal?"right-section__gauge-container__text__name right-section__gauge-container__text__name--kcal":"right-section__gauge-container__text__name",children:[e.name," "]}),Object(p.jsxs)("p",{className:e.isKcal?"right-section__gauge-container__text__percent right-section__gauge-container__text__percent--kcal":"right-section__gauge-container__text__percent",children:[e.percent," %"]}),Object(p.jsxs)("h5",{className:e.isKcal?"right-section__gauge-container__text__left right-section__gauge-container__text__left--kcal":"right-section__gauge-container__text__left",children:[e.left," ",e.isKcal?null:"g"," left"]})]})]})}n(46);function F(e){Object(l.useEffect)((function(){var e=document.querySelector(".wrapper"),t=document.querySelector(".window__main__section__iframe"),n=document.querySelector("#root"),a=document.querySelector(".left-section__hamburger");return e.style.filter="blur(5px) opacity(40%) grayscale(100%)",e.style.pointerEvents="none",setTimeout((function(){t.style.opacity="1"}),500),n.style.zIndex=97,a.style.display="none",function(){e.style.filter="blur(0px) opacity(100%) grayscale(0%)",e.style.pointerEvents="auto",n.style.zIndex=99,window.innerWidth<769&&(a.style.display="block")}}),[]);var t=function(){e.handleMoreWindow()};return u.a.createPortal(Object(p.jsxs)("div",{className:"window window--more",children:[Object(p.jsxs)("header",{className:"window__header",children:[Object(p.jsx)("h2",{className:"window__header__heading",children:e.title}),Object(p.jsx)("button",{className:"window__header__back-button",onClick:t,children:Object(p.jsx)(y.a,{})})]}),Object(p.jsxs)("main",{className:"window__main",children:[Object(p.jsxs)("section",{className:"window__main__section",children:[Object(p.jsx)("h3",{className:"window__main__section__title",children:"Description"}),Object(p.jsx)("p",{className:"window__main__section__text",children:e.description})]}),Object(p.jsxs)("section",{className:"window__main__section window__main__section--halfed",children:[Object(p.jsxs)("aside",{className:"window__main__section__split-left",children:[Object(p.jsx)("h3",{className:"window__main__section__title",children:"Difficulty"}),Object(p.jsxs)("div",{className:"exercise__top-section__grade-container",style:{marginBottom:"15px"},children:[Object(p.jsx)("span",{className:"exercise__top-section__grade-container__point exercise__top-section__grade-container__point--filled"}),Object(p.jsx)("span",{className:e.difficulty>=2?"exercise__top-section__grade-container__point exercise__top-section__grade-container__point--filled":"exercise__top-section__grade-container__point"}),Object(p.jsx)("span",{className:3===e.difficulty?"exercise__top-section__grade-container__point exercise__top-section__grade-container__point--filled":"exercise__top-section__grade-container__point"})]}),Object(p.jsx)("p",{className:"window__main__section__text",children:e.typeOfExercise})]}),Object(p.jsxs)("aside",{className:"window__main__section__split-right",children:[Object(p.jsx)("h3",{className:"window__main__section__title",children:"Muscles"}),Object(p.jsx)("ul",{className:"window__main__section__list",children:e.muscles.map((function(e,t){return Object(p.jsx)("li",{className:"window__main__section__list__item",children:e},t)}))})]})]}),Object(p.jsxs)("section",{className:"window__main__section",children:[Object(p.jsx)("h3",{className:"window__main__section__title",children:"Proper form"}),Object(p.jsx)("iframe",{className:"window__main__section__iframe",allowFullScreen:!0,width:"100%",height:"300px",src:e.properFormLink})]})]}),Object(p.jsxs)("section",{className:"window__bottom",children:[Object(p.jsx)("div",{}),Object(p.jsx)("button",{className:"window__bottom__primary-button",type:"button",onClick:t,children:"Back"})]})]}),document.getElementById("portal"))}var z="Weight must be a positive number",G="Reps must be a positive number";function B(e){var t="negate-exercise-opened",n="negate-add-window-state",a="negate-remove-window-state",c="negate-more-window-state",_="sort-serieslist",u="change-new-serie-data",m="update-lasttime-data",b="set-warning",w="clear-warning",h="add-serie",j="remove-serie",g="add-serie-to-serieslist",y="clear-serieslist-before-day-change",O={isExerciseOpened:!1,isAddWindowOpened:!1,isRemoveWindowOpened:!1,isMoreWindowOpened:!1,lastTimeData:{training:{weight:"First time",reps:"First time"},serie:{weight:"First time",reps:"First time"}},seriesList:[],warning:["",""],newSerie:{id:0,exerciseId:e.exerciseId,trainingId:0,dateIds:{dayId:0,monthId:0,yearId:0},serieCount:"",weight:"",reps:""}},x=function(){var t=Object(s.a)(i.a.mark((function t(n,a){var s,r,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=[],r=a,c=1,t.prev=3,t.next=6,Object(f.e)(Object(f.b)(Te,"users"));case 6:t.sent.forEach((function(t){t.id===e.userId&&t.data().seriesList&&(s=t.data().seriesList)})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),console.error(t.t0);case 13:return n.forEach((function(e){s.forEach((function(t,n){Number(t.id)===Number(e)&&s.splice(n,1)}))})),r.forEach((function(e){e.serieCount=c,s.forEach((function(t){t.id===e.id&&(t.serieCount=c)})),c++})),t.prev=15,t.next=18,Object(f.g)(Object(f.c)(Te,"users",String(e.userId)),{seriesList:s},{merge:!0});case 18:t.next=23;break;case 20:t.prev=20,t.t1=t.catch(15),console.error(t.t1);case 23:case"end":return t.stop()}}),t,null,[[3,10],[15,20]])})));return function(e,n){return t.apply(this,arguments)}}(),N=function(){var t=Object(s.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[],t.prev=1,t.next=4,Object(f.e)(Object(f.b)(Te,"users"));case 4:t.sent.forEach((function(t){t.id===e.userId&&t.data().seriesList&&(a=t.data().seriesList)})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0);case 11:return a.push(n),t.prev=12,t.next=15,Object(f.g)(Object(f.c)(Te,"users",String(e.userId)),{seriesList:a},{merge:!0});case 15:t.next=20;break;case 17:t.prev=17,t.t1=t.catch(12),console.error(t.t1);case 20:case"end":return t.stop()}}),t,null,[[1,8],[12,17]])})));return function(e){return t.apply(this,arguments)}}(),A=function(e){var t={dayId:0,monthId:0,yearId:0};return 1===e.dayId&&1===e.monthId?(t.dayId=31,t.monthId=12,t.yearId=e.yearId-1):1===e.dayId&&3===e.monthId?(e.yearId%4===0&&e.yearId%100!==0||e.yearId%400===0?t.dayId=29:t.dayId=28,t.monthId=2,t.yearId=e.yearId):1!==e.dayId||4!==e.monthId&&6!==e.monthId&&8!==e.monthId&&9!==e.monthId&&11!==e.monthId?1===e.dayId?(t.dayId=30,t.monthId=e.monthId-1,t.yearId=e.yearId):(t.dayId=e.dayId-1,t.monthId=e.monthId,t.yearId=e.yearId):(t.dayId=31,t.monthId=e.monthId-1,t.yearId=e.yearId),t},v=Object(l.useReducer)((function(i,s){switch(s.type){case t:return Object(o.a)(Object(o.a)({},i),{},{isExerciseOpened:!i.isExerciseOpened});case n:return Object(o.a)(Object(o.a)({},i),{},{isAddWindowOpened:!i.isAddWindowOpened});case a:return Object(o.a)(Object(o.a)({},i),{},{isRemoveWindowOpened:!i.isRemoveWindowOpened});case c:return Object(o.a)(Object(o.a)({},i),{},{isMoreWindowOpened:!i.isMoreWindowOpened});case u:switch(s.payload.key){case"weight":return Object(o.a)(Object(o.a)({},i),{},{newSerie:Object(o.a)(Object(o.a)({},i.newSerie),{},{weight:s.payload.value})});case"reps":return Object(o.a)(Object(o.a)({},i),{},{newSerie:Object(o.a)(Object(o.a)({},i.newSerie),{},{reps:s.payload.value})})}case h:var r=i.seriesList,l=1;return i.newSerie.id=Date.now(),i.newSerie.dateIds=e.dateIds,N(i.newSerie),r.push(i.newSerie),r.forEach((function(e){e.serieCount=l,l++})),Object(o.a)(Object(o.a)({},i),{},{newSerie:{id:0,exerciseId:e.exerciseId,dateIds:{dayId:0,monthId:0,yearId:0},serieCount:"",weight:"",reps:""},seriesList:r});case j:var p=i.seriesList,O=s.payload,f=1;return O.forEach((function(e){p.forEach((function(t,n){Number(t.id)===Number(e)&&p.splice(n,1)}))})),p.forEach((function(e){e.serieCount=f,f++})),x(O,p),Object(o.a)(Object(o.a)({},i),{},{seriesList:p});case b:switch(s.payload){case"weight":return Object(o.a)(Object(o.a)({},i),{},{warning:[z,s.payload]});case"reps":return Object(o.a)(Object(o.a)({},i),{},{warning:[G,s.payload]})}case w:return Object(o.a)(Object(o.a)({},i),{},{warning:["",s.payload]});case g:return Object(o.a)(Object(o.a)({},i),{},{seriesList:[].concat(Object(d.a)(i.seriesList),[s.payload])});case _:var v=function(){for(var e=1,t=[];t.length!==i.seriesList.length;)i.seriesList.forEach((function(n){n.serieCount===e&&t.push(n)})),e++;return{v:Object(o.a)(Object(o.a)({},i),{},{seriesList:t})}}();if("object"===typeof v)return v.v;case y:return Object(o.a)(Object(o.a)({},i),{},{seriesList:[]});case m:var I=function(){var t=0,n=0,a={weight:"First serie",reps:"First serie"},s={weight:"First training",reps:"First training"};0!==i.seriesList.length&&(i.seriesList.forEach((function(e,a){e.serieCount>t&&(t=e.serieCount,n=a)})),a={weight:i.seriesList[n].weight,reps:i.seriesList[n].reps});var r=[],c=JSON.parse(localStorage.getItem("seriesBackup")),d={},l=e.dateIds;if(c&&(c.forEach((function(n){n.exerciseId===e.exerciseId&&n.serieCount===t+1&&(n.dateIds.dayId<e.dateIds.dayId&&n.dateIds.monthId<e.dateIds.monthId&&n.dateIds.yearId===e.dateIds.yearId||n.dateIds.dayId<e.dateIds.dayId&&n.dateIds.monthId===e.dateIds.monthId&&n.dateIds.yearId===e.dateIds.yearId||n.dateIds.dayId>=e.dateIds.dayId&&n.dateIds.monthId<e.dateIds.monthId&&n.dateIds.yearId===e.dateIds.yearId||n.dateIds.dayId>=e.dateIds.dayId&&n.dateIds.monthId>=e.dateIds.monthId&&n.dateIds.yearId<e.dateIds.yearId)&&r.push(n)})),0!==r.length))for(;;)if(l=A(l),r.forEach((function(e){l.dayId===e.dateIds.dayId&&l.monthId===e.dateIds.monthId&&l.yearId===e.dateIds.yearId&&(d=e)})),void 0!==d.weight){s={weight:d.weight,reps:d.reps};break}return{v:Object(o.a)(Object(o.a)({},i),{},{lastTimeData:{training:s,serie:a}})}}();if("object"===typeof I)return I.v;default:return console.error("Unknown action type: ".concat(s.type))}}),O),I=Object(r.a)(v,2),E=I[0],k=I[1],S=function(){k({type:y})},D=function(){var t=Object(s.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(),t.prev=1,t.next=4,Object(f.e)(Object(f.b)(Te,"users"));case 4:t.sent.forEach((function(t){t.id===e.userId&&t.data().seriesList&&t.data().seriesList.forEach((function(t){t.exerciseId===e.exerciseId&&t.dateIds.dayId===e.dateIds.dayId&&t.dateIds.monthId===e.dateIds.monthId&&t.dateIds.yearId===e.dateIds.yearId&&k({type:g,payload:t})}))})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}();Object(l.useEffect)((function(){S(),D(),k({type:_})}),[e.userId,e.dateIds]),Object(l.useEffect)((function(){var e=function(e,t){e&&k({type:t})};e(E.isExerciseOpened,t),e(E.isAddWindowOpened,n),e(E.isRemoveWindowOpened,a),e(E.isMoreWindowOpened,c)}),[e.userId,e.dateIds]),Object(l.useEffect)(Object(s.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(){var t=Object(s.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.prev=1,t.next=4,Object(f.e)(Object(f.b)(Te,"users"));case 4:t.sent.forEach((function(t){t.id===e.userId&&t.data().seriesList&&(n=t.data().seriesList)})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0);case 11:return t.abrupt("return",n);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}(),t.t0=localStorage,t.t1=JSON,t.next=5,n();case 5:t.t2=t.sent,t.t3=t.t1.stringify.call(t.t1,t.t2),t.t0.setItem.call(t.t0,"seriesBackup",t.t3);case 8:case"end":return t.stop()}}),t)}))),[e.dateIds]),Object(l.useEffect)((function(){var e=function(e){var t=document.querySelectorAll(".meal"),n=document.querySelector(".wrapper"),a=document.querySelector(".center-section");t.forEach((function(t){t.querySelector(".meal__buttons-section").style.pointerEvents=e,n.style.pointerEvents=e,a.style.overflowY="none"===e?"hidden":"auto"}))};E.isAddWindowOpened||E.isRemoveWindowOpened||E.isMoreWindowOpened?e("none"):e("auto")}),[E.isAddWindowOpened,E.isRemoveWindowOpened,E.isMoreWindowOpened]),Object(l.useEffect)((function(){E.isAddWindowOpened&&k({type:m}),R()}),[E.isAddWindowOpened]);var C,P=function(){k({type:n})},M=function(){k({type:a})},U=function(){k({type:c})},R=function(){var t=[],n=JSON.parse(localStorage.getItem("seriesBackup")),a=[],i={},s=0,r=0,c=e.dateIds;if(n&&(n.forEach((function(n){n.exerciseId===e.exerciseId&&(n.dateIds.dayId<e.dateIds.dayId&&n.dateIds.monthId<e.dateIds.monthId&&n.dateIds.yearId===e.dateIds.yearId||n.dateIds.dayId<e.dateIds.dayId&&n.dateIds.monthId===e.dateIds.monthId&&n.dateIds.yearId===e.dateIds.yearId||n.dateIds.dayId>=e.dateIds.dayId&&n.dateIds.monthId<e.dateIds.monthId&&n.dateIds.yearId===e.dateIds.yearId||n.dateIds.dayId>=e.dateIds.dayId&&n.dateIds.monthId>=e.dateIds.monthId&&n.dateIds.yearId<e.dateIds.yearId)&&t.push(n)})),0!==t.length))for(;c=A(c),t.forEach((function(e){c.dayId===e.dateIds.dayId&&c.monthId===e.dateIds.monthId&&c.yearId===e.dateIds.yearId&&a.push(e)})),0===a.length;);var o=L(a);return r=L(E.seriesList)-o,s=o?(r/o*100).toFixed(2):"",o>0?r>0?(i.top="".concat(r.toFixed(2)," kg more"),i.bottom="".concat(s,"% more than last time")):0===r?(i.top="The same result as last time",i.bottom=""):(r*=-1,s*=-1,i.top="".concat(r.toFixed(2)," kg less"),i.bottom="".concat(s,"% less than last time")):(i.top="First training, don't give up!",i.bottom=""),i},L=function(e){var t=0;return e.forEach((function(e){t+=Number(e.weight)*Number(e.reps)})),t},B=function(e){var t=0;return e.forEach((function(e){t+=Number(e.reps)})),t};return Object(p.jsxs)("div",{className:"meal exercise",style:E.isExerciseOpened&&window.innerWidth>768?{left:"-10px"}:{left:"0px"},children:[Object(p.jsxs)("section",{className:"meal__top-section exercise__top-section",onClick:"Log in"===e.userStatus?e.loginShortcut:function(){k({type:t})},children:[Object(p.jsx)("h2",{className:"meal__top-section__meal-title",children:e.name}),Object(p.jsxs)("div",{className:"exercise__top-section__grade-container",title:"Exercise difficulty",children:[Object(p.jsx)("span",{className:"exercise__top-section__grade-container__point exercise__top-section__grade-container__point--filled"}),Object(p.jsx)("span",{className:e.difficulty>=2?"exercise__top-section__grade-container__point exercise__top-section__grade-container__point--filled":"exercise__top-section__grade-container__point"}),Object(p.jsx)("span",{className:3===e.difficulty?"exercise__top-section__grade-container__point exercise__top-section__grade-container__point--filled":"exercise__top-section__grade-container__point"})]})]}),0!==E.seriesList.length?Object(p.jsxs)("section",{className:"meal__products-section exercise__series-section",style:E.isExerciseOpened?{display:"flex"}:{display:"none"},children:[Object(p.jsx)("ul",{className:"exercise__series-section__list",children:E.seriesList.map((function(e){return Object(p.jsxs)("li",{className:"exercise__series-section__list__item",children:[Object(p.jsxs)("p",{className:"exercise__series-section__list__item__count",children:["Serie ",e.serieCount]}),Object(p.jsxs)("p",{className:"exercise__series-section__list__item__weight",children:[e.weight," kg"]}),Object(p.jsxs)("p",{className:"exercise__series-section__list__item__reps",children:[e.reps," reps"]})]},e.id)}))}),Object(p.jsxs)("ul",{className:"exercise__series-section__summary",children:[Object(p.jsxs)("li",{className:"exercise__series-section__summary__item",children:[Object(p.jsx)("p",{className:"exercise__series-section__summary__item__count",children:"Total"}),Object(p.jsxs)("p",{className:"exercise__series-section__summary__item__weight",children:[L(E.seriesList)," kg"]}),Object(p.jsxs)("p",{className:"exercise__series-section__summary__item__reps",children:[B(E.seriesList)," reps"]})]}),Object(p.jsxs)("li",{className:"exercise__series-section__summary__item",children:[Object(p.jsxs)("p",{className:"exercise__series-section__list__item__count",children:[Object(p.jsx)("span",{children:R().top}),Object(p.jsx)("span",{children:R().bottom})]}),Object(p.jsxs)("p",{className:"exercise__series-section__list__item__reps exercise__series-section__list__item__reps--stats",children:[(C=E.seriesList,(L(C)/B(C)).toFixed(2))," kg per rep"]})]})]})]}):null,Object(p.jsxs)("section",{className:"meal__buttons-section exercise__buttons-section",style:E.isExerciseOpened?{display:"flex"}:{display:"none"},children:[Object(p.jsx)("button",{className:"meal__buttons-section__tertiary",onClick:U,children:"More"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{className:E.seriesList.length?"meal__buttons-section__remove-button":"meal__buttons-section__remove-button--disabled",onClick:E.seriesList.length?M:null,disabled:!(!E.isAddWindowOpened&&!E.isRemoveWindowOpened),children:"Remove"}),Object(p.jsx)("button",{className:"meal__buttons-section__add-button",onClick:P,disabled:!(!E.isAddWindowOpened&&!E.isRemoveWindowOpened),children:"Add"})]})]}),E.isAddWindowOpened?Object(p.jsx)(T,{type:"exercises",handleAddWindow:P,data:{weight:E.newSerie.weight,reps:E.newSerie.reps},warning:E.warning,handleOnChange:function(e){var t=function(){k({type:u,payload:{key:e.target.id,value:""}}),k({type:b,payload:e.target.id})};/[0-9]/.test(e.target.value[e.target.value.length-1])?/^[0]{1}/.test(e.target.value)?t():(k({type:u,payload:{key:e.target.id,value:e.target.value}}),k({type:w,payload:e.target.id})):t()},handleFormClearing:function(){k({type:u,payload:{key:"weight",value:""}}),k({type:u,payload:{key:"reps",value:""}})},handleSerieAdding:function(e){e.preventDefault(),setTimeout((function(){k({type:h})}),10),k({type:n})},lastTimeData:E.lastTimeData}):null,E.isRemoveWindowOpened?Object(p.jsx)(W,{type:"exercises",list:E.seriesList,handleRemoving:function(e){k({type:j,payload:e}),k({type:a})},handleRemoveWindow:M}):null,E.isMoreWindowOpened?Object(p.jsx)(F,{type:"exercises",title:e.name,description:e.description,difficulty:e.difficulty,typeOfExercise:e.typeOfExercise,muscles:e.muscles,properFormLink:e.properFormLink,handleMoreWindow:U}):null]})}var Z=[{id:0,name:"Bench Press",description:"The bench press is an upper-body weight training exercise in which the trainee\n                  presses a weight upwards while lying on a weight training bench. \n                  The exercise uses the pectoralis major, the anterior deltoids, and the triceps,\n                  among other stabilizing muscles. A barbell is generally used to hold the weight, \n                  but a pair of dumbbells can also be used.",difficulty:2,typeOfExercise:"Compound exercise",muscles:["Chest","Shoulders","Arms"],properFormLink:"https://www.youtube.com/embed/XSza8hVTlmM"},{id:1,name:"Deadlift",description:"Deadlift refers to the lifting of dead weight (weight without momentum),\n                  such as weights lying on the ground. It is one of the few standard weight training exercises\n                  in which all repetitions begin with dead weight. In most other lifts, there is an eccentric \n                  (lowering of the weight) phase followed by the concentric (lifting of the weight) phase. \n                  During these exercises, a small amount of energy is stored in the stretched muscles and \n                  tendons in the eccentric phase if the lifter is not flexible beyond the range of motion.\n                  Although this exercise uses the legs and hips as the primary movers, it can also be considered a back exercise.",difficulty:3,typeOfExercise:"Compound exercise",muscles:["Legs","Back","Core"],properFormLink:"https://www.youtube.com/embed/op9kVnSso6Q"},{id:2,name:"Squat",description:"A squat is a strength exercise in which the trainee lowers their hips from a standing position\n                  and then stands back up. During the descent of a squat, the hip and knee joints flex while\n                  the ankle joint dorsiflexes; conversely the hip and knee joints extend and the ankle joint\n                  plantarflexes when standing up. Squats are considered a vital exercise for increasing the strength and size of the lower body\n                  muscles as well as developing core strength. The primary agonist muscles used during the squat are\n                  the quadriceps femoris, the adductor magnus, and the gluteus maximus.",difficulty:3,typeOfExercise:"Compound exercise",muscles:["Legs","Core"],properFormLink:"https://www.youtube.com/embed/ultWZbUMPL8"},{id:3,name:"Pull-up",description:"A pull-up is an upper-body strength exercise. The pull-up is a closed-chain movement where \n                  the body is suspended by the hands and pulls up. As this happens, the elbows \n                  flex and the shoulders adduct and extend to bring the elbows to the torso.",difficulty:2,typeOfExercise:"Compound exercise",muscles:["Upper back","Arms"],properFormLink:"https://www.youtube.com/embed/HRV5YKKaeVw"},{id:4,name:"Push-up",description:"A push-up is a common calisthenics exercise beginning from the prone position. \n                  By raising and lowering the body using the arms, push-ups exercise the pectoral muscles, \n                  triceps, and anterior deltoids, with ancillary benefits to the rest of the deltoids, \n                  serratus anterior, coracobrachialis and the midsection as a whole. Push-ups are a basic \n                  exercise used in civilian athletic training or physical education and commonly in military \n                  physical training.",difficulty:1,typeOfExercise:"Compound exercise",muscles:["Chest","Shoulders","Arms","Core"],properFormLink:"https://www.youtube.com/embed/0pkjOk0EiAk"},{id:5,name:"Overhead Press",description:"The overhead press (abbreviated OHP), also referred to as a shoulder press, military press,\n                  or simply the press, is a weight training exercise with many variations. It is typically performed\n                  while either standing or sitting sometimes also when squatting, in which a weight is pressed straight\n                  upwards from racking position until the arms are locked out overhead, while the legs, lower back and\n                  abs maintain balance. The exercise helps build muscular shoulders with bigger arms, and is one\n                  of the most difficult compound upper-body exercises.",difficulty:2,typeOfExercise:"Compound exercise",muscles:["Shoulders","Arms","Core"],properFormLink:"https://www.youtube.com/embed/2yjwXTZQDDI"},{id:6,name:"Bent-over Row",description:"A bent-over row (or barbell row) is a weight training exercise \n                  that targets a variety of back muscles. Which ones are targeted varies on form. \n                  The bent over row is often used for both bodybuilding and powerlifting. \n                  It is a good exercise for increasing strength and size",difficulty:2,typeOfExercise:"Compound exercise",muscles:["Back","Arms","Core"],properFormLink:"https://www.youtube.com/embed/kBWAon7ItDw"},{id:7,name:"Biceps Curl",description:"Biceps curl is a general term for a series of strength exercises \n                  that involve brachioradialis, front deltoid and the main target on biceps brachii.\n                  Includes variations using barbell, dumbbell and resistance band, etc. The common point\n                  amongst them is the trainee lifting a certain amount of weight to contracting the biceps\n                  brachii, and tuck in their arms to the torso during the concentric phase. Once the biceps brachii\n                  is fully contracted, then return the weight to starting position during the eccentric phase.",difficulty:1,typeOfExercise:"Isolated exercise",muscles:["Biceps","Arms"],properFormLink:"https://www.youtube.com/embed/ykJmrZ5v0Oo"},{id:8,name:"French Press",description:"Lying triceps extensions, also known as skull crushers and French extensions\n                  or French presses, are a strength exercise used in many different forms of strength training.\n                  Lying triceps extensions are one of the most stimulating exercises to the entire triceps muscle\n                  group in the upper arm. It works the triceps from the elbow all the way to the latissimus dorsi.\n                  Due to its full use of the Triceps muscle group, the lying triceps extensions are used by many\n                  as part of their training regimen.",difficulty:1,typeOfExercise:"Isolated exercise",muscles:["Triceps","Arms"],properFormLink:"https://www.youtube.com/embed/JImgCWzCHwI"},{id:9,name:"Running",description:"Running is a method of terrestrial locomotion allowing humans and other animals\n                  to move rapidly on foot. Running is a type of gait characterized by an aerial phase in which\n                  all feet are above the ground (though there are exceptions). A feature of a running\n                  body from the viewpoint of spring-mass mechanics is that changes in kinetic and potential energy\n                  within a stride occur simultaneously, with energy storage accomplished by springy tendons and\n                  passive muscle elasticity. The term running can refer to any of a variety of speeds ranging from jogging to sprinting. ",difficulty:1,typeOfExercise:"Aerobic exercise",muscles:["Legs","Core"],properFormLink:"https://www.youtube.com/embed/brFHyOtTwH4"}],q={isCategoryOpened:!1,isAccountCategory:!1,isNutritionCategory:!0,isTrainingCategory:!1,warning:["",""],settingsData:{account:{},nutrition:{dailyDemand:{kcal:2e3,proteins:120,fats:55,carbs:240},namesOfMeals:{0:"Breakfast",1:"II Breakfast",2:"Lunch",3:"Snack",4:"Dinner",5:"",6:"",7:"",8:"",9:""},numberOfMeals:5},training:{selectedExercises:[0,1,2,3,4]}},clearAllProducts:!1,clearAllSeries:!1,isSettingsChanged:!1},H={"clear-all-products":!1,"reset-nutrition-to-initial":!1,"clear-all-series":!1,"reset-training-to-initial":!1},Y="negate-category-opened",J="change-settings-data",K="load-settings",Q="set-warning",V="clear-warning",X="set-clear-all-products",$="set-clear-all-series",ee="add-exercise-to-selectedexercises",te="remove-exercise-from-selectedexercises",ne="set-settings-changed-state",ae="reset-nutrition-settings-to-initial",ie="reset-training-settings-to-initial",se="set-category",re="set-new-settings",ce="Meal name must be a string of letters only",oe="Number of meals must be a positive number",de="Macronutrient must be a positive number";function le(e){var t=Object(l.useState)(H),n=Object(r.a)(t,2),a=n[0],d=n[1],_=Object(l.useReducer)((function(e,t){switch(t.type){case Y:return Object(o.a)(Object(o.a)({},e),{},{isCategoryOpened:!e.isCategoryOpened});case J:switch(t.payload.key){case"editMealName":return Object(o.a)(Object(o.a)({},e),{},{settingsData:Object(o.a)(Object(o.a)({},e.settingsData),{},{nutrition:Object(o.a)(Object(o.a)({},e.settingsData.nutrition),{},{namesOfMeals:Object(o.a)(Object(o.a)({},e.settingsData.nutrition.namesOfMeals),{},Object(c.a)({},t.payload.index,t.payload.value))})})});case"setMealsNumber":return Object(o.a)(Object(o.a)({},e),{},{settingsData:Object(o.a)(Object(o.a)({},e.settingsData),{},{nutrition:Object(o.a)(Object(o.a)({},e.settingsData.nutrition),{},{numberOfMeals:t.payload.value})})});default:return Object(o.a)(Object(o.a)({},e),{},{settingsData:Object(o.a)(Object(o.a)({},e.settingsData),{},{nutrition:Object(o.a)(Object(o.a)({},e.settingsData.nutrition),{},{dailyDemand:Object(o.a)(Object(o.a)({},e.settingsData.nutrition.dailyDemand),{},Object(c.a)({},t.payload.key,t.payload.value))})})})}case K:var n=JSON.parse(localStorage.getItem("settings"));return Object(o.a)(Object(o.a)({},e),{},{settingsData:n});case re:return Object(o.a)(Object(o.a)({},e),{},{settingsData:t.payload});case X:return Object(o.a)(Object(o.a)({},e),{},{clearAllProducts:t.payload});case $:return Object(o.a)(Object(o.a)({},e),{},{clearAllSeries:t.payload});case ee:var a=e.settingsData.training.selectedExercises;return a.push(t.payload),Object(o.a)(Object(o.a)({},e),{},{settingsData:Object(o.a)(Object(o.a)({},e.settingsData),{},{training:Object(o.a)(Object(o.a)({},e.settingsData.training),{},{selectedExercises:a})})});case te:var i=e.settingsData.training.selectedExercises,s=i.indexOf(t.payload);return i.splice(s,1),Object(o.a)(Object(o.a)({},e),{},{settingsData:Object(o.a)(Object(o.a)({},e.settingsData),{},{training:Object(o.a)(Object(o.a)({},e.settingsData.training),{},{selectedExercises:i})})});case ne:return Object(o.a)(Object(o.a)({},e),{},{isSettingsChanged:t.payload});case ae:return Object(o.a)(Object(o.a)({},e),{},{settingsData:Object(o.a)(Object(o.a)({},e.settingsData),{},{nutrition:q.settingsData.nutrition})});case ie:return Object(o.a)(Object(o.a)({},e),{},{settingsData:Object(o.a)(Object(o.a)({},e.settingsData),{},{training:q.settingsData.training})});case se:var r=t.payload.category;return Object(o.a)(Object(o.a)({},e),{},Object(c.a)({},r,t.payload.value));case Q:switch(t.payload){case"editMealName":return Object(o.a)(Object(o.a)({},e),{},{warning:[ce,t.payload]});case"setMealsNumber":return Object(o.a)(Object(o.a)({},e),{},{warning:[oe,t.payload]});default:return Object(o.a)(Object(o.a)({},e),{},{warning:[de,t.payload]})}case V:return Object(o.a)(Object(o.a)({},e),{},{warning:["",t.payload]});default:return console.error("Unknown action type: ".concat(t.type))}}),q),m=Object(r.a)(_,2),b=m[0],w=m[1],h=function(){var t=Object(s.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(f.g)(Object(f.c)(Te,"users",String(e.userId)),{settings:b.settingsData},{merge:!0});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}(),j=function(){var t=Object(s.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(f.g)(Object(f.c)(Te,"users",String(e.userId)),Object(c.a)({},n,[]),{merge:!0});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=Object(s.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(f.e)(Object(f.b)(Te,"users"));case 3:t.sent.forEach((function(t){t.id===e.userId&&(t.data().settings?(w({type:re,payload:t.data().settings}),localStorage.setItem("settingsBackup",JSON.stringify(t.data().settings))):h())})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();Object(l.useEffect)((function(){g()}),[]),Object(l.useEffect)((function(){var e=document.querySelector(".wrapper"),t=document.querySelector("#root"),n=document.querySelector(".left-section__hamburger");return e.style.filter="blur(5px) opacity(40%) grayscale(100%)",e.style.pointerEvents="none",t.style.zIndex=97,n.style.display="none",function(){e.style.filter="blur(0px) opacity(100%) grayscale(0%)",e.style.pointerEvents="auto",t.style.zIndex=99,window.innerWidth<769&&(n.style.display="block")}}),[]),Object(l.useEffect)((function(){var e=document.querySelector(".window");b.clearAllProducts||b.clearAllSeries?(e.style.filter="blur(5px) opacity(40%) grayscale(100%)",e.style.pointerEvents="none"):(e.style.filter="blur(0px) opacity(100%) grayscale(0%)",e.style.pointerEvents="auto")}),[b.clearAllProducts,b.clearAllSeries]),Object(l.useEffect)((function(){var e=localStorage.getItem("settingsBackup"),t=JSON.stringify(b.settingsData);return w(e===t?{type:ne,payload:!1}:{type:ne,payload:!0}),function(){return w({type:ne,payload:!1})}}),[b.settingsData]),Object(l.useEffect)((function(){for(var e=0;e<Object.keys(a).length;e++){if(!0===Object.values(a)[e]){w({type:ne,payload:!0});break}w({type:ne,payload:!1})}}),[a]);var O=function(){Object.keys(a).forEach((function(e){a[e]=!1}))},x=function(e){e.preventDefault(),a["clear-all-products"]&&w({type:X,payload:!0}),a["reset-nutrition-to-initial"]&&w({type:ae}),a["clear-all-series"]&&w({type:$,payload:!0}),a["reset-training-to-initial"]&&w({type:ie}),w({type:ne,payload:!1}),h(),g(),O()},N=function(t){t.preventDefault(),g(),O(),e.closeWindow()},A=function(e){e.preventDefault(),g(),O()},v=function(e){e.target.style.backgroundColor?"transparent"===e.target.style.backgroundColor?w({type:ee,payload:Number(e.target.id[e.target.id.length-1])}):w({type:te,payload:Number(e.target.id[e.target.id.length-1])}):"transparent"===e.target.children[0].style.backgroundColor?w({type:ee,payload:Number(e.target.id[e.target.id.length-1])}):w({type:te,payload:Number(e.target.id[e.target.id.length-1])})},I=function(e){e.preventDefault(),"editMealName"===e.target.id&&(/[a-z\s]/i.test(e.target.value[e.target.value.length-1])?(w({type:J,payload:{key:e.target.id,index:Number(e.target.attributes["data-key"].value),value:e.target.value}}),w({type:V,payload:e.target.id})):(w({type:J,payload:{key:e.target.id,index:Number(e.target.attributes["data-key"].value),value:""}}),w({type:Q,payload:e.target.id}))),/[0-9]/.test(e.target.value[e.target.value.length-1])?(/^[0]{1}/.test(e.target.value)?(w({type:J,payload:{key:e.target.id,value:1}}),w({type:Q,payload:e.target.id})):w({type:J,payload:{key:e.target.id,value:e.target.value}}),w({type:V,payload:e.target.id})):(w({type:J,payload:{key:e.target.id,value:""}}),w({type:Q,payload:e.target.id}))},E=function(e){d((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(c.a)({},e.target.id,!a[e.target.id]))}))},k=function(e){e.preventDefault(),w({type:se,payload:{category:"isAccountCategory",value:!1}}),w({type:se,payload:{category:"isNutritionCategory",value:!1}}),w({type:se,payload:{category:"isTrainingCategory",value:!1}}),w({type:se,payload:{category:e.target.id,value:!0}}),g(),O()};return u.a.createPortal(Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"window",children:[Object(p.jsxs)("header",{className:"window__header",children:[Object(p.jsx)("h2",{className:"window__header__heading",children:"Settings"}),Object(p.jsx)("button",{className:"window__header__back-button",onClick:N,children:Object(p.jsx)(y.a,{})}),Object(p.jsxs)("button",{className:"window__header__switch",children:[Object(p.jsx)("h3",{className:b.isAccountCategory?"window__header__switch__left window__header__switch__left--selected":"window__header__switch__left",id:"isAccountCategory",onClick:k,children:"Account"}),Object(p.jsx)("h3",{className:b.isNutritionCategory?"window__header__switch__center window__header__switch__center--selected":"window__header__switch__center",id:"isNutritionCategory",onClick:k,children:"Nutrition"}),Object(p.jsx)("h3",{className:b.isTrainingCategory?"window__header__switch__right window__header__switch__right--selected":"window__header__switch__right",id:"isTrainingCategory",onClick:k,children:"Training"})]})]}),Object(p.jsxs)("main",{className:"window__form",children:[b.isAccountCategory&&Object(p.jsxs)("form",{className:"window__main window__main--add",onSubmit:x,children:[Object(p.jsx)("button",{className:b.isSettingsChanged?"window__header__add-button":"window__header__add-button window__header__add-button--disabled",type:"submit",style:{zIndex:11},disabled:!b.isSettingsChanged,children:Object(p.jsx)(y.d,{})}),Object(p.jsx)("section",{className:"window__main__section window__main__section--form",children:Object(p.jsx)("h3",{className:"window__main__section__title",children:"Account"})}),Object(p.jsxs)("section",{className:"window__bottom",children:[Object(p.jsx)("button",{className:b.isSettingsChanged?"window__bottom__tertiary-button":"window__bottom__tertiary-button window__bottom__tertiary-button--disabled",type:"button",onClick:A,disabled:!b.isSettingsChanged,children:"Reset"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{className:"window__bottom__secondary-button",type:"button",onClick:N,children:"Cancel"}),Object(p.jsx)("button",{className:b.isSettingsChanged?"window__bottom__primary-button":"window__bottom__primary-button window__bottom__primary-button--disabled",type:"submit",id:"saveSettings",value:"Save",disabled:!b.isSettingsChanged,children:"Save"})]})]})]}),b.isNutritionCategory&&Object(p.jsxs)("form",{className:"window__main window__main--add",onSubmit:x,children:[Object(p.jsx)("button",{className:b.isSettingsChanged?"window__header__add-button":"window__header__add-button window__header__add-button--disabled",type:"submit",style:{zIndex:11},disabled:!b.isSettingsChanged,children:Object(p.jsx)(y.d,{})}),Object(p.jsxs)("section",{className:"window__main__section window__main__section--form",children:[Object(p.jsx)("h3",{className:"window__main__section__title",children:"Daily demand"}),Object(p.jsxs)("div",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label",htmlFor:"proteins",children:"Proteins"}),Object(p.jsx)("input",{className:"window__main__input-line__input",type:"text",id:"proteins",value:b.settingsData.nutrition.dailyDemand.proteins,onChange:I,placeholder:"proteins"===b.warning[1]?b.warning[0]:null,maxLength:"4"}),Object(p.jsx)("span",{className:"window__main__input-line__unit",children:"g"})]}),Object(p.jsxs)("div",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label",htmlFor:"fats",children:"Fats"}),Object(p.jsx)("input",{className:"window__main__input-line__input",type:"text",id:"fats",value:b.settingsData.nutrition.dailyDemand.fats,onChange:I,placeholder:"fats"===b.warning[1]?b.warning[0]:null,maxLength:"4"}),Object(p.jsx)("span",{className:"window__main__input-line__unit",children:"g"})]}),Object(p.jsxs)("div",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label",htmlFor:"carbs",children:"Carbohydrates"}),Object(p.jsx)("input",{className:"window__main__input-line__input",type:"text",id:"carbs",value:b.settingsData.nutrition.dailyDemand.carbs,onChange:I,placeholder:"carbs"===b.warning[1]?b.warning[0]:null,maxLength:"4"}),Object(p.jsx)("span",{className:"window__main__input-line__unit",children:"g"})]}),Object(p.jsxs)("div",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label",htmlFor:"kcal",children:"Calories"}),Object(p.jsx)("input",{className:"window__main__input-line__input",type:"text",id:"kcal",value:b.settingsData.nutrition.dailyDemand.kcal,onChange:I,placeholder:"kcal"===b.warning[1]?b.warning[0]:null,maxLength:"4"}),Object(p.jsx)("span",{className:"window__main__input-line__unit",children:"kcal"})]})]}),Object(p.jsxs)("section",{className:"window__main__section window__main__section--form",children:[Object(p.jsx)("h3",{className:"window__main__section__title",children:"Meals"}),Object(p.jsxs)("div",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label",htmlFor:"setMealsNumber",children:"Number of meals"}),Object(p.jsx)("input",{className:"window__main__input-line__input",type:"text",id:"setMealsNumber",value:b.settingsData.nutrition.numberOfMeals,onChange:I,placeholder:"setMealsNumber"===b.warning[1]?b.warning[0]:null,maxLength:"1"}),Object(p.jsx)("span",{className:"window__main__input-line__unit",children:"meals"})]}),Object.values(b.settingsData.nutrition.namesOfMeals).map((function(e,t){return b.settingsData.nutrition.numberOfMeals>t?Object(p.jsxs)("div",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label",htmlFor:"editMealName",children:"Set meal nr ".concat(t+1," name")}),Object(p.jsx)("input",{className:"window__main__input-line__input","data-key":t,type:"text",id:"editMealName",value:b.settingsData.nutrition.namesOfMeals[t],onChange:I,placeholder:"editMealName"===b.warning[1]?b.warning[0]:null,required:!0})]},t):null}))]}),Object(p.jsxs)("section",{className:"window__main__section window__main__section--form",children:[Object(p.jsx)("h3",{className:"window__main__section__title",children:"Options"}),Object(p.jsxs)("div",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label window__main__input-line__label--checkbox",htmlFor:"clearAllProducts",children:"Clear all products"}),Object(p.jsx)("button",{className:"window__main__input-line__checkbox",id:"clear-all-products",type:"button",onClick:E,children:Object(p.jsx)("div",{className:"window__main__input-line__checkbox__background",id:"clear-all-products",style:a["clear-all-products"]?{backgroundColor:"#7500AF"}:{backgroundColor:"transparent"}})})]}),Object(p.jsxs)("div",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label window__main__input-line__label--checkbox",htmlFor:"resetNutritionSettingsToInitial",children:"Reset nutrition settings to initial"}),Object(p.jsx)("button",{className:"window__main__input-line__checkbox",id:"reset-nutrition-to-initial",type:"button",onClick:E,children:Object(p.jsx)("div",{className:"window__main__input-line__checkbox__background",id:"reset-nutrition-to-initial",style:a["reset-nutrition-to-initial"]?{backgroundColor:"#7500AF"}:{backgroundColor:"transparent"}})})]})]}),Object(p.jsxs)("section",{className:"window__bottom",children:[Object(p.jsx)("button",{className:b.isSettingsChanged?"window__bottom__tertiary-button":"window__bottom__tertiary-button window__bottom__tertiary-button--disabled",type:"button",onClick:A,disabled:!b.isSettingsChanged,children:"Reset"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{className:"window__bottom__secondary-button",type:"button",onClick:N,children:"Cancel"}),Object(p.jsx)("button",{className:b.isSettingsChanged?"window__bottom__primary-button":"window__bottom__primary-button window__bottom__primary-button--disabled",type:"submit",id:"saveSettings",value:"Save",disabled:!b.isSettingsChanged,children:"Save"})]})]})]}),b.isTrainingCategory&&Object(p.jsxs)("form",{className:"window__main window__main--add",onSubmit:x,children:[Object(p.jsx)("button",{className:b.isSettingsChanged?"window__header__add-button":"window__header__add-button window__header__add-button--disabled",type:"submit",style:{zIndex:11},disabled:!b.isSettingsChanged,children:Object(p.jsx)(y.d,{})}),Object(p.jsxs)("section",{className:"window__main__section window__main__section--form",children:[Object(p.jsx)("h3",{className:"window__main__section__title",children:"Exercises"}),Z.map((function(e){return Object(p.jsxs)("div",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label window__main__input-line__label--checkbox",htmlFor:"exercise"+e.id,children:e.name}),Object(p.jsx)("button",{className:"window__main__input-line__checkbox",id:"exercise"+e.id,type:"button",onClick:v,children:Object(p.jsx)("div",{className:"window__main__input-line__checkbox__background",id:"exercise"+e.id,style:b.settingsData.training.selectedExercises.includes(e.id)?{backgroundColor:"#7500AF"}:{backgroundColor:"transparent"}})})]},e.id)}))]}),Object(p.jsxs)("section",{className:"window__main__section window__main__section--form",children:[Object(p.jsx)("h3",{className:"window__main__section__title",children:"Options"}),Object(p.jsxs)("div",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label window__main__input-line__label--checkbox",htmlFor:"clear-all-series",children:"Clear all series"}),Object(p.jsx)("button",{className:"window__main__input-line__checkbox",id:"clear-all-series",type:"button",onClick:E,children:Object(p.jsx)("div",{className:"window__main__input-line__checkbox__background",id:"clear-all-series",style:a["clear-all-series"]?{backgroundColor:"#7500AF"}:{backgroundColor:"transparent"}})})]}),Object(p.jsxs)("div",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label window__main__input-line__label--checkbox",htmlFor:"reset-training-to-initial",children:"Reset training settings to initial"}),Object(p.jsx)("button",{className:"window__main__input-line__checkbox",id:"reset-training-to-initial",type:"button",onClick:E,children:Object(p.jsx)("div",{className:"window__main__input-line__checkbox__background",id:"reset-training-to-initial",style:a["reset-training-to-initial"]?{backgroundColor:"#7500AF"}:{backgroundColor:"transparent"}})})]})]}),Object(p.jsxs)("section",{className:"window__bottom",children:[Object(p.jsx)("button",{className:b.isSettingsChanged?"window__bottom__tertiary-button":"window__bottom__tertiary-button window__bottom__tertiary-button--disabled",type:"button",onClick:A,disabled:!b.isSettingsChanged,children:"Reset"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{className:"window__bottom__secondary-button",type:"button",onClick:N,children:"Cancel"}),Object(p.jsx)("button",{className:b.isSettingsChanged?"window__bottom__primary-button":"window__bottom__primary-button window__bottom__primary-button--disabled",type:"submit",id:"saveSettings",value:"Save",disabled:!b.isSettingsChanged,children:"Save"})]})]})]})]})]}),b.clearAllSeries&&Object(p.jsxs)("section",{className:"window window--login",children:[Object(p.jsx)("header",{className:"window__header",children:Object(p.jsx)("h2",{className:"window__header__heading",children:"Clear all?"})}),Object(p.jsx)("main",{className:"window__main",children:Object(p.jsx)("h3",{className:"window__main__message",children:"Are you sure you want to clear all series?"})}),Object(p.jsxs)("section",{className:"window__bottom",children:[Object(p.jsx)("button",{className:"window__bottom__secondary-button",onClick:function(){w({type:$,payload:!1})},children:"Cancel"}),Object(p.jsx)("button",{className:"window__bottom__primary-button",onClick:function(){w({type:$,payload:!1}),j("seriesList")},children:"Remove"})]})]}),b.clearAllProducts&&Object(p.jsxs)("section",{className:"window window--login",children:[Object(p.jsx)("header",{className:"window__header",children:Object(p.jsx)("h2",{className:"window__header__heading",children:"Clear all?"})}),Object(p.jsx)("main",{className:"window__main",children:Object(p.jsx)("h3",{className:"window__main__message",children:"Are you sure you want to clear all products?"})}),Object(p.jsxs)("section",{className:"window__bottom",children:[Object(p.jsx)("button",{className:"window__bottom__secondary-button",onClick:function(){w({type:X,payload:!1})},children:"Cancel"}),Object(p.jsx)("button",{className:"window__bottom__primary-button",onClick:function(){w({type:X,payload:!1}),j("productList")},children:"Remove"})]})]})]}),document.getElementById("portal"))}function _e(e){e.previousPage;var t=e.closeWindow;Object(l.useEffect)((function(){var e=document.querySelector(".wrapper"),t=document.querySelector("#root"),n=document.querySelector(".left-section__hamburger");return e.style.filter="blur(5px) opacity(40%) grayscale(100%)",e.style.pointerEvents="none",t.style.zIndex=97,n.style.display="none",function(){e.style.filter="blur(0px) opacity(100%) grayscale(0%)",e.style.pointerEvents="auto",t.style.zIndex=99,window.innerWidth<769&&(n.style.display="block")}}),[]);var n=function(e){e.preventDefault(),t()};return u.a.createPortal(Object(p.jsxs)("div",{className:"window",children:[Object(p.jsxs)("header",{className:"window__header",children:[Object(p.jsx)("h2",{className:"window__header__heading",children:"About"}),Object(p.jsx)("button",{className:"window__header__back-button",onClick:n,children:Object(p.jsx)(y.a,{})})]}),Object(p.jsxs)("main",{className:"window__main",children:[Object(p.jsxs)("section",{className:"window__main__section",children:[Object(p.jsx)("img",{className:"window__main__section__logo",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAC7npUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHja7ZddkusoDIXfWcUsAUkIieVgfqpmB7P8OWA7nXT3zNxb9z5NxZSBCFnI5wOShPHXnzP8gYtK5pDUPJecI65UUuGKjsfzKrummHa9r3aP0as9PAYYJkEr50erl3+FXT8eeMQ5Xu3BrxH2K9A1cAeUNTOj05+ThJ1PO6UrUBlnJxe351QPvl7lctypXHcbO3Ska7L1OTwbkkGlrvAS5iEw79rPDGTdJBWtomZx+JHI7ueARuXOBIK8vN7dxvgs0IvIdy98Vv/R+yQ+18sun7TMl0bofDtA+r34W+KnieWREb8OmNyhvoo8Z/c5x/l2NWUomq8VFcOtznoGjgckl/1YRjHcir7tUlA81tiAvMcWD5RGhRhUZqBEnSpNGrtt1JBi4sGGlrkB1LK5GBdusjilVWiySZEuDmaNRwC+JPzIhfa8Zc/XyDFzJ7gyIRjhkX8s4d8Gf6aEOduSiKI/tEJevFYu0ljkVg0vAKF5cdMt8F0u/PFp/WCpgqBumR0vWONxhjiUPtaWbM4CP0V7biEK1q8AkAhzK5IhAYGYSZQyRWM2IujoAFSROUviAwRIlTuS5CSC88gYWwZz4xmj7cvKmZcZZxNAqGQxsClSASslxfqx5FhDVUWTqmY19aBFa5acsuacLa9DrppYMrVsZm7FqosnV89u7l68Fi6CM1BLLla8lFIrh4qJKmJV+FdYDj7kSIce+bDDj3LUhuXTUtOWmzVvpdXOXTqOiZ67de+l10Fh4KQYaejIw4aPMurEWpsy09SZp02fZdYHtYvql/IT1OiixpvU8rMHNViD2R2C1nGiixmIcSIQt0UAC5oXs+iUEi9yi1ksjE2hjCR1sQmdFjEgTINYJz3YfZD7IW5B/Ye48X+RCwvd7yAXgO4rt2+o9fU91zaxcxcuTaNg92F8eA3sdX2p1V9t34Hegd6B3oHegd6B3oH+B4EmfjzgT2z4GyJOnrCzTShwAAABhWlDQ1BJQ0MgcHJvZmlsZQAAeJx9kT1Iw0AcxV9TS0WrDnaQ0iFDdbIgKuIoVSyChdJWaNXB5NIvaNKQpLg4Cq4FBz8Wqw4uzro6uAqC4AeIm5uToouU+L+k0CLWg+N+vLv3uHsHCI0KU82eCUDVLCMVj4nZ3Krof4UPYfQjhEGJmXoivZhB1/F1Dw9f76I8q/u5P8eAkjcZ4BGJ55huWMQbxDObls55nzjISpJCfE48btAFiR+5Lrv8xrnosMAzg0YmNU8cJBaLHSx3MCsZKvE0cURRNcoXsi4rnLc4q5Uaa92TvzCQ11bSXKcZRhxLSCAJETJqKKMCC1FaNVJMpGg/1sUfcvxJcsnkKoORYwFVqJAcP/gf/O7WLExNukmBGOB7se2PUcC/CzTrtv19bNvNE8D7DFxpbX+1Acx+kl5va5EjYGgbuLhua/IecLkDjDzpkiE5kpemUCgA72f0TTlg+BboW3N7a+3j9AHIUFfLN8DBITBWpOz1Lu/u7ezt3zOt/n4AXutynzRe8ycAAAMAUExURQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMwAAZgAAmQAAzAAA/wAzAAAzMwAzZgAzmQAzzAAz/wBmAABmMwBmZgBmmQBmzABm/wCZAACZMwCZZgCZmQCZzACZ/wDMAADMMwDMZgDMmQDMzADM/wD/AAD/MwD/ZgD/mQD/zAD//zMAADMAMzMAZjMAmTMAzDMA/zMzADMzMzMzZjMzmTMzzDMz/zNmADNmMzNmZjNmmTNmzDNm/zOZADOZMzOZZjOZmTOZzDOZ/zPMADPMMzPMZjPMmTPMzDPM/zP/ADP/MzP/ZjP/mTP/zDP//2YAAGYAM2YAZmYAmWYAzGYA/2YzAGYzM2YzZmYzmWYzzGYz/2ZmAGZmM2ZmZmZmmWZmzGZm/2aZAGaZM2aZZmaZmWaZzGaZ/2bMAGbMM2bMZmbMmWbMzGbM/2b/AGb/M2b/Zmb/mWb/zGb//5kAAJkAM5kAZpkAmZkAzJkA/5kzAJkzM5kzZpkzmZkzzJkz/5lmAJlmM5lmZplmmZlmzJlm/5mZAJmZM5mZZpmZmZmZzJmZ/5nMAJnMM5nMZpnMmZnMzJnM/5n/AJn/M5n/Zpn/mZn/zJn//8wAAMwAM8wAZswAmcwAzMwA/8wzAMwzM8wzZswzmcwzzMwz/8xmAMxmM8xmZsxmmcxmzMxm/8yZAMyZM8yZZsyZmcyZzMyZ/8zMAMzMM8zMZszMmczMzMzM/8z/AMz/M8z/Zsz/mcz/zMz///8AAP8AM/8AZv8Amf8AzP8A//8zAP8zM/8zZv8zmf8zzP8z//9mAP9mM/9mZv9mmf9mzP9m//+ZAP+ZM/+ZZv+Zmf+ZzP+Z///MAP/MM//MZv/Mmf/MzP/M////AP//M///Zv//mf//zP///69WTRwAAAABdFJOUwBA5thmAAAAAWJLR0QAiAUdSAAAAAlwSFlzAAAOwwAADsMBx2+oZAAAAAd0SU1FB+UFHAsaNiuwx2UAAAVKSURBVHja7d3bdt0gDARQ6f9/ui/t6krCZUYaCXxintL0HGCDjbmZmL3hDW94wxv+Bf8SHg/4Hj7B8BCNk+EjEHdiPBUeo4A+citD+IVTjOIv9ih6v1/FOBaJ1HFBRBd0oo5R9AkfoRSl2U6pS69VUptYH6U6pSZJRzLNaVQ+ucslRAK5jm7b5Zvu1cvSKqsO2TiqoYnvmnaokQCxBka2aISNDqj0hw4oUrmDYEjuA7FkE114nAd8p6aHLR8X9UrWUeXGEd54dS0jUo7ZrVYCO9JJWKlkFYmum4p2F8odbYO5dAyNo4ZloZU6CgpfLUEcNReRVnLAAaRZ4mi9rfWQQ8PQbO+hcRBaIjnlkEt219WR51+ig33CoUz9rEOY/mHHVpKM5sTaRS4L5x07yXMcEsmnQO5w5CXj759YBU/mJFcOUu5SUupIznVLMxOvTmbeELRkqiRaBsj8L794sqqSeIUwDhEknJ9ghWDLCpH1rNVv9RXyNSNSSLRKRp+AZ5n/fkYLWWVJWyE/8gBMg4w/LqySgP5nUYohoSrh8bO1Wl9GPqlAYjAFlW7EAaQRhcSzhX9jsQp9AQSvw3FLA2RnCXFVvmC5U0+rNITOGA0xAoL/nM5Y1lEAMeIK5iHOXNGtkBDb0UGi4xBPlnGoQqwTAhZyB2RzmVkthHOUQJjM+TMhrrifiFbLGUiumKMQb4GYAMLO/ACP+/mz4yTE74IAu0IvqBEgfwzEaYhzEE9DqCsrPqoJQOAMJh+dKoi9kF8AiW44Ap6sWwhzt/dDrAPCt75WA7Fk+0vMTx2C2AvRQZyHeB+EGI8sp4dLIJG+r4shRs+kqCD+ayD+EIgFIcN/RCYV2m72SXKjnzlId/Mb2xr6Qj4d4ioIu8c1Omh/LsTaIBaBCAdWJoakNuuWjNmjEOpogSshhMQ910NJr6RgI2l8d2cWQvQVIlOm8AEePXO/AQgmAfYRwu000RBSywrUluDgTEAWwj0HgD3BdjfE0K20VgXx9OQDkFewvoJdAOOKfP/f21cMmUWXdEOdgNhmm3Jq1o9HJyCrzYOx7a+nINPttfyGZGplUA+xOYTr2keeOa6E2HDjdnSnux2EDPduQe/YkI1jJooaSNUu0+sh6Ebh6JM9CeEbebD7zPa1wpCyvfGhbnwrBFzvVUHAM63iLadzEDsAiXRptpJiSOr9tc0MyDoDWoiHXhaLVEkPhKwQdFIKeAdSBIkmARfAIhvS5jf+1jE56UW89TZLgx2qg7P7/OvY3ylCSP41cPC142G16CEWgbBf/knRQRSnNhDT6eCxB9OcbMsoNrHPHydSBWk/GKUIkncEIXYfhJT8/zUFARdUMg7yTKjx5I7nIM7eqUyVYM8nCYQ5NyFQJQa9LS2AOHffiCR6iM6x75NUQrbtYwCCrMjQ25rWkO3BImVHZ2ohagchkULcyR5LHDJZF9BAuK0POolrIciyr9VJWMhsKqPMgR7urYLUOahBiBCid8AH+SshZDbkEhZi6MRlwx9XMD3Eqhy4RAIpdMB/SEUAsVIH+qdt8pBqB1gnNRCpA7uG4V5R6JUbM7HECch6Ah+AuNyxjHO/6rudwAvvS5VKqiA1jsXZNDUQr3LMiwhYzMIg3lAd5HM8C/FaxySBRSUNs7+HlDvGabAbunaQDsbwGRGDzH7nTY5BSlJIn+NnYkJIK8OAHRhBSLdjn3AaYn2hEmK9Ibqtht2Qd+D6ikDcjzsWtwoK8TsYsxYMg/hNinUPUfLxOyjf6wjsDF9teYQiZ7Ebw0cgWIw9InyC4Z5O1Bve8IY33Bz+AC5/J7+uUVvoAAAAAElFTkSuQmCC",alt:"Dietapp logo"}),Object(p.jsxs)("h1",{className:"left-section__logo-container__title",children:["Diet",Object(p.jsx)("span",{className:"left-section__logo-container__title__right",children:"app"})]})]}),Object(p.jsxs)("section",{className:"window__main__section",children:[Object(p.jsx)("h3",{className:"window__main__section__title",children:"Info"}),Object(p.jsx)("p",{className:"window__main__section__text",children:"The Dietapp is a complex nutrition and training organizer. Made to improve my skills in creating web apps using React, React Hooks, SCSS and Firebase."})]}),Object(p.jsxs)("section",{className:"window__main__section",children:[Object(p.jsx)("h3",{className:"window__main__section__title",children:"Features"}),Object(p.jsx)("p",{className:"window__main__section__text",children:"You can manually set your daily demand as well as your exercises which you are doing on training. An app saves data you entered and makes a several operations on these like counting macronutrients, progression made in training, or just storing these for any time you want."})]}),Object(p.jsxs)("section",{className:"window__main__section",children:[Object(p.jsx)("h3",{className:"window__main__section__title",children:"Idea"}),Object(p.jsx)("p",{className:"window__main__section__text",children:"Whole idea of the app is about my main hobby which are dietetics and bodybuilding. After 3 years of being a fit, I have included the most useful features to control your fit life."})]}),Object(p.jsx)("section",{className:"window__main__section",style:{marginTop:"40px"},children:Object(p.jsx)("h3",{className:"window__main__section__text",children:"\xa9 2021 Karol Jurczy\u0144ski"})})]}),Object(p.jsxs)("section",{className:"window__bottom",children:[Object(p.jsx)("div",{}),Object(p.jsx)("button",{className:"window__bottom__primary-button",type:"button",onClick:n,children:"Back"})]})]}),document.getElementById("portal"))}var ue=n(29);Object(ue.init)("user_f86s58XiiAbqNCi2GgiUB");var me="Passwords are not the same!",pe="Incorrect e-mail!",be="Field is too short!",we="Field is too long!",he="Field is empty!",je="Username exists in database!",ge="E-mail exists in database!",ye={isSignUpWindow:!1,isPasswordForgotten:!1,isFormCompleted:!1,warnings:{signUpUsername:"",signUpPassword:"",signUpConfirmPassword:"",signUpEmail:"",logInUsername:"",logInPassword:""},formData:{signUpUsername:"",signUpPassword:"",signUpConfirmPassword:"",signUpEmail:"",logInUsername:"user",logInPassword:"password",forgotPasswordEmail:""}},Oe="negate-sign-up-window",fe="negate-is-password-forgotten",xe="change-user-data",Ne="changer-is-form-completed",Ae="set-warning",ve="clear-all-warnings";function Ie(e){var t=e.isLogout,n=e.setUserStatus,a=e.setUserId,d=e.closeWindow,_=Object(l.useReducer)((function(e,t){switch(t.type){case Oe:return Object(o.a)(Object(o.a)({},e),{},{isSignUpWindow:!e.isSignUpWindow});case fe:return Object(o.a)(Object(o.a)({},e),{},{isPasswordForgotten:!e.isPasswordForgotten});case xe:return Object(o.a)(Object(o.a)({},e),{},{formData:Object(o.a)(Object(o.a)({},e.formData),{},Object(c.a)({},t.payload.key,t.payload.value))});case Ne:return Object(o.a)(Object(o.a)({},e),{},{isFormCompleted:t.payload});case Ae:return Object(o.a)(Object(o.a)({},e),{},{warnings:Object(o.a)(Object(o.a)({},e.warnings),{},Object(c.a)({},t.payload.field,t.payload.warning))});case ve:return Object(o.a)(Object(o.a)({},e),{},{warnings:ye.warnings})}}),ye),m=Object(r.a)(_,2),b=m[0],w=m[1];Object(l.useEffect)((function(){var e=document.querySelector(".wrapper"),t=document.querySelector("#root"),n=document.querySelector(".left-section__hamburger");return e.style.filter="blur(5px) opacity(40%) grayscale(100%)",e.style.pointerEvents="none",t.style.zIndex=97,n.style.display="none",function(){e.style.filter="blur(0px) opacity(100%) grayscale(0%)",e.style.pointerEvents="auto",t.style.zIndex=99,window.innerWidth<769&&(n.style.display="flex")}}),[]),Object(l.useEffect)((function(){var e=document.querySelector(".window--login");e&&(b.isPasswordForgotten?(e.style.filter="blur(5px) opacity(40%) grayscale(100%)",e.style.pointerEvents="none"):(e.style.filter="blur(0px) opacity(100%) grayscale(0%)",e.style.pointerEvents="auto"))}),[b.isPasswordForgotten]),Object(l.useEffect)((function(){var e=b.formData.signUpUsername&&b.formData.signUpPassword&&b.formData.signUpConfirmPassword&&b.formData.signUpEmail,t=b.formData.logInUsername&&b.formData.logInPassword;b.isSignUpWindow?w(e?{type:Ne,payload:!0}:{type:Ne,payload:!1}):w(t?{type:Ne,payload:!0}:{type:Ne,payload:!1})}),[b.formData]);var h=function(e){return e.length<3},j=function(e){return e.length>32},g=function(e){return 0===e.length},O=function(e){e.preventDefault(),w({type:Oe})},x=function(){var e=Object(s.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[b.formData.signUpUsername,b.formData.signUpPassword,b.formData.signUpConfirmPassword,b.formData.signUpEmail],n=["signUpUsername","signUpPassword","signUpConfirmPassword","signUpEmail"],a=!0,t.forEach((function(e,i){var s;g(e)?(w({type:Ae,payload:{field:n[i],warning:he}}),w({type:xe,payload:{key:n[i],value:""}}),a=!1):h(e)?(w({type:Ae,payload:{field:n[i],warning:be}}),w({type:xe,payload:{key:n[i],value:""}}),a=!1):j(e)?(w({type:Ae,payload:{field:n[i],warning:we}}),w({type:xe,payload:{key:n[i],value:""}}),a=!1):w({type:Ae,payload:{field:n[i],warning:""}}),"signUpEmail"===n[i]&&(s=t[i],/^[\w.-]{3,}@{1}[\w.-]{1,}[.]{1}\w{1,}/i.test(s)?w({type:Ae,payload:{field:n[i],warning:""}}):(w({type:Ae,payload:{field:n[i],warning:pe}}),w({type:xe,payload:{key:n[i],value:""}}),a=!1)),"signUpConfirmPassword"===n[i]&&(b.formData.signUpConfirmPassword!==b.formData.signUpPassword?(w({type:Ae,payload:{field:n[i],warning:me}}),w({type:Ae,payload:{field:"signUpPassword",warning:me}}),w({type:xe,payload:{key:n[i],value:""}}),w({type:xe,payload:{key:"signUpPassword",value:""}}),a=!1):w({type:Ae,payload:{field:n[i],warning:""}}))})),e.next=6,T(t[3]);case 6:if(!e.sent){e.next=11;break}console.log("exist"),w({type:Ae,payload:{field:n[3],warning:ge}}),w({type:xe,payload:{key:n[3],value:""}}),a=!1;case 11:return e.next=13,W(t[0]);case 13:if(!e.sent){e.next=18;break}console.log("exist"),w({type:Ae,payload:{field:n[0],warning:je}}),w({type:xe,payload:{key:n[0],value:""}}),a=!1;case 18:a&&(v(),w({type:Oe}),w({type:ve}));case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(s.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[b.formData.logInUsername,b.formData.logInPassword],n=["logInUsername","logInPassword"],a=!0,t.forEach((function(e,t){g(e)?(w({type:Ae,payload:{field:n[t],warning:he}}),w({type:xe,payload:{key:n[t],value:""}}),a=!1):h(e)?(w({type:Ae,payload:{field:n[t],warning:be}}),w({type:xe,payload:{key:n[t],value:""}}),a=!1):j(e)?(w({type:Ae,payload:{field:n[t],warning:we}}),w({type:xe,payload:{key:n[t],value:""}}),a=!1):w({type:Ae,payload:{field:n[t],warning:""}})})),!a){e.next=7;break}return e.next=7,E();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(f.a)(Object(f.b)(Te,"users"),{username:b.formData.signUpUsername,password:b.formData.signUpPassword,email:b.formData.signUpEmail});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,e.prev=1,e.next=4,Object(f.e)(Object(f.b)(Te,"users"));case 4:e.sent.forEach((function(e){e.data().username===b.formData.logInUsername&&e.data().password===b.formData.logInPassword?(t=!0,a(e.id),n("Logged"),d()):(t=!1,D())})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),k=function(e){e.preventDefault(),n("Log in"),a(0),d()},S=function(e){e.preventDefault(),d()},D=function(){Object.keys(b.formData).forEach((function(e){w({type:xe,payload:{key:[e],value:""}})}))},C=function(e){e.preventDefault(),w({type:fe}),D()},T=function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,e.prev=1,e.next=4,Object(f.e)(Object(f.b)(Te,"users"));case 4:e.sent.forEach((function(e){e.data().email===t&&(n=!0)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,e.prev=1,e.next=4,Object(f.e)(Object(f.b)(Te,"users"));case 4:e.sent.forEach((function(e){e.data().username===t&&(n=!0)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",e.prev=1,e.next=4,Object(f.e)(Object(f.b)(Te,"users"));case 4:e.sent.forEach((function(e){e.data().email===b.formData.forgotPasswordEmail&&(t=e.data().password)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,T(b.formData.forgotPasswordEmail);case 3:if(!e.sent){e.next=13;break}return e.t0=b.formData.forgotPasswordEmail,e.next=7,P();case 7:return e.t1=e.sent,n={user_email:e.t0,user_password:e.t1},e.next=11,Object(ue.send)("service_vvs15qe","template_698pq4k",n).then((function(e){alert("Check your e-mail inbox.")})).catch((function(e){alert("Error with email sending, check console."),console.error(e)}));case 11:e.next=14;break;case 13:alert("Account with entered e-mail does not exist!");case 14:D(),w({type:fe});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(e){"confirmSignUpPassword"!==e.target.id&&w({type:xe,payload:{key:e.target.id,value:e.target.value}})};return u.a.createPortal(Object(p.jsxs)(p.Fragment,{children:[b.isPasswordForgotten?Object(p.jsxs)("div",{className:"window window--forgotpassword",children:[Object(p.jsxs)("header",{className:"window__header",children:[Object(p.jsx)("h2",{className:"window__header__heading",children:"Forgotten password"}),Object(p.jsx)("button",{className:"window__header__back-button",type:"button",onClick:C,style:{zIndex:11},children:Object(p.jsx)(y.a,{})}),Object(p.jsx)("button",{className:"window__header__add-button",type:"button",onClick:M,style:{zIndex:11},children:Object(p.jsx)(y.b,{})})]}),Object(p.jsx)("main",{className:"window__main",children:Object(p.jsxs)("span",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label",htmlFor:"forgotPasswordEmail",children:"E-mail"}),Object(p.jsx)("input",{className:"window__main__input-line__input",type:"email",id:"forgotPasswordEmail",value:b.formData.forgotPasswordEmail,onChange:U,placeholder:b.warnings.forgotPasswordEmail?b.warnings.forgotPasswordEmail:null})]})}),Object(p.jsxs)("section",{className:"window__bottom",children:[Object(p.jsx)("button",{className:"window__bottom__secondary-button",type:"button",onClick:C,children:"Cancel"}),Object(p.jsx)("button",{className:b.formData.forgotPasswordEmail?"window__bottom__primary-button":"window__bottom__primary-button window__bottom__primary-button--disabled",type:"submit",disabled:!b.formData.forgotPasswordEmail,onClick:b.formData.forgotPasswordEmail?M:null,children:"Send"})]})]}):null,t?Object(p.jsxs)("div",{className:"window window--logout",children:[Object(p.jsxs)("header",{className:"window__header",children:[Object(p.jsx)("h2",{className:"window__header__heading",children:"Log out?"}),Object(p.jsx)("button",{className:"window__header__back-button",type:"button",onClick:S,style:{zIndex:11},children:Object(p.jsx)(y.a,{})}),Object(p.jsx)("button",{className:"window__header__add-button",type:"button",onClick:k,style:{zIndex:11},children:Object(p.jsx)(y.b,{})})]}),Object(p.jsxs)("main",{className:"window__main",children:[Object(p.jsx)("h3",{className:"window__main__section__title",children:"Confirm"}),Object(p.jsx)("p",{className:"window__main__message",children:"Are you sure you want to log out?"})]}),Object(p.jsxs)("section",{className:"window__bottom",children:[Object(p.jsx)("button",{className:"window__bottom__secondary-button",type:"button",onClick:S,children:"Cancel"}),Object(p.jsx)("button",{className:"window__bottom__primary-button",type:"button",onClick:k,children:"Log out"})]})]}):Object(p.jsxs)("div",{className:"window window--login",children:[Object(p.jsxs)("header",{className:"window__header",children:[Object(p.jsx)("h2",{className:"window__header__heading",children:b.isSignUpWindow?"Sign up":"Log in"}),Object(p.jsx)("button",{className:"window__header__back-button",type:"button",onClick:S,style:{zIndex:11},children:Object(p.jsx)(y.a,{})}),Object(p.jsx)("button",{className:"window__header__add-button",type:"submit",onClick:I,style:{zIndex:11},children:Object(p.jsx)(y.b,{})})]}),b.isSignUpWindow?Object(p.jsxs)("main",{className:"window__main",children:[Object(p.jsxs)("span",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label",htmlFor:"signUpUsername",children:"Username"}),Object(p.jsx)("input",{className:"window__main__input-line__input",type:"text",id:"signUpUsername",value:b.formData.signUpUsername,onChange:U,placeholder:b.warnings.signUpUsername?b.warnings.signUpUsername:null})]}),Object(p.jsxs)("span",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label",htmlFor:"signUpEmail",children:"Email"}),Object(p.jsx)("input",{className:"window__main__input-line__input",type:"email",id:"signUpEmail",value:b.formData.signUpEmail,onChange:U,placeholder:b.warnings.signUpEmail?b.warnings.signUpEmail:null})]}),Object(p.jsxs)("span",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label",htmlFor:"signUpPassword",children:"Password"}),Object(p.jsx)("input",{className:"window__main__input-line__input",type:"password",id:"signUpPassword",value:b.formData.signUpPassword,onChange:U,placeholder:b.warnings.signUpPassword?b.warnings.signUpPassword:null})]}),Object(p.jsxs)("span",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label",htmlFor:"signUpConfirmPassword",children:"Confirm Password"}),Object(p.jsx)("input",{className:"window__main__input-line__input",type:"password",id:"signUpConfirmPassword",value:b.formData.signUpConfirmPassword,onChange:U,placeholder:b.warnings.signUpConfirmPassword?b.warnings.signUpConfirmPassword:null})]}),Object(p.jsxs)("section",{className:"window__main__login-options",children:[Object(p.jsx)("span",{className:"window__main__login-options__line",children:"Already had an account? "}),Object(p.jsx)("span",{className:"window__main__login-options__line",children:Object(p.jsx)("a",{className:"window__main__login-options__line__link",onClick:O,href:"",children:"Log in"})})]})]}):Object(p.jsxs)("main",{className:"window__main",children:[Object(p.jsxs)("span",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label",htmlFor:"logInUsername",children:"Username"}),Object(p.jsx)("input",{className:"window__main__input-line__input",type:"text",id:"logInUsername",value:b.formData.logInUsername,onChange:U,placeholder:b.warnings.logInUsername?b.warnings.logInUsername:null})]}),Object(p.jsxs)("span",{className:"window__main__input-line",children:[Object(p.jsx)("label",{className:"window__main__input-line__label",htmlFor:"logInPassword",children:"Password"}),Object(p.jsx)("input",{className:"window__main__input-line__input",type:"password",id:"logInPassword",value:b.formData.logInPassword,onChange:U,placeholder:b.warnings.logInPassword?b.warnings.logInPassword:null}),Object(p.jsx)("a",{className:"window__main__input-line__link",href:"",onClick:C,children:"Forgot your password?"})]}),Object(p.jsxs)("section",{className:"window__main__login-options",children:[Object(p.jsx)("span",{className:"window__main__login-options__line",children:"Don't have an account? "}),Object(p.jsx)("span",{className:"window__main__login-options__line",children:Object(p.jsx)("a",{className:"window__main__login-options__line__link",onClick:O,href:"",children:"Sign up"})})]})]}),Object(p.jsxs)("section",{className:"window__bottom",children:[Object(p.jsx)("button",{className:"window__bottom__secondary-button",type:"button",onClick:S,children:"Cancel"}),Object(p.jsx)("button",{className:b.isFormCompleted?"window__bottom__primary-button":"window__bottom__primary-button window__bottom__primary-button--disabled",type:"submit",disabled:!b.isFormCompleted,onClick:b.isFormCompleted?function(e){e.preventDefault(),b.isSignUpWindow?A():I()}:null,children:b.isSignUpWindow?"Sign up":"Log in"})]})]})]}),document.getElementById("portal"))}var Ee=n.p+"static/media/logo_white.cf6920f8.png",ke=(n(49),n(50),n(36)),Se=function(e,t){return Number.isNaN(Math.round(e/t*100))?0:Math.round(e/t*100)},De={UPDATE_MEALS_INGREDIENTS_SUMMARY:"update-meals-ingredients-summary",UPDATE_DAILY_INGREDIENTS_SUMMARY:"update-daily-ingredients-summary",COUNT_GAUGES_DATA:"count-gauges-data",CHANGE_DATE:"change-date",CHANGE_PAGE_TITLE:"change-page-title",RESET_GAUGES:"reset-gauges",LOAD_SETTINGS:"load-settings",SET_WINDOW:"set-window",SET_USER_STATUS:"set-user-status",CHANGE_HAMBURGER_STATE:"change-hamburger-state",UPDATE_WINDOW_WIDTH:"update-window-width",SET_NEW_SETTINGS:"set-new-settings",SET_USER_ID:"set-user-id"},Ce={dateIds:{dayId:0,monthId:0,yearId:0},pageTitle:"Dashboard",previousPageTitle:"Dashboard",isLoginWindowEnabled:!1,isSettingsWindowEnabled:!1,isAboutWindowEnabled:!1,isAddWindowsEnabled:!1,isRemoveWindowsEnabled:!1,isMoreWindowsEnabled:!1,hamburgerState:!1,windowWidth:window.innerWidth,userStatus:"Log in",userId:0,mealsIngredientsSummary:[],dailyIngredientsSummary:{kcal:0,proteins:0,fats:0,carbs:0},gaugesData:{kcal:{eaten:0,left:0,max:0,percent:0},proteins:{eaten:0,left:0,max:0,percent:0},fats:{eaten:0,left:0,max:0,percent:0},carbs:{eaten:0,left:0,max:0,percent:0}},settingsData:{account:{},nutrition:{dailyDemand:{kcal:2e3,proteins:120,fats:55,carbs:240},namesOfMeals:{0:"Breakfast",1:"II Breakfast",2:"Lunch",3:"Snack",4:"Dinner",5:"",6:"",7:"",8:"",9:""},numberOfMeals:5},training:{selectedExercises:[0,1,2,3,4]}},clearAllProducts:!1,clearAllSeries:!1,isSettingsChanged:!1},Te=(Object(ke.a)({apiKey:"AIzaSyBw4pfmnfKQq187qJJ4UZ0VLtxhg8Ymy3E",authDomain:"dietapp-557db.firebaseapp.com",projectId:"dietapp-557db"}),Object(f.f)());function We(){var e=Object(l.useReducer)((function(e,t){switch(t.type){case De.UPDATE_MEALS_INGREDIENTS_SUMMARY:var n=Object(d.a)(e.mealsIngredientsSummary);return n[t.payload.mealId]={proteins:t.payload.data.proteins,fats:t.payload.data.fats,carbs:t.payload.data.carbs,kcal:t.payload.data.kcal},Object(o.a)(Object(o.a)({},e),{},{mealsIngredientsSummary:n});case De.UPDATE_DAILY_INGREDIENTS_SUMMARY:var a={proteins:0,fats:0,carbs:0,kcal:0},i={proteins:0,fats:0,carbs:0,kcal:0};return e.mealsIngredientsSummary.forEach((function(e){i={proteins:e.proteins,fats:e.fats,carbs:e.carbs,kcal:e.kcal},a={proteins:a.proteins+i.proteins,fats:a.fats+i.fats,carbs:a.carbs+i.carbs,kcal:a.kcal+i.kcal},i={proteins:0,fats:0,carbs:0,kcalS:0}})),Object(o.a)(Object(o.a)({},e),{},{dailyIngredientsSummary:a});case De.COUNT_GAUGES_DATA:var s=t.payload.typeOfIngredient;return Object(o.a)(Object(o.a)({},e),{},{gaugesData:Object(o.a)(Object(o.a)({},e.gaugesData),{},Object(c.a)({},s,{eaten:e.dailyIngredientsSummary[s],left:(l=e.dailyIngredientsSummary[s],_=e.settingsData.nutrition.dailyDemand[s],l>=_?0:_-l),max:e.settingsData.nutrition.dailyDemand[s],percent:Se(e.dailyIngredientsSummary[s],e.settingsData.nutrition.dailyDemand[s])}))});case De.RESET_GAUGES:return Object(o.a)(Object(o.a)({},e),{},{gaugesData:Ce.gaugesData});case De.CHANGE_DATE:return Object(o.a)(Object(o.a)({},e),{},{dateIds:{dayId:t.payload.currentDay,monthId:t.payload.currentMonth,yearId:t.payload.currentYear}});case De.CHANGE_PAGE_TITLE:return Object(o.a)(Object(o.a)({},e),{},{previousPageTitle:e.pageTitle,pageTitle:t.payload});case De.LOAD_SETTINGS:var r=JSON.parse(localStorage.getItem("settings"));return Object(o.a)(Object(o.a)({},e),{},{settingsData:r});case De.SET_WINDOW:return Object(o.a)(Object(o.a)({},e),{},Object(c.a)({},t.payload.window,t.payload.value));case De.SET_USER_STATUS:return Object(o.a)(Object(o.a)({},e),{},{userStatus:t.payload});case De.CHANGE_HAMBURGER_STATE:return Object(o.a)(Object(o.a)({},e),{},{hamburgerState:t.payload});case De.UPDATE_WINDOW_WIDTH:return Object(o.a)(Object(o.a)({},e),{},{windowWidth:window.innerWidth});case De.SET_USER_NAME:return Object(o.a)(Object(o.a)({},e),{},{userName:t.payload});case De.SET_NEW_SETTINGS:return Object(o.a)(Object(o.a)({},e),{},{settingsData:t.payload});case De.SET_USER_ID:return Object(o.a)(Object(o.a)({},e),{},{userId:t.payload});default:return console.error("Unknown action type: ".concat(t.type))}var l,_}),Ce),t=Object(r.a)(e,2),n=t[0],a=t[1],_=[n.userStatus,"Nutrition","Training","Settings","About"];Object(l.useEffect)((function(){if(document.cookie){var e=document.cookie.split(";"),t={};e.forEach((function(e){var n=e.split("=")[0],a=e.split("=")[1];t[n.trim()]=a.trim()})),a({type:De.SET_USER_STATUS,payload:t.status}),a({type:De.SET_USER_ID,payload:t.user})}else document.cookie="user="+n.userId,document.cookie="status="+n.userStatus}),[]),Object(l.useEffect)((function(){document.cookie="user="+n.userId,document.cookie="status="+n.userStatus}),[n.userStatus,n.userId]),Object(l.useEffect)((function(){var e=.01*window.innerHeight,t=document.querySelector(".left-section__hamburger");document.documentElement.style.setProperty("--vh","".concat(e,"px")),window.addEventListener("resize",(function(){a({type:De.UPDATE_WINDOW_WIDTH}),a({type:De.CHANGE_HAMBURGER_STATE,payload:!1}),window.innerWidth<769&&(n.isLoginWindowEnabled||n.isSettingsWindowEnabled||n.isAboutWindowEnabled)?t.style.display="block":t.style.display="none",e=.01*window.innerHeight,document.documentElement.style.setProperty("--vh","".concat(e,"px"))}))}),[]);var u=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(f.g)(Object(f.c)(Te,"users",String(t.id)),{settings:n.settingsData},{merge:!0});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(f.e)(Object(f.b)(Te,"users"));case 3:e.sent.forEach((function(e){e.id===n.userId&&(e.data().settings?a({type:De.SET_NEW_SETTINGS,payload:e.data().settings}):u(e))})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){"Logged"===n.userStatus?(m(),N()):(a({type:De.SET_NEW_SETTINGS,payload:Ce.settingsData}),a({type:De.RESET_GAUGES}))}),[n.userStatus]),Object(l.useEffect)((function(){var e=document.querySelector(".center-section__top__date-changer");e.style.pointerEvents="none",setTimeout((function(){e.style.pointerEvents="auto"}),100)}),[n.dateIds]),Object(l.useEffect)((function(){n.hamburgerState&&a({type:De.CHANGE_HAMBURGER_STATE,payload:!1})}),[n.isLoginWindowEnabled,n.isSettingsWindowEnabled,n.isAboutWindowEnabled]),Object(l.useEffect)((function(){var e=document.querySelector(".wrapper"),t=document.querySelector(".left-section__menu-container"),a=document.querySelector(".left-section__hamburger"),i=document.querySelectorAll(".left-section__hamburger__line");n.windowWidth<769&&(n.hamburgerState?(e.style.filter="blur(5px) opacity(40%) grayscale(100%)",e.style.pointerEvents="none",t.style.display="flex",t.style.right=0,a.style.right="157px",i[0].style.cssText="left: 0px; background: #FFFFFF; width: 100%; transform: rotate(45deg); border-radius: 10px",i[1].style.cssText="left: 10px; background: #FFFFFF; visibility: hidden",i[2].style.cssText="left: 0px; background: #FFFFFF; width: 100%; transform: rotate(-45deg); border-radius: 10px"):(t.style.display="none",t.style.right="-200px",a.style.right="10px",i[0].style.cssText="left: 0px; background: #7500AF; width: 8px; transform: rotate(0deg); border-radius: 50%",i[1].style.cssText="left: 10px; background: #7500AF; visibility: visible",i[2].style.cssText="left: 20px; background: #7500AF; width: 8px; transform: rotate(0deg); border-radius: 50%",n.isLoginWindowEnabled||n.isSettingsWindowEnabled||n.isAboutWindowEnabled||(e.style.filter="blur(0px) opacity(100%) grayscale(0%)",e.style.pointerEvents="auto")))}),[n.hamburgerState]),Object(l.useEffect)((function(){m()}),[n.isSettingsWindowEnabled]);var y=function(e,t){a({type:De.UPDATE_MEALS_INGREDIENTS_SUMMARY,payload:{data:e,mealId:t}}),x()},x=function(){a({type:De.UPDATE_DAILY_INGREDIENTS_SUMMARY}),N()},N=function(){Object.keys(n.settingsData.nutrition.dailyDemand).forEach((function(e){a({type:De.COUNT_GAUGES_DATA,payload:{typeOfIngredient:e}})}))},A=function(e){a({type:De.CHANGE_PAGE_TITLE,payload:"Nutrition"===e?"Dashboard":e}),a({type:De.CHANGE_HAMBURGER_STATE,payload:!1})},v=function(e){if("Log in"!==n.userStatus)switch(e){case n.userStatus:a({type:De.SET_WINDOW,payload:{window:"isLoginWindowEnabled",value:!0}});break;case"Nutrition":case"Training":A(e);break;case"Settings":a({type:De.SET_WINDOW,payload:{window:"isSettingsWindowEnabled",value:!0}});break;case"About":a({type:De.SET_WINDOW,payload:{window:"isAboutWindowEnabled",value:!0}})}else a({type:De.SET_WINDOW,payload:{window:"isLoginWindowEnabled",value:!0}})},I=function(){n.hamburgerState?a({type:De.CHANGE_HAMBURGER_STATE,payload:!1}):a({type:De.CHANGE_HAMBURGER_STATE,payload:!0})},E=function(e){e.preventDefault(),v(n.userStatus)};return Object(p.jsxs)(p.Fragment,{children:[n.isLoginWindowEnabled&&Object(p.jsx)(Ie,{setUserStatus:function(e){a({type:De.SET_USER_STATUS,payload:e})},setUserId:function(e){a({type:De.SET_USER_ID,payload:e})},isLogout:"Logged"===n.userStatus,closeWindow:function(){a({type:De.SET_WINDOW,payload:{window:"isLoginWindowEnabled",value:!1}})}}),n.isSettingsWindowEnabled&&Object(p.jsx)(le,{initialData:Ce.settingsData,updateGauges:N,userId:n.userId,closeWindow:function(){a({type:De.SET_WINDOW,payload:{window:"isSettingsWindowEnabled",value:!1}})}}),n.isAboutWindowEnabled&&Object(p.jsx)(_e,{closeWindow:function(){a({type:De.SET_WINDOW,payload:{window:"isAboutWindowEnabled",value:!1}})}}),Object(p.jsx)(h,{handleHamburger:I}),n.windowWidth<769&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"left-section__menu-container__closer",onClick:n.hamburgerState?I:null}),Object(p.jsxs)("ul",{className:"left-section__menu-container",children:[_.map((function(e,t){return Object(p.jsx)(g,{value:e,href:"",isActive:!1,linkTo:v},t)})),Object(p.jsx)("div",{className:"left-section__menu-container__logo",children:Object(p.jsx)("img",{src:Ee,alt:"Dietapp logo"})})]})]}),Object(p.jsxs)("div",{className:"wrapper",children:[Object(p.jsxs)("aside",{className:"left-section",children:[Object(p.jsxs)("header",{className:"left-section__logo-container",onClick:E,children:[Object(p.jsx)(b,{}),Object(p.jsx)(w,{})]}),n.windowWidth>768&&Object(p.jsx)("ul",{className:"left-section__menu-container",children:_.map((function(e,t){return Object(p.jsx)(g,{value:e,href:"",isActive:!1,linkTo:v},t)}))}),Object(p.jsx)("h2",{className:"left-section__quotation-container",children:Object(p.jsx)(j,{})})]}),Object(p.jsxs)("main",{className:"center-section",children:[Object(p.jsxs)("section",{className:"center-section__top",children:[Object(p.jsx)("h3",{className:"center-section__top__title",children:n.pageTitle}),("Dashboard"===n.pageTitle||"Training"===n.pageTitle)&&Object(p.jsx)(O,{changeDate:function(e){a({type:De.CHANGE_DATE,payload:e})},loginShortcut:E,userStatus:n.userStatus})]}),Object(p.jsxs)("section",{className:"center-section__main",children:["Training"===n.pageTitle&&n.settingsData.training.selectedExercises.map((function(e){return Object(p.jsx)(B,{userId:n.userId,userStatus:n.userStatus,exerciseId:e,dateIds:n.dateIds,name:Z[e].name,difficulty:Z[e].difficulty,description:Z[e].description,muscles:Z[e].muscles,typeOfExercise:Z[e].typeOfExercise,properFormLink:Z[e].properFormLink,loginShortcut:E},e)})),"Dashboard"===n.pageTitle&&Object.values(n.settingsData.nutrition.namesOfMeals).map((function(e,t){if(n.settingsData.nutrition.numberOfMeals>t)return Object(p.jsx)(R,{userId:n.userId,userStatus:n.userStatus,isSettingsOpened:n.isSettingsWindowEnabled,name:e,mealId:t,dateIds:n.dateIds,updateGauges:y,loginShortcut:E},t)}))]})]}),Object(p.jsxs)("aside",{className:"right-section",onClick:function(e){e.preventDefault(),v("Settings")},children:[Object(p.jsx)(L,{amount:n.gaugesData.kcal.eaten,name:"kcal",percent:n.gaugesData.kcal.percent,left:n.gaugesData.kcal.left,isKcal:!0}),Object(p.jsx)(L,{amount:n.gaugesData.proteins.eaten,name:"proteins",percent:n.gaugesData.proteins.percent,left:n.gaugesData.proteins.left}),Object(p.jsx)(L,{amount:n.gaugesData.fats.eaten,name:"fats",percent:n.gaugesData.fats.percent,left:n.gaugesData.fats.left}),Object(p.jsx)(L,{amount:n.gaugesData.carbs.eaten,name:"carbohydrates",percent:n.gaugesData.carbs.percent,left:n.gaugesData.carbs.left})]})]})]})}u.a.render(Object(p.jsx)(We,{}),document.querySelector("#root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.99698a17.chunk.js.map