(this.webpackJsonpDietapp=this.webpackJsonpDietapp||[]).push([[0],[,,,,,,function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(3),i=a(4),s=a(1),c=a(5),d=a(2),r=a(16),_=a.n(r),o=(a(11),a.p+"static/media/logo.92f8fff8.png"),l=a(0);function m(){return Object(l.jsx)("img",{className:"left-section__logo-container__logo",src:o,alt:"Dietapp logo"})}function u(){return Object(l.jsxs)("h1",{className:"left-section__logo-container__title",children:["Diet",Object(l.jsx)("span",{className:"left-section__logo-container__title__right",children:"app"})]})}function g(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("span",{className:"left-section__quotation-container__top",children:"Be healthy,"}),Object(l.jsx)("span",{className:"left-section__quotation-container__bottom",children:"be happy!"})]})}function b(e){return Object(l.jsx)("li",{className:"left-section__menu-container__list-item",children:Object(l.jsx)("a",{className:e.isActive?"left-section__menu-container__list-item__content left-section__menu-container__list-item__content--active":"left-section__menu-container__list-item__content",onClick:function(t){t.preventDefault(),e.linkTo(t.target.title)},href:e.href,title:e.value,children:e.value})})}a(12);var j=a(10);function p(e){var t=new Date,a=Object(d.useState)(t.getDate()),i=Object(n.a)(a,2),s=i[0],c=i[1],r=Object(d.useState)(t.getMonth()+1),_=Object(n.a)(r,2),o=_[0],m=_[1],u=Object(d.useState)(t.getFullYear()),g=Object(n.a)(u,2),b=g[0],p=g[1],w=function(){return b%4===0&&b%100!==0||b%400===0},h=function(){29===s&&2===o&&w()||28===s&&2===o&&!w()||30===s&&(4===o||6===o||9===o||11===o)||31===s?31===s&&12===o?(c(1),m(1),p((function(e){return e+1}))):(c(1),m((function(e){return e+1}))):c((function(e){return e+1}))},O=function(){1===s&&1===o?(c(31),m(12),p((function(e){return e-1}))):1===s&&3===o?(w()?c(29):c(28),m(2)):1!==s||4!==o&&6!==o&&8!==o&&9!==o&&11!==o?1===s?(c(30),m((function(e){return e-1}))):c((function(e){return e-1})):(c(31),m((function(e){return e-1})))};return Object(d.useEffect)((function(){e.changeDate({currentDay:s,currentMonth:o,currentYear:b})}),[s,o,b]),Object(l.jsxs)("div",{className:"center-section__top__date-changer",children:[Object(l.jsx)("button",{className:"center-section__top__date-changer__previous-button",onClick:function(){O()},children:Object(l.jsx)(j.a,{})}),Object(l.jsx)("h4",{className:"center-section__top__date-changer__current-date",children:"".concat(function(){switch(o){case 1:return"January";case 2:return"February";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"November";case 12:return"December"}}()," ").concat(s)}),Object(l.jsx)("button",{className:"center-section__top__date-changer__next-button",onClick:function(){h()},children:Object(l.jsx)(j.b,{})})]})}a(6);function w(e){var t={"list-saving":!1},a=Object(d.useState)(t),c=Object(n.a)(a,2),r=c[0],_=c[1],o=Object(d.useState)(!1),m=Object(n.a)(o,2),u=m[0],g=m[1],b=Object(d.useState)(!0),j=Object(n.a)(b,2),p=j[0],w=j[1],h=function(){_(t),e.handleFormClearing(),w(!0)},O=function(){e.handleAddWindow()};Object(d.useEffect)((function(){f(),Object.keys(r).forEach((function(e){w(!0),r[e]!==t[e]&&w(!1)})),Object.keys(e.data).forEach((function(t){e.data[t]&&w(!1)}))}),[e,r]);var f=function(){if("nutrition"===e.type){var t=document.querySelector("#name").value,a=document.querySelector("#weight").value,n=document.querySelector("#proteins").value,i=document.querySelector("#fats").value,s=document.querySelector("#carbs").value,c=document.querySelector("#kcal").value;g(!!(t&&a&&n&&i&&s&&c))}else{var d=document.querySelector("#weight").value,r=document.querySelector("#reps").value;g(!(!d||!r))}},y=function(e){var t=JSON.parse(localStorage.getItem("predefined"));t.push(e),localStorage.setItem("predefined",JSON.stringify(t))};return Object(l.jsx)(l.Fragment,{children:"nutrition"!==e.type?Object(l.jsxs)("form",{className:"adding-window__main__form",onSubmit:function(t){e.handleSerieAdding(t)},children:[Object(l.jsxs)("section",{className:"adding-window__main__form adding-window__main__form--product-info",children:[Object(l.jsx)("h3",{className:"adding-window__main__form__title",children:"Last time"}),Object(l.jsxs)("div",{className:"adding-window__main__form__line--normal",children:[Object(l.jsx)("label",{className:"adding-window__main__form__line__label",htmlFor:"oldWeight",children:"Weight: "}),Object(l.jsx)("p",{className:"adding-window__main__form__line__input",id:"oldWeight",children:"last-training"===e.type?e.lastTimeData.training.weight:e.lastTimeData.serie.weight}),Object(l.jsx)("span",{className:"adding-window__main__form__line__decoration",children:"kg"})]}),Object(l.jsxs)("div",{className:"adding-window__main__form__line--normal",children:[Object(l.jsx)("label",{className:"adding-window__main__form__line__label",htmlFor:"oldReps",children:"Reps: "}),Object(l.jsx)("p",{className:"adding-window__main__form__line__input",id:"oldReps",children:"last-training"===e.type?e.lastTimeData.training.reps:e.lastTimeData.serie.reps}),Object(l.jsx)("span",{className:"adding-window__main__form__line__decoration",children:"reps"})]})]}),Object(l.jsxs)("section",{className:"adding-window__main__form adding-window__main__form--nutrition-facts",children:[Object(l.jsx)("h3",{className:"adding-window__main__form__title",children:"New serie"}),Object(l.jsxs)("div",{className:"adding-window__main__form__line--normal",children:[Object(l.jsx)("label",{className:"adding-window__main__form__line__label",htmlFor:"weight",children:"Weight: "}),Object(l.jsx)("input",{className:"adding-window__main__form__line__input",type:"text",id:"weight",value:e.data.weight,onChange:e.handleOnChange,placeholder:"Weight",maxLength:"3"}),Object(l.jsx)("span",{className:"adding-window__main__form__line__decoration",children:"kg"}),Object(l.jsx)("p",{className:"adding-window__main__form__line__warning",children:"weight"===e.warning[1]?e.warning[0]:null})]}),Object(l.jsxs)("div",{className:"adding-window__main__form__line--normal",children:[Object(l.jsx)("label",{className:"adding-window__main__form__line__label",htmlFor:"reps",children:"Reps: "}),Object(l.jsx)("input",{className:"adding-window__main__form__line__input",type:"text",id:"reps",value:e.data.reps,onChange:e.handleOnChange,placeholder:"Reps",maxLength:"2"}),Object(l.jsx)("span",{className:"adding-window__main__form__line__decoration",children:"reps"}),Object(l.jsx)("p",{className:"adding-window__main__form__line__warning",children:"reps"===e.warning[1]?e.warning[0]:null})]})]}),Object(l.jsxs)("section",{className:"adding-window__main__form adding-window__main__form--buttons-section",children:[Object(l.jsx)("button",{className:p?"adding-window__main__form__tertiary adding-window__main__form__tertiary--disabled":"adding-window__main__form__tertiary",disabled:!!p,type:"button",onClick:h,children:"Clear"}),Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{className:"adding-window__main__form__secondary",type:"button",onClick:O,children:"Cancel"}),Object(l.jsx)("button",{className:u?"adding-window__main__form__primary":"adding-window__main__form__primary adding-window__main__form__primary--disabled",type:"submit",disabled:!u,children:"Add"})]})]})]}):Object(l.jsxs)("form",{className:"adding-window__main__form",onSubmit:function(t){e.handleProductAdding(t),function(e){var t=[];return e.forEach((function(e){r[e]&&t.push(e)})),t}(Object.keys(r)).forEach((function(e){switch(e){case"list-saving":var t={id:Date.now(),name:document.querySelector("#name").value,weight:Number(document.querySelector("#weight").value),proteins:Number(document.querySelector("#proteins").value),fats:Number(document.querySelector("#fats").value),carbs:Number(document.querySelector("#carbs").value),kcal:Number(document.querySelector("#kcal").value)};y(t)}}))},children:[Object(l.jsxs)("section",{className:"adding-window__main__form adding-window__main__form--product-info",children:[Object(l.jsx)("h3",{className:"adding-window__main__form__title",children:"Product info"}),Object(l.jsxs)("div",{className:"adding-window__main__form__line adding-window__main__form__line--long",children:[Object(l.jsx)("label",{className:"adding-window__main__form__line__label",htmlFor:"name",children:"Product name: "}),Object(l.jsx)("input",{className:"adding-window__main__form__line__input",type:"text",id:"name",value:e.data.name,onChange:e.handleOnChange,placeholder:"Product name",maxLength:"32"}),Object(l.jsx)("p",{className:"adding-window__main__form__line__warning",children:"name"===e.warning[1]?e.warning[0]:null})]}),Object(l.jsxs)("div",{className:"adding-window__main__form__line adding-window__main__form__line--short",children:[Object(l.jsx)("label",{className:"adding-window__main__form__line__label",htmlFor:"weight",children:"Product weight: "}),Object(l.jsx)("input",{className:"adding-window__main__form__line__input",type:"text",id:"weight",value:e.data.weight,onChange:e.handleOnChange,placeholder:"Weight",maxLength:"4"}),Object(l.jsx)("span",{className:"adding-window__main__form__line__decoration",children:"g"}),Object(l.jsx)("p",{className:"adding-window__main__form__line__warning",children:"weight"===e.warning[1]?e.warning[0]:null})]})]}),Object(l.jsxs)("section",{className:"adding-window__main__form adding-window__main__form--nutrition-facts",children:[Object(l.jsx)("h3",{className:"adding-window__main__form__title",children:"Nutrition facts"}),Object(l.jsxs)("div",{className:"adding-window__main__form__line--normal",children:[Object(l.jsx)("label",{className:"adding-window__main__form__line__label",htmlFor:"proteins",children:"Proteins: "}),Object(l.jsx)("input",{className:"adding-window__main__form__line__input",type:"text",id:"proteins",value:e.data.proteins,onChange:e.handleOnChange,placeholder:"Proteins",maxLength:"4"}),Object(l.jsx)("span",{className:"adding-window__main__form__line__decoration",children:"g"}),Object(l.jsx)("p",{className:"adding-window__main__form__line__warning",children:"proteins"===e.warning[1]?e.warning[0]:null})]}),Object(l.jsxs)("div",{className:"adding-window__main__form__line--normal",children:[Object(l.jsx)("label",{className:"adding-window__main__form__line__label",htmlFor:"fats",children:"Fats: "}),Object(l.jsx)("input",{className:"adding-window__main__form__line__input",type:"text",id:"fats",value:e.data.fats,onChange:e.handleOnChange,placeholder:"Fats",maxLength:"4"}),Object(l.jsx)("span",{className:"adding-window__main__form__line__decoration",children:"g"}),Object(l.jsx)("p",{className:"adding-window__main__form__line__warning",children:"fats"===e.warning[1]?e.warning[0]:null})]}),Object(l.jsxs)("div",{className:"adding-window__main__form__line--normal",children:[Object(l.jsx)("label",{className:"adding-window__main__form__line__label",htmlFor:"carbs",children:"Carbs: "}),Object(l.jsx)("input",{className:"adding-window__main__form__line__input",type:"text",id:"carbs",value:e.data.carbs,onChange:e.handleOnChange,placeholder:"Carbohydrates",maxLength:"4"}),Object(l.jsx)("span",{className:"adding-window__main__form__line__decoration",children:"g"}),Object(l.jsx)("p",{className:"adding-window__main__form__line__warning",children:"carbs"===e.warning[1]?e.warning[0]:null})]}),Object(l.jsxs)("div",{className:"adding-window__main__form__line--normal",children:[Object(l.jsx)("label",{className:"adding-window__main__form__line__label",htmlFor:"kcal",children:"Calories: "}),Object(l.jsx)("input",{className:"adding-window__main__form__line__input",type:"text",id:"kcal",value:e.data.kcal,onChange:e.handleOnChange,placeholder:"Calories",maxLength:"4"}),Object(l.jsx)("span",{className:"adding-window__main__form__line__decoration",children:"kcal"}),Object(l.jsx)("p",{className:"adding-window__main__form__line__warning",children:"kcal"===e.warning[1]?e.warning[0]:null})]})]}),Object(l.jsxs)("section",{className:"adding-window__main__form adding-window__main__form--options",children:[Object(l.jsx)("h3",{className:"adding-window__main__form__title",children:"Options"}),Object(l.jsxs)("div",{className:"adding-window__main__form__line adding-window__main__form__line--normal",children:[Object(l.jsx)("label",{className:"adding-window__main__form__line__label adding-window__main__form__line__label--options",htmlFor:"list-saving",children:"Save to list"}),Object(l.jsx)("button",{className:"adding-window__main__form__background",id:"list-saving",type:"button",onClick:function(e){_((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(i.a)({},e.target.id,!r[e.target.id]))}))},children:Object(l.jsx)("div",{className:"adding-window__main__form__background__checked",id:"list-saving",style:r["list-saving"]?{backgroundColor:"#7500AF"}:{backgroundColor:"transparent"}})})]})]}),Object(l.jsxs)("section",{className:"adding-window__main__form adding-window__main__form--buttons-section",children:[Object(l.jsx)("button",{className:p?"adding-window__main__form__tertiary adding-window__main__form__tertiary--disabled":"adding-window__main__form__tertiary",disabled:!!p,type:"button",onClick:h,children:"Clear"}),Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{className:"adding-window__main__form__secondary",type:"button",onClick:O,children:"Cancel"}),Object(l.jsx)("button",{className:u?"adding-window__main__form__primary":"adding-window__main__form__primary adding-window__main__form__primary--disabled",type:"submit",disabled:!u,children:"Add"})]})]})]})})}var h="update-product-data",O="reset-form",f="set-warning",y="clear-warning";function x(e){var t=Object(d.useState)(!1),a=Object(n.a)(t,2),i=a[0],c=a[1],r=Object(d.useState)(!0),_=Object(n.a)(r,2),o=_[0],m=_[1],u={productData:{id:e.data.id,name:e.data.name,weight:e.data.weight,proteins:e.data.proteins,fats:e.data.fats,carbs:e.data.carbs,kcal:e.data.kcal},warning:["",""]},g=Object(d.useReducer)((function(t,a){switch(a.type){case h:switch(a.payload.key){case"name":return Object(s.a)(Object(s.a)({},t),{},{productData:Object(s.a)(Object(s.a)({},t.productData),{},{name:a.payload.value})});case"weight":return Object(s.a)(Object(s.a)({},t),{},{productData:Object(s.a)(Object(s.a)({},t.productData),{},{weight:a.payload.value})});case"proteins":return Object(s.a)(Object(s.a)({},t),{},{productData:Object(s.a)(Object(s.a)({},t.productData),{},{proteins:a.payload.value})});case"fats":return Object(s.a)(Object(s.a)({},t),{},{productData:Object(s.a)(Object(s.a)({},t.productData),{},{fats:a.payload.value})});case"carbs":return Object(s.a)(Object(s.a)({},t),{},{productData:Object(s.a)(Object(s.a)({},t.productData),{},{carbs:a.payload.value})});case"kcal":return Object(s.a)(Object(s.a)({},t),{},{productData:Object(s.a)(Object(s.a)({},t.productData),{},{kcal:a.payload.value})});default:return console.error("Unknown action type: ".concat(a.type))}case O:return Object(s.a)(Object(s.a)({},t),{},{productData:{id:e.data.id,name:e.data.name,weight:e.data.weight,proteins:e.data.proteins,fats:e.data.fats,carbs:e.data.carbs,kcal:e.data.kcal}});case f:return"name"===a.payload?Object(s.a)(Object(s.a)({},t),{},{warning:[T.name,a.payload]}):Object(s.a)(Object(s.a)({},t),{},{warning:[T.weight,a.payload]});case y:return Object(s.a)(Object(s.a)({},t),{},{warning:["",a.payload]});default:return console.error("Unknown action type: ".concat(a.type))}}),u),b=Object(n.a)(g,2),j=b[0],p=b[1];Object(d.useEffect)((function(){w(),x()}),[j.productData]);var w=function(){var e=document.querySelector("#name").value,t=document.querySelector("#weight").value;c(!(!e||!t))},x=function(){Object.keys(e.data).forEach((function(t){e.data[t]!==j.productData[t]&&m(!1)}))};return Object(l.jsxs)("section",{className:"adding-window__edit",children:[Object(l.jsx)("h1",{className:"adding-window__title adding-window__title--edit",children:"Edit product"}),Object(l.jsx)("main",{className:"adding-window__main",children:Object(l.jsxs)("form",{className:"adding-window__main__form adding-window__main__form--edit",onSubmit:function(t){t.preventDefault(),e.handleProductEditing(j.productData)},children:[Object(l.jsxs)("section",{className:"adding-window__main__form adding-window__main__form--product-info",children:[Object(l.jsx)("h3",{className:"adding-window__main__form__title",children:"Product info"}),Object(l.jsxs)("div",{className:"adding-window__main__form__line adding-window__main__form__line--long",children:[Object(l.jsx)("label",{className:"adding-window__main__form__line__label",htmlFor:"name",children:"Product name: "}),Object(l.jsx)("input",{className:"adding-window__main__form__line__input",type:"text",id:"name",value:j.productData.name,onChange:function(e){e.preventDefault(),/[a-z\s]/i.test(e.target.value[e.target.value.length-1])?(p({type:h,payload:{key:"name",value:e.target.value}}),p({type:y,payload:"name"})):(p({type:h,payload:{key:"name",value:""}}),p({type:f,payload:"name"}))},placeholder:"Product name",maxLength:"32"}),Object(l.jsx)("p",{className:"adding-window__main__form__line__warning",children:"name"===j.warning[1]?j.warning[0]:null})]}),Object(l.jsxs)("div",{className:"adding-window__main__form__line adding-window__main__form__line--short",children:[Object(l.jsx)("label",{className:"adding-window__main__form__line__label",htmlFor:"weight",children:"Product weight: "}),Object(l.jsx)("input",{className:"adding-window__main__form__line__input",type:"text",id:"weight",value:j.productData.weight,onChange:function(t){var a=Number(e.data.proteins)/Number(e.data.weight),n=Number(e.data.fats)/Number(e.data.weight),i=Number(e.data.carbs)/Number(e.data.weight),s=Number(e.data.kcal)/Number(e.data.weight),c=function(){p({type:h,payload:{key:"weight",value:""}}),p({type:h,payload:{key:"proteins",value:0}}),p({type:h,payload:{key:"fats",value:0}}),p({type:h,payload:{key:"carbs",value:0}}),p({type:h,payload:{key:"kcal",value:0}}),p({type:f,payload:"weight"})};/[0-9]/.test(t.target.value[t.target.value.length-1])?/^[0]{1}/.test(t.target.value)?c():(p({type:h,payload:{key:"weight",value:Number(t.target.value)}}),p({type:h,payload:{key:"proteins",value:Math.round(t.target.value*a)}}),p({type:h,payload:{key:"fats",value:Math.round(t.target.value*n)}}),p({type:h,payload:{key:"carbs",value:Math.round(t.target.value*i)}}),p({type:h,payload:{key:"kcal",value:Math.round(t.target.value*s)}}),p({type:y,payload:"weight"})):c()},placeholder:"Weight",maxLength:"4"}),Object(l.jsx)("span",{className:"adding-window__main__form__line__decoration",children:"g"}),Object(l.jsx)("p",{className:"adding-window__main__form__line__warning",children:"weight"===j.warning[1]?j.warning[0]:null})]})]}),Object(l.jsxs)("section",{className:"adding-window__main__form adding-window__main__form--nutrition-facts",children:[Object(l.jsx)("h3",{className:"adding-window__main__form__title",children:"Nutrition facts"}),Object(l.jsxs)("div",{className:"adding-window__main__form__line adding-window__main__form__line--normal",children:[Object(l.jsx)("label",{className:"adding-window__main__form__line__label",htmlFor:"proteins",children:"Proteins: "}),Object(l.jsx)("p",{className:"adding-window__main__form__line__input",id:"proteins",children:j.productData.proteins}),Object(l.jsx)("span",{className:"adding-window__main__form__line__decoration",children:"g"})]}),Object(l.jsxs)("div",{className:"adding-window__main__form__line adding-window__main__form__line--normal",children:[Object(l.jsx)("label",{className:"adding-window__main__form__line__label",htmlFor:"fats",children:"Fats: "}),Object(l.jsx)("p",{className:"adding-window__main__form__line__input",id:"fats",children:j.productData.fats}),Object(l.jsx)("span",{className:"adding-window__main__form__line__decoration",children:"g"})]}),Object(l.jsxs)("div",{className:"adding-window__main__form__line adding-window__main__form__line--normal",children:[Object(l.jsx)("label",{className:"adding-window__main__form__line__label",htmlFor:"carbs",children:"Carbs: "}),Object(l.jsx)("p",{className:"adding-window__main__form__line__input",id:"carbs",children:j.productData.carbs}),Object(l.jsx)("span",{className:"adding-window__main__form__line__decoration",children:"g"})]}),Object(l.jsxs)("div",{className:"adding-window__main__form__line adding-window__main__form__line--normal",children:[Object(l.jsx)("label",{className:"adding-window__main__form__line__label",htmlFor:"kcal",children:"Calories: "}),Object(l.jsx)("p",{className:"adding-window__main__form__line__input",id:"kcal",children:j.productData.kcal}),Object(l.jsx)("span",{className:"adding-window__main__form__line__decoration",children:"kcal"})]})]}),Object(l.jsxs)("section",{className:"adding-window__main__form adding-window__main__form--buttons-section",children:[Object(l.jsx)("button",{className:o?"adding-window__main__form__tertiary adding-window__main__form__tertiary--disabled":"adding-window__main__form__tertiary",disabled:!!o,type:"button",onClick:function(e){e.preventDefault(),p({type:O}),p({type:y}),m(!0)},children:"Reset"}),Object(l.jsxs)("div",{className:"adding-window__main__form__right",children:[Object(l.jsx)("button",{className:"adding-window__main__form__secondary",type:"button",onClick:function(){var t=e.data.id;e.handleEditingWindow(t)},children:"Cancel"}),Object(l.jsx)("button",{className:i?"adding-window__main__form__primary":"adding-window__main__form__primary adding-window__main__form__primary--disabled",type:"submit",disabled:!i,children:"Save"})]})]})]})})]})}var N="set-product-send-for-edit",v="negate-edit-window-state",I="update-saved-products-list",D="load-predefined-products-list-from-local-storage",k="set-is-add-button-disabled",E={savedProductList:[{id:0,name:"Cottage cheese",weight:100,proteins:20,fats:10,carbs:15,kcal:250},{id:1,name:"Skyr",weight:100,proteins:20,fats:0,carbs:12,kcal:100},{id:2,name:"Potatos",weight:100,proteins:9,fats:2,carbs:80,kcal:126},{id:3,name:"Coca Cola",weight:100,proteins:0,fats:0,carbs:100,kcal:400},{id:4,name:"Banana",weight:100,proteins:5,fats:3,carbs:52,kcal:173}],productSendForEdit:{id:0,name:"",weight:0,proteins:0,fats:0,carbs:0,kcal:0},isEditWindowOpened:!1,isAddButtonDisabled:!1};function A(e){var t=Object(d.useReducer)((function(e,t){switch(t.type){case D:return Object(s.a)(Object(s.a)({},e),{},{savedProductList:t.payload});case v:return Object(s.a)(Object(s.a)({},e),{},{isEditWindowOpened:!e.isEditWindowOpened});case N:return Object(s.a)(Object(s.a)({},e),{},{productSendForEdit:{id:t.payload.id,name:t.payload.name,weight:t.payload.weight,proteins:t.payload.proteins,fats:t.payload.fats,carbs:t.payload.carbs,kcal:t.payload.kcal}});case I:var a=e.savedProductList;return a[t.payload.index]=t.payload.newProduct,Object(s.a)(Object(s.a)({},e),{},{savedProductList:a});case k:return Object(s.a)(Object(s.a)({},e),{},{isAddButtonDisabled:t.payload});default:return console.error("Unknown action type: ".concat(t.type))}}),E),a=Object(n.a)(t,2),i=a[0],c=a[1];Object(d.useEffect)((function(){var e=[];Object.keys(localStorage).includes("predefined")?(e=JSON.parse(localStorage.getItem("predefined")),c({type:D,payload:e})):(e=i.savedProductList,localStorage.setItem("predefined",JSON.stringify(e)))}),[]),Object(d.useEffect)((function(){m()}),[]),Object(d.useEffect)((function(){var e=document.querySelector(".adding-window");i.isEditWindowOpened?e.style.boxShadow="none":e.style.boxShadow="1px 1px 5px #707070"}),[i.isEditWindowOpened]);var r=function(e){var t=document.getElementById(e.currentTarget.id);if(e.currentTarget.id){var a=t.querySelector(".adding-window__main__adding-list__item__name");"bold"===a.style.fontWeight?(t.style.background="#ffffff",a.style.fontWeight="normal",m()):(t.style.background="#7500AF30",a.style.fontWeight="bold",_(i.savedProductList[u(e.currentTarget.id)]),o())}},_=function(e){c({type:N,payload:e})},o=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(Number.isInteger(e)){var t=document.getElementById(e),a=t.querySelector(".adding-window__main__adding-list__item__name");t.style.background="#ffffff",a.style.fontWeight="normal"}c({type:v}),m()},m=function(){for(var e=document.querySelectorAll(".adding-window__main__adding-list__item"),t=!1,a=0;a<e.length;a++){if("bold"===e[a].querySelector(".adding-window__main__adding-list__item__name").style.fontWeight){t=!1;break}t=!0}c({type:k,payload:t})},u=function(e){var t=i.savedProductList,a=0;return t.forEach((function(t,n){t.id===Number(e)&&(a=n)})),a};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("ul",{className:"adding-window__main__adding-list adding-window__main__adding-list--heading",children:Object(l.jsx)("li",{className:"adding-window__main__adding-list__item adding-window__main__adding-list__item--heading",children:Object(l.jsxs)("div",{className:"adding-window__main__adding-list__wrapper",children:[Object(l.jsx)("span",{className:"adding-window__main__adding-list__item__name",style:{color:"white"},children:"Product name"}),Object(l.jsxs)("span",{className:"adding-window__main__adding-list__item__nutrition-facts",children:[Object(l.jsx)("p",{className:"adding-window__main__adding-list__item__nutrition-facts__proteins",title:"Proteins",children:"P"}),Object(l.jsx)("p",{className:"adding-window__main__adding-list__item__nutrition-facts__fats",title:"Fats",children:"F"}),Object(l.jsx)("p",{className:"adding-window__main__adding-list__item__nutrition-facts__carbs",title:"Carbohydrates",children:"C"})]}),Object(l.jsx)("span",{className:"adding-window__main__adding-list__item__calories",children:"Calories"})]})})}),Object(l.jsx)("ul",{className:"adding-window__main__adding-list",children:i.savedProductList.map((function(e){return Object(l.jsxs)("li",{id:e.id,className:"adding-window__main__adding-list__item",onClick:r,children:[Object(l.jsxs)("div",{className:"adding-window__main__adding-list__wrapper",children:[Object(l.jsx)("span",{id:e.id,className:"adding-window__main__adding-list__item__name",children:e.name}),Object(l.jsxs)("span",{id:e.id,className:"adding-window__main__adding-list__item__nutrition-facts",children:[Object(l.jsxs)("p",{id:e.id,className:"adding-window__main__adding-list__item__nutrition-facts__proteins",title:"Proteins",children:[e.proteins," g"]}),Object(l.jsxs)("p",{id:e.id,className:"adding-window__main__adding-list__item__nutrition-facts__fats",title:"Fats",children:[e.fats," g"]}),Object(l.jsxs)("p",{id:e.id,className:"adding-window__main__adding-list__item__nutrition-facts__carbs",title:"Carbohydrates",children:[e.carbs," g"]})]}),Object(l.jsxs)("span",{id:e.id,className:"adding-window__main__adding-list__item__calories",children:[e.kcal," kcal"]})]}),Object(l.jsxs)("span",{id:e.id,className:"adding-window__main__adding-list__item__weight",children:[e.weight," g"]})]},e.id)}))}),Object(l.jsxs)("section",{className:"adding-window__main__adding-list__buttons-section",children:[Object(l.jsx)("button",{className:"adding-window__main__adding-list__buttons-section__secondary",onClick:e.handleAddWindow,children:"Cancel"}),Object(l.jsx)("button",{className:i.isAddButtonDisabled?"adding-window__main__adding-list__buttons-section__primary adding-window__main__adding-list__buttons-section__primary--disabled":"adding-window__main__adding-list__buttons-section__primary",onClick:function(){var t=[];document.querySelectorAll(".adding-window__main__adding-list__item").forEach((function(e,a){"bold"===e.querySelector(".adding-window__main__adding-list__item__name").style.fontWeight&&t.push({name:i.savedProductList[a-1].name,weight:i.savedProductList[a-1].weight,proteins:i.savedProductList[a-1].proteins,fats:i.savedProductList[a-1].fats,carbs:i.savedProductList[a-1].carbs,kcal:i.savedProductList[a-1].kcal})})),0!==t.length&&e.handlePredefinedProductsAdding(t)},children:"Add"})]}),i.isEditWindowOpened?Object(l.jsx)(x,{data:{id:i.productSendForEdit.id,name:i.productSendForEdit.name,weight:i.productSendForEdit.weight,proteins:i.productSendForEdit.proteins,fats:i.productSendForEdit.fats,carbs:i.productSendForEdit.carbs,kcal:i.productSendForEdit.kcal},warning:e.warning,handleProductEditing:function(e){var t=u(e.id);c({type:I,payload:{index:t,newProduct:e}});var a=i.savedProductList;localStorage.setItem("predefined",JSON.stringify(a)),o()},handleEditingWindow:o}):null]})}function S(e){var t=Object(d.useState)(!0),a=Object(n.a)(t,2),i=a[0],s=a[1];Object(d.useEffect)((function(){document.querySelector(".adding-window").style.pointerEvents="auto"}),[]),Object(d.useEffect)((function(){e.handleFormClearing()}),[i]);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"adding-window__background-blur"}),Object(l.jsxs)("section",{className:"adding-window",children:[Object(l.jsx)("h1",{className:"adding-window__title",children:"exercises"===e.type?"Add serie":"Add product"}),Object(l.jsxs)("button",{className:"adding-window__switch",onClick:function(){s(!i)},children:[Object(l.jsx)("h3",{className:i?"adding-window__switch__left adding-window__switch__left--selected":"adding-window__switch__left",children:"exercises"===e.type?"Last training":"From list"}),Object(l.jsx)("h3",{className:i?"adding-window__switch__right":"adding-window__switch__right adding-window__switch__right--selected",children:"exercises"===e.type?"Last serie":"Your own"})]}),"exercises"===e.type?Object(l.jsx)("main",{className:"adding-window__main",children:i?Object(l.jsx)(w,{type:"last-training",data:{weight:e.data.weight,reps:e.data.reps},warning:e.warning,handleOnChange:e.handleOnChange,handleSerieAdding:e.handleSerieAdding,handleFormClearing:e.handleFormClearing,handleAddWindow:e.handleAddWindow,lastTimeData:e.lastTimeData}):Object(l.jsx)(w,{type:"last-serie",data:{weight:e.data.weight,reps:e.data.reps},warning:e.warning,handleOnChange:e.handleOnChange,handleSerieAdding:e.handleSerieAdding,handleFormClearing:e.handleFormClearing,handleAddWindow:e.handleAddWindow,lastTimeData:e.lastTimeData})}):Object(l.jsx)("main",{className:"adding-window__main",children:i?Object(l.jsx)(A,{warning:e.warning,handleAddWindow:e.handleAddWindow,handlePredefinedProductsAdding:e.handlePredefinedProductsAdding}):Object(l.jsx)(w,{type:"nutrition",data:{isPlaceholderEnabled:e.data.isPlaceholderEnabled,name:e.data.name,weight:e.data.weight,proteins:e.data.proteins,fats:e.data.fats,carbs:e.data.carbs,kcal:e.data.kcal},warning:e.warning,handleOnChange:e.handleOnChange,handleFormClearing:e.handleFormClearing,handleProductAdding:e.handleProductAdding,handleAddWindow:e.handleAddWindow})})]})]})}a(13);function C(e){var t=Object(d.useState)(!1),a=Object(n.a)(t,2),i=a[0],s=a[1],c=Object(d.useState)(!1),r=Object(n.a)(c,2),_=r[0],o=r[1];Object(d.useEffect)((function(){var e=document.querySelector(".removing-window");i?(e.style.filter="blur(4px)",e.style.pointerEvents="none"):(e.style.filter="none",e.style.pointerEvents="auto")}),[i]),Object(d.useEffect)((function(){document.querySelector(".removing-window").style.pointerEvents="auto"}),[]),Object(d.useEffect)((function(){i&&(document.querySelector(".removing-window__confirm").style.pointerEvents="auto")}),[i]),Object(d.useEffect)((function(){u()}),[]);var m=function(e){var t=document.getElementById(e.currentTarget.id);if(e.currentTarget.id){var a=t.querySelector(".removing-window__main__list__item__name");"bold"===a.style.fontWeight?(t.style.background="#ffffff",a.style.fontWeight="normal"):(t.style.background="#7500AF30",a.style.fontWeight="bold"),u()}},u=function(){for(var e=document.querySelectorAll(".removing-window__main__list__item"),t=!1,a=0;a<e.length;a++){if("bold"===e[a].querySelector(".removing-window__main__list__item__name").style.fontWeight){t=!1;break}t=!0}o(t)};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("section",{className:"removing-window",children:[Object(l.jsx)("h1",{className:"removing-window__title",children:"exercises"===e.type?"Remove serie":"Remove product"}),Object(l.jsxs)("main",{className:"removing-window__main",children:[Object(l.jsx)("ul",{className:"removing-window__main__list removing-window__main__list--heading",children:Object(l.jsx)("li",{className:"removing-window__main__list__item removing-window__main__list__item--heading",children:"exercises"===e.type?Object(l.jsxs)("div",{className:"removing-window__main__list__wrapper",children:[Object(l.jsx)("span",{className:"removing-window__main__list__item__name removing-window__main__list__item__name--exercises",style:{color:"white"},children:"Serie"}),Object(l.jsx)("span",{className:"removing-window__main__list__item__nutrition-facts",children:Object(l.jsx)("p",{className:"removing-window__main__list__item__nutrition-facts__proteins",children:"Weight"})}),Object(l.jsx)("span",{className:"removing-window__main__list__item__calories",children:"Repetitions"})]}):Object(l.jsxs)("div",{className:"removing-window__main__list__wrapper",children:[Object(l.jsx)("span",{className:"removing-window__main__list__item__name",style:{color:"white"},children:"Product name"}),Object(l.jsxs)("span",{className:"removing-window__main__list__item__nutrition-facts",children:[Object(l.jsx)("p",{className:"removing-window__main__list__item__nutrition-facts__proteins",title:"Proteins",children:"P"}),Object(l.jsx)("p",{className:"removing-window__main__list__item__nutrition-facts__fats",title:"Fats",children:"F"}),Object(l.jsx)("p",{className:"removing-window__main__list__item__nutrition-facts__carbs",title:"Carbohydrates",children:"C"})]}),Object(l.jsx)("span",{className:"removing-window__main__list__item__calories",children:"Calories"})]})})}),Object(l.jsx)("ul",{className:"removing-window__main__list",children:e.list.map((function(t){return"exercises"===e.type?Object(l.jsx)("li",{onClick:m,id:t.id,className:"removing-window__main__list__item",children:Object(l.jsxs)("div",{className:"removing-window__main__list__wrapper",children:[Object(l.jsxs)("span",{id:t.id,className:"removing-window__main__list__item__name removing-window__main__list__item__name--exercises",children:["Serie ",t.serieCount]}),Object(l.jsx)("span",{id:t.id,className:"removing-window__main__list__item__nutrition-facts",children:Object(l.jsxs)("p",{id:t.id,className:"removing-window__main__list__item__nutrition-facts__proteins",title:"Proteins",children:[t.weight," kg"]})}),Object(l.jsxs)("span",{id:t.id,className:"removing-window__main__list__item__calories",children:[t.reps," reps"]})]})},t.id):Object(l.jsxs)("li",{onClick:m,id:t.id,className:"removing-window__main__list__item",children:[Object(l.jsxs)("div",{className:"removing-window__main__list__wrapper",children:[Object(l.jsx)("span",{id:t.id,className:"removing-window__main__list__item__name",children:t.name}),Object(l.jsxs)("span",{id:t.id,className:"removing-window__main__list__item__nutrition-facts",children:[Object(l.jsxs)("p",{id:t.id,className:"removing-window__main__list__item__nutrition-facts__proteins",title:"Proteins",children:[t.proteins," g"]}),Object(l.jsxs)("p",{id:t.id,className:"removing-window__main__list__item__nutrition-facts__fats",title:"Fats",children:[t.fats," g"]}),Object(l.jsxs)("p",{id:t.id,className:"removing-window__main__list__item__nutrition-facts__carbs",title:"Carbohydrates",children:[t.carbs," g"]})]}),Object(l.jsxs)("span",{id:t.id,className:"removing-window__main__list__item__calories",children:[t.kcal," kcal"]})]}),Object(l.jsxs)("span",{id:t.id,className:"removing-window__main__list__item__weight",children:[t.weight," g"]})]},t.id)}))}),Object(l.jsxs)("section",{className:"removing-window__main__list__buttons-section",children:[Object(l.jsx)("button",{className:"removing-window__main__list__buttons-section__tertiary",onClick:function(){s(!0)},children:"Remove all"}),Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{className:"removing-window__main__list__buttons-section__secondary",onClick:e.handleRemoveWindow,children:"Cancel"}),Object(l.jsx)("button",{className:_?"removing-window__main__list__buttons-section__primary removing-window__main__list__buttons-section__primary--disabled":"removing-window__main__list__buttons-section__primary",onClick:function(){var t=[];document.querySelectorAll(".removing-window__main__list__item").forEach((function(e){"bold"===e.querySelector(".removing-window__main__list__item__name").style.fontWeight&&t.push(Number(e.id))})),0!==t.length&&e.handleRemoving(t)},children:"Remove"})]})]})]})]}),i?Object(l.jsxs)("section",{className:"removing-window__confirm",children:[Object(l.jsx)("h1",{className:"removing-window__title",children:"Remove all?"}),Object(l.jsx)("h3",{className:"removing-window__confirm__subtitle",children:"exercises"===e.type?"Are you sure you want to remove all series in current exercise?":"Are you sure you want to remove all products in current meal?"}),Object(l.jsx)("section",{className:"removing-window__main__list__buttons-section",style:{justifyContent:"flex-end"},children:Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{className:"removing-window__main__list__buttons-section__secondary",onClick:function(){s(!1)},children:"Cancel"}),Object(l.jsx)("button",{className:"removing-window__main__list__buttons-section__primary",onClick:function(){var t=[];document.querySelectorAll(".removing-window__main__list__item").forEach((function(e){t.push(Number(e.id))})),e.handleRemoving(t)},children:"Remove"})]})})]}):null]})}a(14);var T={name:"Name must be a string of letters only",weight:"Weight must be a positive number",macros:"Macronutrient must be a number"},W={NEGATE_MEAL_STATE:"negate-meal-state",NEGATE_ADDING_WINDOW_STATE:"negate-adding-window-state",NEGATE_REMOVING_WINDOW_STATE:"negate-removing-window-state",ADD_PRODUCT:"add-product",ENABLE_PLACEHOLDER:"enable-placeholder",DISABLE_PLACEHOLDER:"disable-placeholder",SET_WARNING:"set-warning",CLEAR_WARNING:"clear-warning",REMOVE_PRODUCT:"remove-product",ADD_TO_SUMMARY:"add-to-summary",SUB_FROM_SUMMARY:"sub-from-summary",CLEAR_PRODUCTLIST_BEFORE_DAY_CHANGING:"clear-productlist-before-day-changing",ADD_PRODUCT_TO_PRODUCTLIST:"add-product-to-productlist"};function P(e){var t={isMealOpened:!1,isAddingWindowOpened:!1,isRemovingWindowOpened:!1,countIngredients:!1,productList:[],newProduct:{id:0,mealId:e.mealId,dateIds:{dayId:0,monthId:0,yearId:0},name:"",weight:"",proteins:"",fats:"",carbs:"",kcal:""},warning:["",""],summary:{proteins:0,fats:0,carbs:0,kcal:0}},a=Object(d.useReducer)((function(t,a){switch(a.type){case W.NEGATE_MEAL_STATE:return Object(s.a)(Object(s.a)({},t),{},{isMealOpened:!t.isMealOpened});case W.NEGATE_ADDING_WINDOW_STATE:return Object(s.a)(Object(s.a)({},t),{},{isAddingWindowOpened:!t.isAddingWindowOpened});case W.NEGATE_REMOVING_WINDOW_STATE:return Object(s.a)(Object(s.a)({},t),{},{isRemovingWindowOpened:!t.isRemovingWindowOpened});case W.CHANGE_NEW_PRODUCT_DATA:switch(a.payload.key){case"name":return Object(s.a)(Object(s.a)({},t),{},{newProduct:Object(s.a)(Object(s.a)({},t.newProduct),{},{name:a.payload.value})});case"weight":return Object(s.a)(Object(s.a)({},t),{},{newProduct:Object(s.a)(Object(s.a)({},t.newProduct),{},{weight:a.payload.value})});case"proteins":return Object(s.a)(Object(s.a)({},t),{},{newProduct:Object(s.a)(Object(s.a)({},t.newProduct),{},{proteins:a.payload.value})});case"fats":return Object(s.a)(Object(s.a)({},t),{},{newProduct:Object(s.a)(Object(s.a)({},t.newProduct),{},{fats:a.payload.value})});case"carbs":return Object(s.a)(Object(s.a)({},t),{},{newProduct:Object(s.a)(Object(s.a)({},t.newProduct),{},{carbs:a.payload.value})});case"kcal":return Object(s.a)(Object(s.a)({},t),{},{newProduct:Object(s.a)(Object(s.a)({},t.newProduct),{},{kcal:a.payload.value})})}case W.ADD_PRODUCT:return t.newProduct.id=Date.now(),t.newProduct.dateIds=e.dateIds,t.productList.push(t.newProduct),localStorage.setItem(t.newProduct.id,JSON.stringify(t.newProduct)),Object(s.a)(Object(s.a)({},t),{},{newProduct:{id:0,mealId:e.mealId,dateIds:{dayId:0,monthId:0,yearId:0},name:"",weight:"",proteins:"",fats:"",carbs:"",kcal:""}});case W.SET_WARNING:switch(a.payload){case"name":return Object(s.a)(Object(s.a)({},t),{},{warning:[T.name,a.payload]});case"weight":return Object(s.a)(Object(s.a)({},t),{},{warning:[T.weight,a.payload]});default:return Object(s.a)(Object(s.a)({},t),{},{warning:[T.macros,a.payload]})}case W.CLEAR_WARNING:return Object(s.a)(Object(s.a)({},t),{},{warning:["",a.payload]});case W.REMOVE_PRODUCT:var n=t.productList;return a.payload.forEach((function(e){n.forEach((function(t,a){Number(t.id)===Number(e)&&(n.splice(a,1),localStorage.removeItem(t.id))}))})),Object(s.a)(Object(s.a)({},t),{},{productList:n});case W.ADD_TO_SUMMARY:switch(a.payload.ingredient){case"proteins":return Object(s.a)(Object(s.a)({},t),{},{summary:Object(s.a)(Object(s.a)({},t.summary),{},{proteins:t.summary.proteins+Number(a.payload.value)})});case"fats":return Object(s.a)(Object(s.a)({},t),{},{summary:Object(s.a)(Object(s.a)({},t.summary),{},{fats:t.summary.fats+Number(a.payload.value)})});case"carbs":return Object(s.a)(Object(s.a)({},t),{},{summary:Object(s.a)(Object(s.a)({},t.summary),{},{carbs:t.summary.carbs+Number(a.payload.value)})});case"kcal":return Object(s.a)(Object(s.a)({},t),{},{summary:Object(s.a)(Object(s.a)({},t.summary),{},{kcal:t.summary.kcal+Number(a.payload.value)})})}case W.SUB_FROM_SUMMARY:switch(a.payload.ingredient){case"proteins":return Object(s.a)(Object(s.a)({},t),{},{summary:Object(s.a)(Object(s.a)({},t.summary),{},{proteins:t.summary.proteins-Number(a.payload.value)})});case"fats":return Object(s.a)(Object(s.a)({},t),{},{summary:Object(s.a)(Object(s.a)({},t.summary),{},{fats:t.summary.fats-Number(a.payload.value)})});case"carbs":return Object(s.a)(Object(s.a)({},t),{},{summary:Object(s.a)(Object(s.a)({},t.summary),{},{carbs:t.summary.carbs-Number(a.payload.value)})});case"kcal":return Object(s.a)(Object(s.a)({},t),{},{summary:Object(s.a)(Object(s.a)({},t.summary),{},{kcal:t.summary.kcal-Number(a.payload.value)})})}case W.ADD_PRODUCT_TO_PRODUCTLIST:return Object(s.a)(Object(s.a)({},t),{},{productList:[].concat(Object(c.a)(t.productList),[a.payload])});case W.CLEAR_PRODUCTLIST_BEFORE_DAY_CHANGING:return Object(s.a)(Object(s.a)({},t),{},{productList:[]});default:return console.error("Unknown action type: ".concat(a.type))}}),t),i=Object(n.a)(a,2),r=i[0],_=i[1],o=Object(d.useState)(!1),m=Object(n.a)(o,2),u=m[0],g=m[1];Object(d.useEffect)((function(){Object.keys(localStorage).forEach((function(t){var a=JSON.parse(localStorage.getItem(t));a.mealId===e.mealId&&a.dateIds.dayId===e.dateIds.dayId&&a.dateIds.monthId===e.dateIds.monthId&&a.dateIds.yearId===e.dateIds.yearId&&_({type:W.ADD_PRODUCT_TO_PRODUCTLIST,payload:a})}))}),[e.dateIds]),Object(d.useEffect)((function(){return function(){return _({type:W.CLEAR_PRODUCTLIST_BEFORE_DAY_CHANGING})}}),[e.dateIds]),Object(d.useEffect)((function(){var e=function(e,t){e&&_({type:t})};e(r.isMealOpened,W.NEGATE_MEAL_STATE),e(r.isAddingWindowOpened,W.NEGATE_ADDING_WINDOW_STATE),e(r.isRemovingWindowOpened,W.NEGATE_REMOVING_WINDOW_STATE)}),[e.dateIds]),Object(d.useEffect)((function(){e.updateGauges(r.summary,e.mealId)}),[r.summary]),Object(d.useEffect)((function(){var e=function(e){var t=document.querySelectorAll(".meal"),a=document.querySelector(".wrapper"),n=document.querySelector(".center-section");t.forEach((function(t){t.querySelector(".meal__buttons-section").style.pointerEvents=e,a.style.pointerEvents=e,n.style.overflowY="none"===e?"hidden":"auto"}))};r.isAddingWindowOpened||r.isRemovingWindowOpened?e("none"):e("auto")}),[r.isAddingWindowOpened,r.isRemovingWindowOpened]);var b=function(e){Object.keys(e).forEach((function(t){_({type:W.ADD_TO_SUMMARY,payload:{ingredient:t,value:e[t]}})}))},j=function(e){Object.keys(e).forEach((function(t){_({type:W.SUB_FROM_SUMMARY,payload:{ingredient:t,value:e[t]}})}))},p=function(){_({type:W.NEGATE_ADDING_WINDOW_STATE})},w=function(){_({type:W.NEGATE_REMOVING_WINDOW_STATE})};return Object(l.jsxs)("div",{className:"meal",style:r.isMealOpened?{marginLeft:"-10px"}:{marginLeft:"0px"},children:[Object(l.jsxs)("section",{className:"meal__top-section",onClick:function(){_({type:W.NEGATE_MEAL_STATE})},children:[Object(l.jsx)("h2",{className:"meal__top-section__meal-title",children:e.name}),Object(l.jsxs)("ul",{className:"meal__top-section__meal-stats-list",children:[Object(l.jsxs)("li",{className:"meal__top-section__meal-stats-list__item",children:[r.summary.proteins," g"]}),Object(l.jsxs)("li",{className:"meal__top-section__meal-stats-list__item",children:[r.summary.fats," g"]}),Object(l.jsxs)("li",{className:"meal__top-section__meal-stats-list__item",children:[r.summary.carbs," g"]}),Object(l.jsxs)("li",{className:"meal__top-section__meal-stats-list__item",children:[r.summary.kcal," kcal"]})]})]}),0!==r.productList.length?Object(l.jsx)("section",{className:"meal__products-section",style:r.isMealOpened?{display:"flex"}:{display:"none"},children:r.productList.map((function(e){return Object(l.jsx)(R,{name:e.name,weight:e.weight,proteins:e.proteins,fats:e.fats,carbs:e.carbs,kcal:e.kcal,addIngredientsFunction:b,subIngredientsFunction:j},e.id)}))}):null,Object(l.jsx)("section",{className:"meal__buttons-section",style:r.isMealOpened?{display:"flex"}:{display:"none"},children:Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{className:r.productList.length?"meal__buttons-section__remove-button":"meal__buttons-section__remove-button--disabled",onClick:r.productList.length?w:null,disabled:!(!r.isAddingWindowOpened&&!r.isRemovingWindowOpened),children:"Remove"}),Object(l.jsx)("button",{className:"meal__buttons-section__add-button",onClick:p,disabled:!(!r.isAddingWindowOpened&&!r.isRemovingWindowOpened),children:"Add"})]})}),r.isAddingWindowOpened?Object(l.jsx)(S,{data:{isPlaceholderEnabled:u,name:r.newProduct.name,weight:r.newProduct.weight,proteins:r.newProduct.proteins,fats:r.newProduct.fats,carbs:r.newProduct.carbs,kcal:r.newProduct.kcal},warning:r.warning,handleOnChange:function(e){console.log(r.productList);var t=function(){_({type:W.CHANGE_NEW_PRODUCT_DATA,payload:{key:e.target.id,value:""}}),_({type:W.SET_WARNING,payload:e.target.id})},a=function(){_({type:W.CHANGE_NEW_PRODUCT_DATA,payload:{key:e.target.id,value:e.target.value}}),_({type:W.CLEAR_WARNING,payload:e.target.id})};"name"===e.target.id?/[a-z\s]/i.test(e.target.value[e.target.value.length-1])?a():t():/[0-9]/.test(e.target.value[e.target.value.length-1])?/^[0]{1}/.test(e.target.value)?"weight"===e.target.id?t():(_({type:W.CHANGE_NEW_PRODUCT_DATA,payload:{key:e.target.id,value:"0"}}),_({type:W.CLEAR_WARNING,payload:e.target.id})):a():t()},handleFormClearing:function(){_({type:W.CHANGE_NEW_PRODUCT_DATA,payload:{key:"name",value:""}}),_({type:W.CHANGE_NEW_PRODUCT_DATA,payload:{key:"weight",value:""}}),_({type:W.CHANGE_NEW_PRODUCT_DATA,payload:{key:"proteins",value:""}}),_({type:W.CHANGE_NEW_PRODUCT_DATA,payload:{key:"fats",value:""}}),_({type:W.CHANGE_NEW_PRODUCT_DATA,payload:{key:"carbs",value:""}}),_({type:W.CHANGE_NEW_PRODUCT_DATA,payload:{key:"kcal",value:""}}),g(!1)},handleProductAdding:function(e){e.preventDefault(),setTimeout((function(){_({type:W.ADD_PRODUCT})}),10),_({type:W.NEGATE_ADDING_WINDOW_STATE})},handleAddWindow:p,handlePredefinedProductsAdding:function(e){e.forEach((function(e){setTimeout((function(){Object.keys(e).forEach((function(t){_({type:W.CHANGE_NEW_PRODUCT_DATA,payload:{key:t,value:e[t]}})})),_({type:W.ADD_PRODUCT})}),10)})),_({type:W.NEGATE_ADDING_WINDOW_STATE})}}):null,r.isRemovingWindowOpened?Object(l.jsx)(C,{list:r.productList,handleRemoving:function(e){_({type:W.REMOVE_PRODUCT,payload:e}),_({type:W.NEGATE_REMOVING_WINDOW_STATE})},handleRemoveWindow:w}):null]})}function R(e){return Object(d.useEffect)((function(){var t={proteins:e.proteins,fats:e.fats,carbs:e.carbs,kcal:e.kcal};return e.addIngredientsFunction(t),function(){e.subIngredientsFunction(t)}}),[]),Object(l.jsxs)("div",{className:"meal__products-section__product",children:[Object(l.jsxs)("div",{className:"meal__products-section__product__info",children:[Object(l.jsx)("h2",{className:"meal__products-section__product__title",children:e.name}),Object(l.jsxs)("p",{className:"meal__products-section__product__weight",children:[e.weight," g"]})]}),Object(l.jsxs)("ul",{className:"meal__products-section__product__stats-list",children:[Object(l.jsxs)("li",{className:"meal__products-section__product__stats-list__item",children:[e.proteins," g"]}),Object(l.jsxs)("li",{className:"meal__products-section__product__stats-list__item",children:[e.fats," g"]}),Object(l.jsxs)("li",{className:"meal__products-section__product__stats-list__item",children:[e.carbs," g"]}),Object(l.jsxs)("li",{className:"meal__products-section__product__stats-list__item",children:[e.kcal," kcal"]})]})]})}a(15);function L(e){return Object(l.jsxs)("div",{className:e.isKcal?"right-section__gauge-container right-section__gauge-container--kcal":"right-section__gauge-container",children:[Object(l.jsx)("div",{className:e.isKcal?"right-section__gauge-container__bar right-section__gauge-container__bar--kcal":"right-section__gauge-container__bar",style:e.percent<100?function(){var t=2.7*e.percent;return t<90?{transform:"rotate(".concat(t,"deg)")}:t>=90&&t<180?{transform:"rotate(".concat(t,"deg)"),borderRightColor:"#ffffff80"}:t>=180?{transform:"rotate(".concat(t,"deg)"),borderRightColor:"#ffffff80",borderTopColor:"#ffffff80"}:void 0}():{borderColor:"#e00000"}}),Object(l.jsxs)("div",{className:e.isKcal?"right-section__gauge-container__text right-section__gauge-container__text--kcal":"right-section__gauge-container__text",children:[Object(l.jsxs)("h4",{className:e.isKcal?"right-section__gauge-container__text__amount right-section__gauge-container__text__amount--kcal":"right-section__gauge-container__text__amount",children:[e.amount," ",e.isKcal?null:"g"]}),Object(l.jsxs)("h6",{className:e.isKcal?"right-section__gauge-container__text__name right-section__gauge-container__text__name--kcal":"right-section__gauge-container__text__name",children:[e.name," "]}),Object(l.jsxs)("p",{className:e.isKcal?"right-section__gauge-container__text__percent right-section__gauge-container__text__percent--kcal":"right-section__gauge-container__text__percent",children:[e.percent," %"]}),Object(l.jsxs)("h5",{className:e.isKcal?"right-section__gauge-container__text__left right-section__gauge-container__text__left--kcal":"right-section__gauge-container__text__left",children:[e.left," ",e.isKcal?null:"g"," left"]})]})]})}a(22),a(23);function F(e){Object(d.useEffect)((function(){document.querySelector(".removing-window").style.pointerEvents="auto"}),[]);return Object(l.jsxs)("section",{className:"removing-window",children:[Object(l.jsx)("h1",{className:"removing-window__title",children:"More info"}),Object(l.jsx)("main",{className:"removing-window__main",children:Object(l.jsx)("section",{className:"removing-window__main__list__buttons-section removing-window__main__list__buttons-section--more",children:Object(l.jsx)("button",{className:"removing-window__main__list__buttons-section__primary",onClick:function(){e.handleMoreWindow()},children:"Back"})})})]})}var M="negate-exercise-opened",q="negate-add-window-state",G="negate-remove-window-state",U="negate-more-window-state",B="sort-serieslist",J="change-new-serie-data",H="update-lasttime-data",Y="set-warning",K="clear-warning",V="add-serie",z="remove-serie",Q="add-serie-to-serieslist",X="clear-serieslist-before-day-change",Z="Weight must be a positive number",$="Reps must be a positive number";function ee(e){var t={isExerciseOpened:!1,isAddWindowOpened:!1,isRemoveWindowOpened:!1,isMoreWindowOpened:!1,lastTimeData:{training:{weight:"First time",reps:"First time"},serie:{weight:"First time",reps:"First time"}},seriesList:[],warning:["",""],newSerie:{id:0,exerciseId:e.exerciseId,trainingId:0,dateIds:{dayId:0,monthId:0,yearId:0},serieCount:"",weight:"",reps:""}},a=function(e){var t={dayId:0,monthId:0,yearId:0};return 1===e.dayId&&1===e.monthId?(t.dayId=31,t.monthId=12,t.yearId=e.yearId-1):1===e.dayId&&3===e.monthId?(e.yearId%4===0&&e.yearId%100!==0||e.yearId%400===0?t.dayId=29:t.dayId=28,t.monthId=2,t.yearId=e.yearId):1!==e.dayId||4!==e.monthId&&6!==e.monthId&&8!==e.monthId&&9!==e.monthId&&11!==e.monthId?1===e.dayId?(t.dayId=30,t.monthId=e.monthId-1,t.yearId=e.yearId):(t.dayId=e.dayId-1,t.monthId=e.monthId,t.yearId=e.yearId):(t.dayId=31,t.monthId=e.monthId-1,t.yearId=e.yearId),t},i=Object(d.useReducer)((function(t,n){switch(n.type){case M:return Object(s.a)(Object(s.a)({},t),{},{isExerciseOpened:!t.isExerciseOpened});case q:return Object(s.a)(Object(s.a)({},t),{},{isAddWindowOpened:!t.isAddWindowOpened});case G:return Object(s.a)(Object(s.a)({},t),{},{isRemoveWindowOpened:!t.isRemoveWindowOpened});case U:return Object(s.a)(Object(s.a)({},t),{},{isMoreWindowOpened:!t.isMoreWindowOpened});case J:switch(n.payload.key){case"weight":return Object(s.a)(Object(s.a)({},t),{},{newSerie:Object(s.a)(Object(s.a)({},t.newSerie),{},{weight:n.payload.value})});case"reps":return Object(s.a)(Object(s.a)({},t),{},{newSerie:Object(s.a)(Object(s.a)({},t.newSerie),{},{reps:n.payload.value})})}case V:var i=t.seriesList,d=1;return t.newSerie.id=Date.now(),t.newSerie.dateIds=e.dateIds,i.push(t.newSerie),i.forEach((function(e){e.serieCount=d,d++})),localStorage.setItem(t.newSerie.id,JSON.stringify(t.newSerie)),Object(s.a)(Object(s.a)({},t),{},{newSerie:{id:0,exerciseId:e.exerciseId,dateIds:{dayId:0,monthId:0,yearId:0},serieCount:"",weight:"",reps:""},seriesList:i});case z:var r=t.seriesList,_=n.payload,o=1;return _.forEach((function(e){r.forEach((function(t,a){localStorage.removeItem(t.id),Number(t.id)===Number(e)&&r.splice(a,1)}))})),r.forEach((function(e){e.serieCount=o,localStorage.setItem(e.id,JSON.stringify(e)),o++})),Object(s.a)(Object(s.a)({},t),{},{seriesList:r});case Y:switch(n.payload){case"weight":return Object(s.a)(Object(s.a)({},t),{},{warning:[Z,n.payload]});case"reps":return Object(s.a)(Object(s.a)({},t),{},{warning:[$,n.payload]})}case K:return Object(s.a)(Object(s.a)({},t),{},{warning:["",n.payload]});case Q:return Object(s.a)(Object(s.a)({},t),{},{seriesList:[].concat(Object(c.a)(t.seriesList),[n.payload])});case B:var l=function(){for(var e=1,a=[];a.length!==t.seriesList.length;)t.seriesList.forEach((function(t){t.serieCount===e&&a.push(t)})),e++;return{v:Object(s.a)(Object(s.a)({},t),{},{seriesList:a})}}();if("object"===typeof l)return l.v;case X:return Object(s.a)(Object(s.a)({},t),{},{seriesList:[]});case H:var m=function(){var n=0,i=0,c={weight:"First serie",reps:"First serie"},d={weight:"First training",reps:"First training"};0!==t.seriesList.length&&(t.seriesList.forEach((function(e,t){e.serieCount>n&&(n=e.serieCount,i=t)})),c={weight:t.seriesList[i].weight,reps:t.seriesList[i].reps});var r=[],_={},o=e.dateIds;if(0!==Object.keys(localStorage).length&&(Object.keys(localStorage).forEach((function(t){var a=JSON.parse(localStorage.getItem(t));a.exerciseId===e.exerciseId&&a.serieCount===n+1&&(a.dateIds.dayId<e.dateIds.dayId&&a.dateIds.monthId===e.dateIds.monthId&&a.dateIds.yearId===e.dateIds.yearId||a.dateIds.dayId>e.dateIds.dayId&&a.dateIds.monthId<e.dateIds.monthId&&a.dateIds.yearId===e.dateIds.yearId||a.dateIds.dayId>e.dateIds.dayId&&a.dateIds.monthId>e.dateIds.monthId&&a.dateIds.yearId<e.dateIds.yearId)&&r.push(a)})),console.log(r),0!==r.length))for(;;)if(o=a(o),console.log(o),r.forEach((function(e){JSON.stringify(o)===JSON.stringify(e.dateIds)&&(_=e),console.log(_),console.log(e.dateIds)})),void 0!==_.weight){d={weight:_.weight,reps:_.reps};break}return console.log(r.length),console.log(r),console.log(_),console.log(d),{v:Object(s.a)(Object(s.a)({},t),{},{lastTimeData:{training:d,serie:c}})}}();if("object"===typeof m)return m.v;default:return console.error("Unknown action type: ".concat(n.type))}}),t),r=Object(n.a)(i,2),_=r[0],o=r[1];Object(d.useEffect)((function(){Object.keys(localStorage).forEach((function(t){var a=JSON.parse(localStorage.getItem(t));a.exerciseId===e.exerciseId&&a.dateIds.dayId===e.dateIds.dayId&&a.dateIds.monthId===e.dateIds.monthId&&a.dateIds.yearId===e.dateIds.yearId&&o({type:Q,payload:a})})),o({type:B}),o({type:H})}),[e.dateIds]),Object(d.useEffect)((function(){return function(){return o({type:X})}}),[e.dateIds]),Object(d.useEffect)((function(){}),[e.dateIds]),Object(d.useEffect)((function(){var e=function(e,t){e&&o({type:t})};e(_.isExerciseOpened,M),e(_.isAddWindowOpened,q),e(_.isRemoveWindowOpened,G),e(_.isMoreWindowOpened,U)}),[e.dateIds]),Object(d.useEffect)((function(){var e=function(e){var t=document.querySelectorAll(".meal"),a=document.querySelector(".wrapper"),n=document.querySelector(".center-section");t.forEach((function(t){t.querySelector(".meal__buttons-section").style.pointerEvents=e,a.style.pointerEvents=e,n.style.overflowY="none"===e?"hidden":"auto"}))};_.isAddWindowOpened||_.isRemoveWindowOpened||_.isMoreWindowOpened?e("none"):e("auto")}),[_.isAddWindowOpened,_.isRemoveWindowOpened,_.isMoreWindowOpened]),Object(d.useEffect)((function(){o({type:H})}),[_.isAddWindowOpened,_.isRemoveWindowOpened]);var m,u=function(){o({type:q})},g=function(){o({type:G})},b=function(){o({type:U})},j=function(e){var t=0;return e.forEach((function(e){t+=Number(e.weight)*Number(e.reps)})),t},p=function(e){var t=0;return e.forEach((function(e){t+=Number(e.reps)})),t},w=function(t){Object.keys(localStorage).forEach((function(a){var n,i,s=JSON.parse(localStorage.getItem(a));if(s.exerciseId===e.exerciseId&&(n=s.dateIds,i=e.dateIds,(n.dayId!==i.dayId||n.monthId!==i.monthId||n.yearId!==i.yearId)&&s.id<Date.now()&&s.serieCount===t.serieCount))return{weight:s.weight,reps:s.reps}}))};return Object(l.jsxs)("div",{className:"meal exercise",style:_.isExerciseOpened?{marginLeft:"-10px"}:{marginLeft:"0px"},children:[Object(l.jsxs)("section",{className:"meal__top-section exercise__top-section",onClick:function(){o({type:M})},children:[Object(l.jsx)("h2",{className:"meal__top-section__meal-title",children:e.name}),Object(l.jsxs)("div",{className:"exercise__top-section__grade-container",children:[Object(l.jsx)("span",{className:"exercise__top-section__grade-container__point"}),Object(l.jsx)("span",{className:"exercise__top-section__grade-container__point"}),Object(l.jsx)("span",{className:"exercise__top-section__grade-container__point"})]})]}),0!==_.seriesList.length?Object(l.jsxs)("section",{className:"meal__products-section exercise__series-section",style:_.isExerciseOpened?{display:"flex"}:{display:"none"},children:[Object(l.jsx)("ul",{className:"exercise__series-section__list",children:_.seriesList.map((function(e){return Object(l.jsxs)("li",{className:"exercise__series-section__list__item",children:[Object(l.jsxs)("p",{className:"exercise__series-section__list__item__count",children:["Serie ",e.serieCount]}),Object(l.jsxs)("p",{className:"exercise__series-section__list__item__weight",children:[e.weight," kg"]}),Object(l.jsxs)("p",{className:"exercise__series-section__list__item__reps",children:[e.reps," reps"]})]},e.id)}))}),Object(l.jsxs)("ul",{className:"exercise__series-section__summary",children:[Object(l.jsxs)("li",{className:"exercise__series-section__summary__item",children:[Object(l.jsx)("p",{className:"exercise__series-section__summary__item__count",children:"Total"}),Object(l.jsxs)("p",{className:"exercise__series-section__summary__item__weight",children:[j(_.seriesList)," kg"]}),Object(l.jsxs)("p",{className:"exercise__series-section__summary__item__reps",children:[p(_.seriesList)," reps"]})]}),Object(l.jsxs)("li",{className:"exercise__series-section__summary__item",children:[Object(l.jsx)("p",{className:"exercise__series-section__list__item__count",children:"5% more than last time"}),Object(l.jsxs)("p",{className:"exercise__series-section__list__item__reps exercise__series-section__list__item__reps--stats",children:[(m=_.seriesList,(j(m)/p(m)).toFixed(2))," kg per rep"]})]})]})]}):null,Object(l.jsxs)("section",{className:"meal__buttons-section exercise__buttons-section",style:_.isExerciseOpened?{display:"flex"}:{display:"none"},children:[Object(l.jsx)("button",{className:"adding-window__main__form__tertiary",onClick:b,children:"More"}),Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{className:_.seriesList.length?"meal__buttons-section__remove-button":"meal__buttons-section__remove-button--disabled",onClick:_.seriesList.length?g:null,disabled:!(!_.isAddWindowOpened&&!_.isRemoveWindowOpened),children:"Remove"}),Object(l.jsx)("button",{className:"adding-window__main__form__primary",onClick:u,disabled:!(!_.isAddWindowOpened&&!_.isRemoveWindowOpened),children:"Add"})]})]}),_.isAddWindowOpened?Object(l.jsx)(S,{type:"exercises",handleAddWindow:u,data:{weight:_.newSerie.weight,reps:_.newSerie.reps},warning:_.warning,handleOnChange:function(e){w(23);var t=function(){o({type:J,payload:{key:e.target.id,value:""}}),o({type:Y,payload:e.target.id})};/[0-9]/.test(e.target.value[e.target.value.length-1])?/^[0]{1}/.test(e.target.value)?t():(o({type:J,payload:{key:e.target.id,value:e.target.value}}),o({type:K,payload:e.target.id})):t()},handleFormClearing:function(){o({type:J,payload:{key:"weight",value:""}}),o({type:J,payload:{key:"reps",value:""}})},handleSerieAdding:function(e){e.preventDefault(),setTimeout((function(){o({type:V})}),10),o({type:q})},lastTimeData:_.lastTimeData}):null,_.isRemoveWindowOpened?Object(l.jsx)(C,{type:"exercises",list:_.seriesList,handleRemoving:function(e){o({type:z,payload:e}),o({type:G})},handleRemoveWindow:g}):null,_.isMoreWindowOpened?Object(l.jsx)(F,{type:"exercises",handleMoreWindow:b}):null]})}a(24);var te=["Log in","Nutrition","Training","Settings","About"],ae="update-meals-ingredients-summary",ne="update-daily-ingredients-summary",ie="count-gauges-data",se="change-date",ce="change-page-title",de="change-settings-data",re="backup-old-settings",_e="restore-old-settings",oe="load-settings",le="set-clear-all-products",me=function(e,t){return Number.isNaN(Math.round(e/t*100))?0:Math.round(e/t*100)};function ue(){Object(d.useEffect)((function(){0!==Object.keys(localStorage).length?r({type:oe}):O(),y()}),[]);var e=Object(d.useReducer)((function(e,t){switch(t.type){case ae:var a=Object(c.a)(e.mealsIngredientsSummary);return a[t.payload.mealId]={proteins:t.payload.data.proteins,fats:t.payload.data.fats,carbs:t.payload.data.carbs,kcal:t.payload.data.kcal},Object(s.a)(Object(s.a)({},e),{},{mealsIngredientsSummary:a});case ne:var n={proteins:0,fats:0,carbs:0,kcal:0},d={proteins:0,fats:0,carbs:0,kcal:0};return e.mealsIngredientsSummary.forEach((function(e){d={proteins:e.proteins,fats:e.fats,carbs:e.carbs,kcal:e.kcal},n={proteins:n.proteins+d.proteins,fats:n.fats+d.fats,carbs:n.carbs+d.carbs,kcal:n.kcal+d.kcal},d={proteins:0,fats:0,carbs:0,kcalS:0}})),Object(s.a)(Object(s.a)({},e),{},{dailyIngredientsSummary:n});case ie:var r=t.payload.typeOfIngredient;return Object(s.a)(Object(s.a)({},e),{},{gaugesData:Object(s.a)(Object(s.a)({},e.gaugesData),{},Object(i.a)({},r,{eaten:e.dailyIngredientsSummary[r],left:(o=e.dailyIngredientsSummary[r],l=e.settingsData.nutrition.dailyDemand[r],o>=l?0:l-o),max:e.settingsData.nutrition.dailyDemand[r],percent:me(e.dailyIngredientsSummary[r],e.settingsData.nutrition.dailyDemand[r])}))});case se:return Object(s.a)(Object(s.a)({},e),{},{dateIds:{dayId:t.payload.currentDay,monthId:t.payload.currentMonth,yearId:t.payload.currentYear}});case ce:return Object(s.a)(Object(s.a)({},e),{},{pageTitle:t.payload});case re:return Object(s.a)(Object(s.a)({},e),{},{oldSettingsData:e.settingsData});case _e:return Object(s.a)(Object(s.a)({},e),{},{settingsData:e.oldSettingsData});case de:switch(t.payload.key){case"editMealName":return Object(s.a)(Object(s.a)({},e),{},{settingsData:Object(s.a)(Object(s.a)({},e.settingsData),{},{nutrition:Object(s.a)(Object(s.a)({},e.settingsData.nutrition),{},{namesOfMeals:Object(s.a)(Object(s.a)({},e.settingsData.nutrition.namesOfMeals),{},Object(i.a)({},t.payload.index,t.payload.value))})})});case"setMealsNumber":return Object(s.a)(Object(s.a)({},e),{},{settingsData:Object(s.a)(Object(s.a)({},e.settingsData),{},{nutrition:Object(s.a)(Object(s.a)({},e.settingsData.nutrition),{},{numberOfMeals:t.payload.value})})});default:return Object(s.a)(Object(s.a)({},e),{},{settingsData:Object(s.a)(Object(s.a)({},e.settingsData),{},{nutrition:Object(s.a)(Object(s.a)({},e.settingsData.nutrition),{},{dailyDemand:Object(s.a)(Object(s.a)({},e.settingsData.nutrition.dailyDemand),{},Object(i.a)({},t.payload.key,t.payload.value))})})})}case oe:var _=JSON.parse(localStorage.getItem("settings"));return Object(s.a)(Object(s.a)({},e),{},{settingsData:_});case le:return Object(s.a)(Object(s.a)({},e),{},{clearAllProducts:t.payload});default:return console.error("Unknown action type: ".concat(t.type))}var o,l}),{dateIds:{dayId:0,monthId:0,yearId:0},pageTitle:"Dashboard",mealsIngredientsSummary:[],dailyIngredientsSummary:{kcal:0,proteins:0,fats:0,carbs:0},gaugesData:{kcal:{eaten:0,left:0,max:0,percent:0},proteins:{eaten:0,left:0,max:0,percent:0},fats:{eaten:0,left:0,max:0,percent:0},carbs:{eaten:0,left:0,max:0,percent:0}},settingsData:{main:{},nutrition:{dailyDemand:{kcal:2e3,proteins:120,fats:55,carbs:240},namesOfMeals:{0:"Breakfast",1:"II Breakfast",2:"Lunch",3:"Snack",4:"Dinner",5:"",6:"",7:"",8:"",9:""},numberOfMeals:5},training:{namesOfExercises:{0:"Bench Press",1:"Deadlift",2:"Squat",3:"Biceps",4:"Triceps",5:"ABS",6:"",7:"",8:"",9:""},numberOfExercises:6}},trainingDays:[1,3,5],clearAllProducts:!1,oldSettingsData:{}}),t=Object(n.a)(e,2),a=t[0],r=t[1];Object(d.useEffect)((function(){j()}),[a.dateIds]);var _=function(e,t){r({type:ae,payload:{data:e,mealId:t}}),o()},o=function(){r({type:ne}),j()},j=function(){Object.keys(a.settingsData.nutrition.dailyDemand).forEach((function(e){r({type:ie,payload:{typeOfIngredient:e}})}))},w=function(e){!function(e){r({type:ce,payload:"Nutrition"===e?"Dashboard":e}),r({type:le,payload:!1}),f()}(e)},h=function(e){document.querySelector("#"+e).checked=!1},O=function(){localStorage.setItem("settings",JSON.stringify(a.settingsData))},f=function(){r({type:_e})},y=function(){r({type:re})},x=function(e){e.preventDefault(),"editMealName"===e.target.id&&r({type:de,payload:{key:e.target.id,index:Number(e.target.attributes["data-key"].value),value:e.target.value}}),/[0-9]/.test(e.target.value[e.target.value.length-1])?/^[0]{1}/.test(e.target.value)?r({type:de,payload:{key:e.target.id,value:1}}):r({type:de,payload:{key:e.target.id,value:e.target.value}}):r({type:de,payload:{key:e.target.id,value:""}}),j()};return Object(l.jsxs)("div",{className:"wrapper",children:[Object(l.jsxs)("aside",{className:"left-section",children:[Object(l.jsxs)("header",{className:"left-section__logo-container",children:[Object(l.jsx)(m,{}),Object(l.jsx)(u,{})]}),Object(l.jsx)("ul",{className:"left-section__menu-container",children:te.map((function(e,t){return Object(l.jsx)(b,{value:e,href:"",isActive:!1,linkTo:w},t)}))}),Object(l.jsx)("h2",{className:"left-section__quotation-container",children:Object(l.jsx)(g,{})})]}),Object(l.jsxs)("main",{className:"center-section",children:[Object(l.jsxs)("section",{className:"center-section__top",children:[Object(l.jsx)("h3",{className:"center-section__top__title",children:a.pageTitle}),("Dashboard"===a.pageTitle||"Training"===a.pageTitle)&&Object(l.jsx)(p,{changeDate:function(e){r({type:se,payload:e})}})]}),Object(l.jsxs)("section",{className:"center-section__main",children:["Log in"===a.pageTitle&&Object(l.jsx)("h2",{children:"Log in"}),"Training"===a.pageTitle&&Object.values(a.settingsData.training.namesOfExercises).map((function(e,t){if(a.settingsData.training.numberOfExercises>t)return Object(l.jsx)(ee,{name:e,exerciseId:t,dateIds:a.dateIds,trainingDays:a.trainingDays},t)})),"Dashboard"===a.pageTitle&&Object.values(a.settingsData.nutrition.namesOfMeals).map((function(e,t){if(a.settingsData.nutrition.numberOfMeals>t)return Object(l.jsx)(P,{name:e,mealId:t,dateIds:a.dateIds,updateGauges:_},t)})),"Settings"===a.pageTitle&&Object(l.jsxs)(l.Fragment,{children:[a.clearAllProducts&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{children:"Remove ALL products?"}),Object(l.jsx)("button",{onClick:function(){r({type:le,payload:!1}),Object.keys(localStorage).forEach((function(e){"settings"===e||"predefined"===e?console.log(e):localStorage.removeItem(e)}))},children:"Remove"}),Object(l.jsx)("button",{onClick:function(){r({type:le,payload:!1})},children:"Cancel"})]}),Object(l.jsx)("section",{className:"center-section__main__settings",children:Object(l.jsxs)("form",{className:"center-section__main__settings__form",onSubmit:function(e){e.preventDefault(),!0===e.target[4].checked&&r({type:le,payload:!0}),y(),f(),O(),h("clearAllProducts"),j()},children:[Object(l.jsxs)("section",{className:"center-section__main__settings__form__section",children:[Object(l.jsx)("h2",{className:"center-section__main__settings__form__section__title",children:"Nutrition"}),Object(l.jsx)("label",{htmlFor:"setDailyDemand",children:"Set daily demand: "}),Object(l.jsxs)("section",{id:"setDailyDemand",className:"center-section__main__settings__form__section__daily-demand",children:[Object(l.jsxs)("span",{className:"center-section__main__settings__form__section__input",children:[Object(l.jsx)("label",{htmlFor:"kcal",children:"Kcal: "}),Object(l.jsx)("input",{type:"text",id:"kcal",value:a.settingsData.nutrition.dailyDemand.kcal,maxLength:5,onChange:x,required:!0})]}),Object(l.jsxs)("span",{className:"center-section__main__settings__form__section__input",children:[Object(l.jsx)("label",{htmlFor:"proteins",children:"Proteins: "}),Object(l.jsx)("input",{type:"text",id:"proteins",value:a.settingsData.nutrition.dailyDemand.proteins,maxLength:4,onChange:x,required:!0})]}),Object(l.jsxs)("span",{className:"center-section__main__settings__form__section__input",children:[Object(l.jsx)("label",{htmlFor:"fats",children:"Fats: "}),Object(l.jsx)("input",{type:"text",id:"fats",value:a.settingsData.nutrition.dailyDemand.fats,maxLength:4,onChange:x,required:!0})]}),Object(l.jsxs)("span",{className:"center-section__main__settings__form__section__input",children:[Object(l.jsx)("label",{htmlFor:"carbs",children:"Carbs: "}),Object(l.jsx)("input",{type:"text",id:"carbs",value:a.settingsData.nutrition.dailyDemand.carbs,maxLength:4,onChange:x,required:!0})]})]}),Object(l.jsxs)("span",{className:"center-section__main__settings__form__section__input",children:[Object(l.jsx)("label",{htmlFor:"clearAllProducts",children:"Clear all products: "}),Object(l.jsx)("input",{type:"checkbox",id:"clearAllProducts"})]}),Object(l.jsxs)("span",{className:"center-section__main__settings__form__section__input",children:[Object(l.jsx)("label",{htmlFor:"setMealsNumber",children:"Set number of meals: "}),Object(l.jsx)("input",{type:"text",id:"setMealsNumber",maxLength:"1",value:a.settingsData.nutrition.numberOfMeals,onChange:x,required:!0})]}),Object.values(a.settingsData.nutrition.namesOfMeals).map((function(e,t){return a.settingsData.nutrition.numberOfMeals>t?Object(l.jsxs)("span",{className:"center-section__main__settings__form__section__input",children:[Object(l.jsx)("label",{htmlFor:"editMealName",children:"Set meal name: "}),Object(l.jsx)("input",{"data-key":t,type:"text",id:"editMealName",value:a.settingsData.nutrition.namesOfMeals[t],onChange:x,required:!0})]},t):null}))]}),Object(l.jsx)("input",{className:"center-section__main__settings__form__submit-button",type:"submit",value:"Save",id:"saveSettings"}),Object(l.jsx)("button",{className:"center-section__main__settings__form__cancel-button",onClick:function(e){e.preventDefault(),f(),O(),h("clearAllProducts"),j()},disabled:a.oldSettingsData===a.settingsData,children:"Cancel"})]})})]}),"About"===a.pageTitle&&Object(l.jsx)("h2",{children:"About"})]})]}),Object(l.jsxs)("aside",{className:"right-section",children:[Object(l.jsx)(L,{amount:a.gaugesData.kcal.eaten,name:"kcal",percent:a.gaugesData.kcal.percent,left:a.gaugesData.kcal.left,isKcal:!0}),Object(l.jsx)(L,{amount:a.gaugesData.proteins.eaten,name:"proteins",percent:a.gaugesData.proteins.percent,left:a.gaugesData.proteins.left}),Object(l.jsx)(L,{amount:a.gaugesData.fats.eaten,name:"fats",percent:a.gaugesData.fats.percent,left:a.gaugesData.fats.left}),Object(l.jsx)(L,{amount:a.gaugesData.carbs.eaten,name:"carbohydrates",percent:a.gaugesData.carbs.percent,left:a.gaugesData.carbs.left})]})]})}_.a.render(Object(l.jsx)(ue,{}),document.querySelector("#root"))}],[[25,1,2]]]);
//# sourceMappingURL=main.41e7378b.chunk.js.map