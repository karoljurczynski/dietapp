{"version":3,"sources":["components/left/styles/logo.png","components/left/left.js","components/center/DateChanger.js","components/product_adding_window/AddingForm.js","components/product_adding_window/EditForm.js","components/product_adding_window/AddingList.js","components/product_adding_window/ProductAddingWindow.js","components/product_removing_window/ProductRemovingWindow.js","components/meal/Meal.js","components/right/Gauge.js","components/MoreWindow/MoreWindow.js","components/exercise/Exercise.js","exercisesList.js","components/settings/Settings.js","logo.png","components/about/About.js","components/login/Login.js","index.js"],"names":["Logo","className","src","logo","alt","Title","Hamburger","props","onClick","handleHamburger","Quotation","MenuItem","isActive","e","preventDefault","linkTo","target","title","href","value","DateChanger","initialDate","Date","useState","getDate","currentDay","setCurrentDay","getMonth","currentMonth","setCurrentMonth","getFullYear","currentYear","setCurrentYear","isLeapYear","changeNextDay","previousYear","previousMonth","previousDay","changePreviousDay","useEffect","changeDate","translateMonth","AddingForm","initialOptionsStates","optionsStates","setOptionsStates","isFormCompleted","setIsFormCompleted","isStateEqualToProps","setIsStateEqualToProps","handleClearButton","handleFormClearing","handleCancelButton","handleAddWindow","checkIfFormCompleted","Object","keys","forEach","option","data","key","type","name","document","querySelector","weight","proteins","fats","carbs","kcal","reps","saveNewProductToList","newProduct","newList","JSON","parse","localStorage","getItem","push","setItem","stringify","onSubmit","handleSerieAdding","htmlFor","id","lastTimeData","training","serie","onChange","handleOnChange","placeholder","warning","maxLength","disabled","style","zIndex","handleProductAdding","keysArray","checkedOptions","searchForCheckedOptions","checkedKey","now","Number","prevOptions","backgroundColor","ACTIONS","EditForm","initialState","productData","useReducer","state","action","payload","console","error","warnings","dispatch","addingWindow","filter","pointerEvents","checkIfStateIsEqualToProps","idOfSelectedProduct","handleEditingWindow","handleSavingChanges","handleProductEditing","ReactDOM","createPortal","test","length","nutritionPerOneGram","setValueAsNull","Math","round","getElementById","savedProductList","productSendForEdit","isEditWindowOpened","isAddButtonDisabled","AddingList","newSavedProductList","index","predefinedProductsList","includes","handleAddButtonDisabling","handleSelected","product","currentTarget","productName","fontWeight","background","updateProductSendForEdit","getIndexOfProduct","selectedProduct","isInteger","products","querySelectorAll","returnedBoolean","i","handleProductsAdding","selectedProducts","handlePredefinedProductsAdding","targetId","productList","returnedIndex","editedProduct","indexOfEditedProduct","color","map","AddWindow","isAddingTypeSetAtLeftOption","setAddingType","wrapper","isPlaceholderEnabled","RemoveWindow","isRemovingAllButtonPressed","setRemovingAllButtonPressed","isRemoveButtonDisabled","setIsRemoveButtonDisabled","removingWindow","handleRemoveButtonDisabling","item","itemName","handleRemoveButton","selectedIds","handleRemoving","items","handleRemoveWindow","list","serieCount","macros","NEGATE_MEAL_STATE","NEGATE_ADDING_WINDOW_STATE","NEGATE_REMOVING_WINDOW_STATE","ADD_PRODUCT","ENABLE_PLACEHOLDER","DISABLE_PLACEHOLDER","SET_WARNING","CLEAR_WARNING","REMOVE_PRODUCT","ADD_TO_SUMMARY","SUB_FROM_SUMMARY","CLEAR_PRODUCTLIST_BEFORE_DAY_CHANGING","ADD_PRODUCT_TO_PRODUCTLIST","Meal","isMealOpened","isAddingWindowOpened","isRemovingWindowOpened","countIngredients","mealId","dateIds","dayId","monthId","yearId","summary","CHANGE_NEW_PRODUCT_DATA","newProductList","checkedId","splice","removeItem","ingredient","setPlaceholderState","disableVisibilityIfEnabled","updateGauges","changePointerEvents","meals","center","meal","overflowY","handleAddingToSummary","object","handleSubstractingFromSummary","window","innerWidth","left","display","Product","addIngredientsFunction","subIngredientsFunction","log","setValueAsCorrect","setTimeout","checkedIdsList","ingredients","Gauge","isKcal","percent","rotationDegrees","transform","borderRightColor","borderTopColor","handleRotation","borderColor","amount","MoreWindow","iframe","opacity","handleBackButton","handleMoreWindow","description","marginBottom","difficulty","typeOfExercise","muscles","muscle","allowFullScreen","width","height","properFormLink","Exercise","isExerciseOpened","isAddWindowOpened","isRemoveWindowOpened","isMoreWindowOpened","seriesList","newSerie","exerciseId","trainingId","getPreviousTrainingDate","previousDateIds","potentialPreviousDateIds","updatedSeriesList","checkedIdList","currentlyAddingSerieNumber","indexOfLastSerie","updatedLastSerieData","updatedLastTrainingData","potentialSeries","previousTrainingSerie","undefined","countProgress","potentialTrainings","lastTrainingData","message","percentValue","progressValue","lastTrainingTotal","countTotalWeight","toFixed","top","bottom","totalWeight","countTotalReps","totalReps","exercises","isCategoryOpened","isAccountCategory","isNutritionCategory","isTrainingCategory","settingsData","account","nutrition","dailyDemand","namesOfMeals","0","1","2","3","4","5","6","7","8","9","numberOfMeals","selectedExercises","clearAllProducts","clearAllSeries","isSettingsChanged","Settings","newSettings","updatedSelectedExercises","indexOfExerciseToRemoving","indexOf","initialData","category","saveSettingsToLocalStorage","settingsWindow","localStorageSettings","currentSettings","values","resetOptionsStates","restoreSettingFromLocalStorage","handleSettingsSaved","handleSettingsCanceled","changePageTitle","previousPage","handleSettingsReset","handleExerciseChoosing","children","handleSettingOnChange","attributes","handleCheckboxOnClick","handleCategorySwitch","data-key","required","exercise","About","handleBackToPreviousPage","marginTop","isSignUpWindow","Login","isLogout","setUserStatus","disableLoginWindows","handleFormTypeChanging","handleTryAsGuest","handleLoginUser","handleLogoutUser","handleCancel","countPercentOfEatenIngredient","eatenAmount","maxAmount","isNaN","App","pageTitle","previousPageTitle","isLoginWindowsEnabled","isAddWindowsEnabled","isRemoveWindowsEnabled","isMoreWindowsEnabled","hamburgerState","userStatus","mealsIngredientsSummary","dailyIngredientsSummary","gaugesData","eaten","max","main","newMealsIngredientsSummary","dailyIngredientsSum","mealsIngredientsSum","kcalS","typeOfIngredient","MENU_CATEGORIES","menu","updateMealSummary","updateDailySummary","categoryTitle","handleMenu","newStatus","newDateIds","selectedExerciseId","render"],"mappings":"kWAAe,G,MAAA,IAA0B,kC,OCSlC,SAASA,IAEd,OACE,qBAAKC,UAAU,qCAAqCC,IAAKC,EAAMC,IAAI,iBAIhE,SAASC,IAEd,OACE,qBAAIJ,UAAU,sCAAd,iBACE,sBAAMA,UAAU,6CAAhB,oBAKC,SAASK,EAAUC,GACxB,OACE,yBAAQN,UAAU,0BAA0BO,QAAUD,EAAME,gBAA5D,UACE,sBAAMR,UAAU,kCAChB,sBAAMA,UAAU,kCAChB,sBAAMA,UAAU,qCAKf,SAASS,IAEd,OACE,qCACE,sBAAMT,UAAU,yCAAhB,yBACA,sBAAMA,UAAU,4CAAhB,0BAKC,SAASU,EAASJ,GAMvB,OACE,oBAAIN,UAAU,0CAAd,SACI,mBACEA,UAAYM,EAAMK,SACJ,4GACA,mDACdJ,QAXY,SAACK,GACnBA,EAAEC,iBACFP,EAAMQ,OAAOF,EAAEG,OAAOC,QAUhBC,KAAOX,EAAMW,KACbD,MAAQV,EAAMY,MANhB,SAM0BZ,EAAMY,U,iBClDzB,SAASC,EAAYb,GAClC,IAAMc,EAAc,IAAIC,KADiB,EAELC,mBAASF,EAAYG,WAFhB,mBAElCC,EAFkC,KAEtBC,EAFsB,OAGDH,mBAASF,EAAYM,WAAa,GAHjC,mBAGlCC,EAHkC,KAGpBC,EAHoB,OAIHN,mBAASF,EAAYS,eAJlB,mBAIlCC,EAJkC,KAIrBC,EAJqB,KAuBnCC,EAAa,WACjB,OAAMF,EAAc,IAAM,GAAOA,EAAc,MAAQ,GAAOA,EAAc,MAAQ,GA6BhFG,EAAgB,WArBA,KAAfT,GAAsC,IAAjBG,GAAsBK,KAC5B,KAAfR,GAAsC,IAAjBG,IAAuBK,KAC7B,KAAfR,IAAwC,IAAjBG,GACc,IAAjBA,GACiB,IAAjBA,GACiB,KAAjBA,IACL,KAAfH,EAQe,KAAfA,GAAwC,KAAjBG,GAWxBF,EAAc,GACdG,EAAgB,GAChBG,GAAe,SAAAG,GAAY,OAAIA,EAAe,OAI9CT,EAAc,GACdG,GAAgB,SAAAO,GAAa,OAAIA,EAAgB,MAKnDV,GAAc,SAAAW,GAAW,OAAIA,EAAc,MAyCzCC,EAAoB,WAvBJ,IAAfb,GAAuC,IAAjBG,GA0BzBF,EAAc,IACdG,EAAgB,IAChBG,GAAe,SAAAG,GAAY,OAAIA,EAAe,MApB5B,IAAfV,GAAuC,IAAjBG,GAwBtBK,IACDP,EAAc,IAEdA,EAAc,IAEhBG,EAAgB,IArBE,IAAfJ,GAAwC,IAAjBG,GAAyC,IAAjBA,GAAyC,IAAjBA,GAAyC,IAAjBA,GAAyC,KAAjBA,EAvB1G,IAAfH,GAqDDC,EAAc,IACdG,GAAgB,SAAAO,GAAa,OAAIA,EAAgB,MAIjDV,GAAc,SAAAW,GAAW,OAAIA,EAAc,MAV3CX,EAAc,IACdG,GAAgB,SAAAO,GAAa,OAAIA,EAAgB,OAwBrD,OANAG,qBAAU,WACRhC,EAAMiC,WAAW,CAAEf,aAAYG,eAAcG,kBAE5C,CAACN,EAAYG,EAAcG,IAI5B,sBAAK9B,UAAU,oCAAf,UAEE,wBACEA,UAAU,qDACVO,QAhBuB,WAC3B8B,KAaE,SAGE,cAAC,IAAD,MAGF,oBAAIrC,UAAU,kDAAd,mBA5JmB,WACrB,OAAO2B,GACL,KAAK,EAAG,MAAO,UACf,KAAK,EAAG,MAAO,WACf,KAAK,EAAG,MAAO,QACf,KAAK,EAAG,MAAO,QACf,KAAK,EAAG,MAAO,MACf,KAAK,EAAG,MAAO,OACf,KAAK,EAAG,MAAO,OACf,KAAK,EAAG,MAAO,SACf,KAAK,EAAG,MAAO,YACf,KAAK,GAAI,MAAO,UAChB,KAAK,GAAI,MAAO,WAChB,KAAK,GAAI,MAAO,YA+IqDa,GAArE,YAAyFhB,KAEzF,wBACExB,UAAU,iDACVO,QA7FmB,WACvB0B,KA0FE,SAGE,cAAC,IAAD,S,WC3KO,SAASQ,EAAWnC,GACjC,IAAMoC,EAAuB,CAC3B,eAAe,GAFuB,EAKEpB,mBAASoB,GALX,mBAKjCC,EALiC,KAKlBC,EALkB,OAMMtB,oBAAS,GANf,mBAMjCuB,EANiC,KAMhBC,EANgB,OAOcxB,oBAAS,GAPvB,mBAOjCyB,EAPiC,KAOZC,EAPY,KAUlCC,EAAoB,WACxBL,EAAiBF,GACjBpC,EAAM4C,qBACNF,GAAuB,IAGnBG,EAAqB,WACzB7C,EAAM8C,mBAqBRd,qBAAU,WACRe,IAhBAC,OAAOC,KAAKZ,GAAea,SAAQ,SAAAC,GACjCT,GAAuB,GACnBL,EAAcc,KAAYf,EAAqBe,IACjDT,GAAuB,MAI3BM,OAAOC,KAAKjD,EAAMoD,MAAMF,SAAQ,SAAAG,GAC1BrD,EAAMoD,KAAKC,IACbX,GAAuB,QAS1B,CAAC1C,EAAOqC,IAEX,IAAMU,EAAuB,WAC3B,GAAmB,cAAf/C,EAAMsD,KAAsB,CAC9B,IAAMC,EAAOC,SAASC,cAAc,SAAS7C,MACvC8C,EAASF,SAASC,cAAc,WAAW7C,MAC3C+C,EAAWH,SAASC,cAAc,aAAa7C,MAC/CgD,EAAOJ,SAASC,cAAc,SAAS7C,MACvCiD,EAAQL,SAASC,cAAc,UAAU7C,MACzCkD,EAAON,SAASC,cAAc,SAAS7C,MAG3C4B,KADCe,GAAQG,GAAUC,GAAYC,GAAQC,GAASC,QAM/C,CACH,IAAMJ,EAASF,SAASC,cAAc,WAAW7C,MAC3CmD,EAAOP,SAASC,cAAc,SAAS7C,MAG3C4B,KADEkB,IAAUK,MAkDZC,EAAuB,SAACC,GAC5B,IAAMC,EAAWC,KAAKC,MAAMC,aAAaC,QAAQ,eACjDJ,EAAQK,KAAKN,GACbI,aAAaG,QAAQ,aAAcL,KAAKM,UAAUP,KAOpD,OACE,mCACiB,cAAflE,EAAMsD,KACJ,uBAAM5D,UAAU,iCAAiCgF,SAlBhC,SAACpE,GACtBN,EAAM2E,kBAAkBrE,IAiBpB,UAEE,0BAASZ,UAAU,oDAAnB,UAEE,oBAAIA,UAAU,+BAAd,uBAEA,sBAAKA,UAAU,2BAAf,UACE,uBAAOA,UAAU,kCAAkCkF,QAAQ,YAA3D,sBACA,mBACElF,UAAU,kCACVmF,GAAG,YAFL,SAGmB,kBAAf7E,EAAMsD,KAA2BtD,EAAM8E,aAAaC,SAASrB,OAAS1D,EAAM8E,aAAaE,MAAMtB,SAEnG,sBAAMhE,UAAU,iCAAhB,mBAGF,sBAAKA,UAAU,2BAAf,UACE,uBAAOA,UAAU,kCAAkCkF,QAAQ,UAA3D,oBACA,mBACElF,UAAU,kCACVmF,GAAG,UAFL,SAGmB,kBAAf7E,EAAMsD,KAA2BtD,EAAM8E,aAAaC,SAAShB,KAAO/D,EAAM8E,aAAaE,MAAMjB,OAEjG,sBAAMrE,UAAU,iCAAhB,wBAKJ,0BAASA,UAAU,oDAAnB,UAEE,oBAAIA,UAAU,+BAAd,uBAEA,sBAAKA,UAAU,2BAAf,UACE,uBAAOA,UAAU,kCAAkCkF,QAAQ,SAA3D,sBACA,uBACElF,UAAU,kCACV4D,KAAK,OACLuB,GAAG,SACHjE,MAAQZ,EAAMoD,KAAKM,OACnBuB,SAAWjF,EAAMkF,eACjBC,YAAmC,WAArBnF,EAAMoF,QAAQ,GAAkBpF,EAAMoF,QAAQ,GAAK,KACjEC,UAAU,MAEZ,sBAAM3F,UAAU,iCAAhB,mBAGF,sBAAKA,UAAU,2BAAf,UACE,uBAAOA,UAAU,kCAAkCkF,QAAQ,OAA3D,oBACA,uBACElF,UAAU,kCACV4D,KAAK,OACLuB,GAAG,OACHjE,MAAQZ,EAAMoD,KAAKW,KACnBkB,SAAWjF,EAAMkF,eACjBC,YAAmC,SAArBnF,EAAMoF,QAAQ,GAAgBpF,EAAMoF,QAAQ,GAAK,KAC/DC,UAAU,MAEZ,sBAAM3F,UAAU,iCAAhB,wBAKJ,wBACMA,UAAY6C,EACE,6BACA,kEACde,KAAK,SACLgC,UAAW/C,EALjB,SAKkD,cAAC,IAAD,MAElD,0BAAS7C,UAAU,iBAAnB,UAEE,wBACEA,UAAY+C,EAAsB,4EAA8E,kCAChH6C,WAAW7C,EACXa,KAAK,SACLrD,QAAU0C,EAJZ,mBAOA,gCACE,wBAAQjD,UAAU,mCAAmC4D,KAAK,SAASrD,QAAU4C,EAA7E,oBACA,wBACEnD,UAAY6C,EACE,iCACA,0EACde,KAAK,SACLgC,UAAW/C,EALb,uBAUJ,wBACE7C,UAAY6C,EACE,6BACA,kEACde,KAAK,SACLiC,MAAO,CAAEC,OAAQ,IACjBF,UAAW/C,EANb,SAM8C,cAAC,IAAD,SAKhD,uBAAM7C,UAAU,iCAAiCgF,SAnJ9B,SAACpE,GACxBN,EAAMyF,oBAAoBnF,GAXI,SAACoF,GAC/B,IAAIC,EAAiB,GAMrB,OALAD,EAAUxC,SAAQ,SAAAG,GACZhB,EAAcgB,IAChBsC,EAAepB,KAAKlB,MAGjBsC,EAQgBC,CAFV5C,OAAOC,KAAKZ,IAIVa,SAAQ,SAAA2C,GAErB,OAAOA,GACL,IAAK,cAEH,IAAM5B,EAAa,CACjBY,GAAU9D,KAAK+E,MACfvC,KAAUC,SAASC,cAAc,SAAS7C,MAC1C8C,OAAUqC,OAAOvC,SAASC,cAAc,WAAW7C,OACnD+C,SAAUoC,OAAOvC,SAASC,cAAc,aAAa7C,OACrDgD,KAAUmC,OAAOvC,SAASC,cAAc,SAAS7C,OACjDiD,MAAUkC,OAAOvC,SAASC,cAAc,UAAU7C,OAClDkD,KAAUiC,OAAOvC,SAASC,cAAc,SAAS7C,QAGnDoD,EAAqBC,QA6HvB,UAEE,0BAASvE,UAAU,oDAAnB,UAEE,oBAAIA,UAAU,+BAAd,0BAEA,sBAAKA,UAAU,2BAAf,UACE,uBAAOA,UAAU,kCAAkCkF,QAAQ,OAA3D,4BACA,uBACElF,UAAU,kCACV4D,KAAK,OACLuB,GAAG,OACHjE,MAAQZ,EAAMoD,KAAKG,KACnB0B,SAAWjF,EAAMkF,eACjBC,YAAmC,SAArBnF,EAAMoF,QAAQ,GAAgBpF,EAAMoF,QAAQ,GAAK,KAC/DC,UAAU,UAId,sBAAK3F,UAAU,2BAAf,UACE,uBAAOA,UAAU,kCAAkCkF,QAAQ,SAA3D,8BACA,uBACElF,UAAU,kCACV4D,KAAK,OACLuB,GAAG,SACHjE,MAAQZ,EAAMoD,KAAKM,OACnBuB,SAAWjF,EAAMkF,eACjBC,YAAmC,WAArBnF,EAAMoF,QAAQ,GAAkBpF,EAAMoF,QAAQ,GAAK,KACjEC,UAAU,MAEZ,sBAAM3F,UAAU,iCAAhB,qBAMJ,0BAASA,UAAU,oDAAnB,UAEE,oBAAIA,UAAU,+BAAd,6BAEA,sBAAKA,UAAU,2BAAf,UACE,uBAAOA,UAAU,kCAAkCkF,QAAQ,WAA3D,wBACA,uBACElF,UAAU,kCACV4D,KAAK,OACLuB,GAAG,WACHjE,MAAQZ,EAAMoD,KAAKO,SACnBsB,SAAWjF,EAAMkF,eACjBC,YAAmC,aAArBnF,EAAMoF,QAAQ,GAAoBpF,EAAMoF,QAAQ,GAAK,KACnEC,UAAU,MAEZ,sBAAM3F,UAAU,iCAAhB,kBAGF,sBAAKA,UAAU,2BAAf,UACE,uBAAOA,UAAU,kCAAkCkF,QAAQ,OAA3D,oBACA,uBACElF,UAAU,kCACV4D,KAAK,OACLuB,GAAG,OACHjE,MAAQZ,EAAMoD,KAAKQ,KACnBqB,SAAWjF,EAAMkF,eACjBC,YAAmC,SAArBnF,EAAMoF,QAAQ,GAAgBpF,EAAMoF,QAAQ,GAAK,KAC/DC,UAAU,MAEZ,sBAAM3F,UAAU,iCAAhB,kBAGF,sBAAKA,UAAU,2BAAf,UACE,uBAAOA,UAAU,kCAAkCkF,QAAQ,QAA3D,qBACA,uBACElF,UAAU,kCACV4D,KAAK,OACLuB,GAAG,QACHjE,MAAQZ,EAAMoD,KAAKS,MACnBoB,SAAWjF,EAAMkF,eACjBC,YAAmC,UAArBnF,EAAMoF,QAAQ,GAAiBpF,EAAMoF,QAAQ,GAAK,KAChEC,UAAU,MAEZ,sBAAM3F,UAAU,iCAAhB,kBAGF,sBAAKA,UAAU,2BAAf,UACE,uBAAOA,UAAU,kCAAkCkF,QAAQ,OAA3D,wBACA,uBACElF,UAAU,kCACV4D,KAAK,OACLuB,GAAG,OACHjE,MAAQZ,EAAMoD,KAAKU,KACnBmB,SAAWjF,EAAMkF,eACjBC,YAAmC,SAArBnF,EAAMoF,QAAQ,GAAgBpF,EAAMoF,QAAQ,GAAK,KAC/DC,UAAU,MAEZ,sBAAM3F,UAAU,iCAAhB,wBAMJ,0BAASA,UAAU,oDAAnB,UAEE,oBAAIA,UAAU,+BAAd,qBAEA,sBAAKA,UAAU,2BAAf,UACE,uBAAOA,UAAU,4EAA4EkF,QAAQ,cAArG,0BACA,wBACElF,UAAU,qCACVmF,GAAG,cACHvB,KAAK,SACLrD,QAzNgB,SAACK,GAC7BgC,GAAiB,SAAA0D,GAAiB,OAAO,2BAAIA,GAAX,kBAAyB1F,EAAEG,OAAOoE,IAAMxC,EAAc/B,EAAEG,OAAOoE,UAoNvF,SAKE,qBACEnF,UAAU,iDACVmF,GAAG,cACHU,MAAQlD,EAAc,eAAiB,CAAC4D,gBAAiB,WAAa,CAACA,gBAAiB,yBAOhG,wBACEvG,UAAY6C,EACE,6BACA,kEACde,KAAK,SACLiC,MAAO,CAAEC,OAAQ,IACjBF,UAAW/C,EANb,SAM8C,cAAC,IAAD,MAG9C,0BAAS7C,UAAU,iBAAnB,UAEE,wBACEA,UAAY+C,EAAsB,4EAA8E,kCAChH6C,WAAW7C,EACXa,KAAK,SACLrD,QAAU0C,EAJZ,mBAOA,gCACE,wBAAQjD,UAAU,mCAAmC4D,KAAK,SAASrD,QAAU4C,EAA7E,oBACA,wBACEnD,UAAY6C,EACE,iCACA,0EACde,KAAK,SACLgC,UAAW/C,EALb,4BC5Wd,IAAM2D,EACiB,sBADjBA,EAEQ,aAFRA,EAGS,cAHTA,EAIW,gBAGF,SAASC,EAASnG,GAAQ,IAAD,EACQgB,oBAAS,GADjB,mBAC/BuB,EAD+B,KACdC,EADc,OAEgBxB,oBAAS,GAFzB,mBAE/ByB,EAF+B,KAEVC,EAFU,KAIhC0D,EAAe,CACnBC,YAAa,CACXxB,GAAI7E,EAAMoD,KAAKyB,GACftB,KAAMvD,EAAMoD,KAAKG,KACjBG,OAAQ1D,EAAMoD,KAAKM,OACnBC,SAAU3D,EAAMoD,KAAKO,SACrBC,KAAM5D,EAAMoD,KAAKQ,KACjBC,MAAO7D,EAAMoD,KAAKS,MAClBC,KAAM9D,EAAMoD,KAAKU,MAEnBsB,QAAS,CAAC,GAAI,KAdsB,EA2DZkB,sBA1CV,SAACC,EAAOC,GACtB,OAAQA,EAAOlD,MAEb,KAAK4C,EACH,OAAQM,EAAOC,QAAQpD,KACrB,IAAK,OAAc,OAAO,2BAAKkD,GAAZ,IAAmBF,YAAY,2BAAKE,EAAMF,aAAZ,IAAyB9C,KAAUiD,EAAOC,QAAQ7F,UACnG,IAAK,SAAc,OAAO,2BAAK2F,GAAZ,IAAmBF,YAAY,2BAAKE,EAAMF,aAAZ,IAAyB3C,OAAU8C,EAAOC,QAAQ7F,UACnG,IAAK,WAAc,OAAO,2BAAK2F,GAAZ,IAAmBF,YAAY,2BAAKE,EAAMF,aAAZ,IAAyB1C,SAAU6C,EAAOC,QAAQ7F,UACnG,IAAK,OAAc,OAAO,2BAAK2F,GAAZ,IAAmBF,YAAY,2BAAKE,EAAMF,aAAZ,IAAyBzC,KAAU4C,EAAOC,QAAQ7F,UACnG,IAAK,QAAc,OAAO,2BAAK2F,GAAZ,IAAmBF,YAAY,2BAAKE,EAAMF,aAAZ,IAAyBxC,MAAU2C,EAAOC,QAAQ7F,UACnG,IAAK,OAAc,OAAO,2BAAK2F,GAAZ,IAAmBF,YAAY,2BAAKE,EAAMF,aAAZ,IAAyBvC,KAAU0C,EAAOC,QAAQ7F,UACnG,QAAmB,OAAO8F,QAAQC,MAAR,+BAAsCH,EAAOlD,OAI3E,KAAK4C,EACH,OAAO,2BAAIK,GAAX,IAAkBF,YAChB,CAAExB,GAAI7E,EAAMoD,KAAKyB,GACftB,KAAMvD,EAAMoD,KAAKG,KACjBG,OAAQ1D,EAAMoD,KAAKM,OACnBC,SAAU3D,EAAMoD,KAAKO,SACrBC,KAAM5D,EAAMoD,KAAKQ,KACjBC,MAAO7D,EAAMoD,KAAKS,MAClBC,KAAM9D,EAAMoD,KAAKU,QAIvB,KAAKoC,EACH,MAAuB,SAAnBM,EAAOC,QACF,2BAAKF,GAAZ,IAAmBnB,QAAS,CAACwB,EAASrD,KAAMiD,EAAOC,WAEnD,2BAAYF,GAAZ,IAAmBnB,QAAS,CAACwB,EAASlD,OAAQ8C,EAAOC,WAGzD,KAAKP,EACH,OAAO,2BAAKK,GAAZ,IAAmBnB,QAAS,CAAC,GAAIoB,EAAOC,WAG1C,QAAS,OAAOC,QAAQC,MAAR,+BAAsCH,EAAOlD,UAInB8C,GA3DR,mBA2D/BG,EA3D+B,KA2DxBM,EA3DwB,KA6DtC7E,qBAAU,WACR,IAAM8E,EAAetD,SAASC,cAAc,gBAI5C,OAHEqD,EAAavB,MAAMwB,OAAS,yCAC5BD,EAAavB,MAAMyB,cAAgB,OAE9B,WACLF,EAAavB,MAAMwB,OAAS,wCAC5BD,EAAavB,MAAMyB,cAAgB,UAEpC,IAGHhF,qBAAU,WACRe,IACAkE,MAEC,CAACV,EAAMF,cAEV,IAAMtD,EAAuB,WAC3B,IAAMQ,EAAOC,SAASC,cAAc,SAAS7C,MACvC8C,EAASF,SAASC,cAAc,WAAW7C,MAG/C4B,KADCe,IAAQG,KAaPuD,EAA6B,WACjCjE,OAAOC,KAAKjD,EAAMoD,MAAMF,SAAQ,SAAAG,GAC1BrD,EAAMoD,KAAKC,KAASkD,EAAMF,YAAYhD,IACxCX,GAAuB,OAIvBG,EAAqB,WACzB,IAAMqE,EAAsBlH,EAAMoD,KAAKyB,GAGvC7E,EAAMmH,oBAAoBD,IAwDtBE,EAAsB,SAAC9G,GAC3BA,EAAEC,iBACFP,EAAMqH,qBAAqBd,EAAMF,cAGnC,OAAOiB,IAASC,aACd,uBAAM7H,UAAU,sBAAsBgF,SAAW0C,EAAjD,UAEE,yBAAQ1H,UAAU,iBAAlB,UACE,oBAAIA,UAAU,0BAAd,0BACA,wBAAQA,UAAU,8BAA8BO,QAAU4C,EAA1D,SAA+E,cAAC,IAAD,MAC/E,wBACEnD,UACE6C,EACE,6BACA,kEACJ+C,UAAW/C,EACXtC,QAAUmH,EANZ,SAMkC,cAAC,IAAD,SAGpC,uBAAM1H,UAAU,eAAhB,UAEE,0BAASA,UAAU,oDAAnB,UAEE,oBAAIA,UAAU,+BAAd,0BAEA,sBAAKA,UAAU,2BAAf,UACE,uBAAOA,UAAU,kCAAkCkF,QAAQ,OAA3D,4BACA,uBACIlF,UAAU,kCACV4D,KAAK,OACLuB,GAAG,OACHjE,MAAQ2F,EAAMF,YAAY9C,KAC1B0B,SA9Ca,SAAC3E,GAE1BA,EAAEC,iBADa,WAEJiH,KAAKlH,EAAEG,OAAOG,MAAMN,EAAEG,OAAOG,MAAM6G,OAAS,KACrDZ,EAAS,CAAEvD,KAAM4C,EAA6BO,QAAS,CAAEpD,IAAK,OAAQzC,MAAON,EAAEG,OAAOG,SACtFiG,EAAS,CAAEvD,KAAM4C,EAAuBO,QAAS,WAGjDI,EAAS,CAAEvD,KAAM4C,EAA6BO,QAAS,CAAEpD,IAAK,OAAQzC,MAAO,MAC7EiG,EAAS,CAAEvD,KAAM4C,EAAqBO,QAAS,WAsCrCtB,YAAmC,SAArBoB,EAAMnB,QAAQ,GAAgBmB,EAAMnB,QAAQ,GAAK,KAC/DC,UAAU,UAIhB,sBAAK3F,UAAU,2BAAf,UACE,uBAAOA,UAAU,kCAAkCkF,QAAQ,SAA3D,8BACA,uBACIlF,UAAU,kCACV4D,KAAK,OACLuB,GAAG,SACHjE,MAAQ2F,EAAMF,YAAY3C,OAC1BuB,SAnGkB,SAAC3E,GAC/B,IAGMoH,EACM3B,OAAO/F,EAAMoD,KAAKO,UAAYoC,OAAO/F,EAAMoD,KAAKM,QADtDgE,EAEE3B,OAAO/F,EAAMoD,KAAKQ,MAAQmC,OAAO/F,EAAMoD,KAAKM,QAF9CgE,EAGG3B,OAAO/F,EAAMoD,KAAKS,OAASkC,OAAO/F,EAAMoD,KAAKM,QAHhDgE,EAIE3B,OAAO/F,EAAMoD,KAAKU,MAAQiC,OAAO/F,EAAMoD,KAAKM,QAG9CiE,EAAiB,WACrBd,EAAS,CAAEvD,KAAM4C,EAA6BO,QAAS,CAAEpD,IAAK,SAAUzC,MAAO,MAC/EiG,EAAS,CAAEvD,KAAM4C,EAA6BO,QAAS,CAAEpD,IAAK,WAAYzC,MAAO,KACjFiG,EAAS,CAAEvD,KAAM4C,EAA6BO,QAAS,CAAEpD,IAAK,OAAQzC,MAAO,KAC7EiG,EAAS,CAAEvD,KAAM4C,EAA6BO,QAAS,CAAEpD,IAAK,QAASzC,MAAO,KAC9EiG,EAAS,CAAEvD,KAAM4C,EAA6BO,QAAS,CAAEpD,IAAK,OAAQzC,MAAO,KAC7EiG,EAAS,CAAEvD,KAAM4C,EAAqBO,QAAS,YAhBhC,QA4BJe,KAAKlH,EAAEG,OAAOG,MAAMN,EAAEG,OAAOG,MAAM6G,OAAS,IA3B1C,UA4BND,KAAKlH,EAAEG,OAAOG,OACnB+G,KAVFd,EAAS,CAAEvD,KAAM4C,EAA6BO,QAAS,CAAEpD,IAAK,SAAUzC,MAAOmF,OAAOzF,EAAEG,OAAOG,UAC/FiG,EAAS,CAAEvD,KAAM4C,EAA6BO,QAAS,CAAEpD,IAAK,WAAYzC,MAAOgH,KAAKC,MAAOvH,EAAEG,OAAOG,MAAQ8G,MAC9Gb,EAAS,CAAEvD,KAAM4C,EAA6BO,QAAS,CAAEpD,IAAK,OAAQzC,MAAOgH,KAAKC,MAAOvH,EAAEG,OAAOG,MAAQ8G,MAC1Gb,EAAS,CAAEvD,KAAM4C,EAA6BO,QAAS,CAAEpD,IAAK,QAASzC,MAAOgH,KAAKC,MAAOvH,EAAEG,OAAOG,MAAQ8G,MAC3Gb,EAAS,CAAEvD,KAAM4C,EAA6BO,QAAS,CAAEpD,IAAK,OAAQzC,MAAOgH,KAAKC,MAAOvH,EAAEG,OAAOG,MAAQ8G,MAC1Gb,EAAS,CAAEvD,KAAM4C,EAAuBO,QAAS,YAUjDkB,KAgEUxC,YAAmC,WAArBoB,EAAMnB,QAAQ,GAAkBmB,EAAMnB,QAAQ,GAAK,KACjEC,UAAU,OAEd,sBAAM3F,UAAU,iCAAhB,qBAKJ,0BAASA,UAAU,oDAAnB,UAEE,oBAAIA,UAAU,+BAAd,6BAEA,sBAAKA,UAAU,2BAAf,UACE,uBAAOA,UAAU,kCAAkCkF,QAAQ,WAA3D,wBACA,mBACElF,UAAU,kCACVmF,GAAG,WAFL,SAGI0B,EAAMF,YAAY1C,WAEtB,sBAAMjE,UAAU,iCAAhB,kBAGF,sBAAKA,UAAU,2BAAf,UACE,uBAAOA,UAAU,kCAAkCkF,QAAQ,OAA3D,oBACA,mBACElF,UAAU,kCACVmF,GAAG,OAFL,SAGI0B,EAAMF,YAAYzC,OAEtB,sBAAMlE,UAAU,iCAAhB,kBAGF,sBAAKA,UAAU,2BAAf,UACE,uBAAOA,UAAU,kCAAkCkF,QAAQ,QAA3D,qBACA,mBACElF,UAAU,kCACVmF,GAAG,QAFL,SAGI0B,EAAMF,YAAYxC,QAEtB,sBAAMnE,UAAU,iCAAhB,kBAGF,sBAAKA,UAAU,2BAAf,UACE,uBAAOA,UAAU,kCAAkCkF,QAAQ,OAA3D,wBACA,mBACElF,UAAU,kCACVmF,GAAG,OAFL,SAGI0B,EAAMF,YAAYvC,OAEtB,sBAAMpE,UAAU,iCAAhB,2BAON,0BAASA,UAAU,iBAAnB,UACE,wBACEA,UAAY+C,EAAsB,4EAA8E,kCAChH6C,WAAW7C,EACXa,KAAK,SACLrD,QAtLmB,SAACK,GAC1BA,EAAEC,iBACFsG,EAAS,CAAEvD,KAAM4C,IACjBW,EAAS,CAAEvD,KAAM4C,IACjBxD,GAAuB,IA8KnB,mBAOA,gCACE,wBAAQhD,UAAU,mCAAmC4D,KAAK,SAASrD,QAAU4C,EAA7E,oBACA,wBACEnD,UAAY6C,EACE,iCACA,0EAEde,KAAK,SACLgC,UAAW/C,EANb,2BAaNiB,SAASsE,eAAe,WC3S5B,IAAM5B,EACuB,4BADvBA,EAEsB,2BAFtBA,EAGwB,6BAHxBA,EAI8C,mDAJ9CA,EAKwB,6BAGxBE,EAAe,CACnB2B,iBAAkB,CAChB,CAAElD,GAAI,EAAGtB,KAAM,iBAAkBG,OAAQ,IAAKC,SAAU,GAAIC,KAAM,GAAIC,MAAO,GAAIC,KAAM,KACvF,CAAEe,GAAI,EAAGtB,KAAM,OAAQG,OAAQ,IAAKC,SAAU,GAAIC,KAAM,EAAGC,MAAO,GAAIC,KAAM,KAC5E,CAAEe,GAAI,EAAGtB,KAAM,UAAWG,OAAQ,IAAKC,SAAU,EAAGC,KAAM,EAAGC,MAAO,GAAIC,KAAM,KAC9E,CAAEe,GAAI,EAAGtB,KAAM,YAAaG,OAAQ,IAAKC,SAAU,EAAGC,KAAM,EAAGC,MAAO,IAAKC,KAAM,KACjF,CAAEe,GAAI,EAAGtB,KAAM,SAAUG,OAAQ,IAAKC,SAAU,EAAGC,KAAM,EAAGC,MAAO,GAAIC,KAAM,KAC7E,CAAEe,GAAI,EAAGtB,KAAM,iBAAkBG,OAAQ,IAAKC,SAAU,GAAIC,KAAM,GAAIC,MAAO,GAAIC,KAAM,KACvF,CAAEe,GAAI,EAAGtB,KAAM,OAAQG,OAAQ,IAAKC,SAAU,GAAIC,KAAM,EAAGC,MAAO,GAAIC,KAAM,KAC5E,CAAEe,GAAI,EAAGtB,KAAM,UAAWG,OAAQ,IAAKC,SAAU,EAAGC,KAAM,EAAGC,MAAO,GAAIC,KAAM,KAC9E,CAAEe,GAAI,EAAGtB,KAAM,YAAaG,OAAQ,IAAKC,SAAU,EAAGC,KAAM,EAAGC,MAAO,IAAKC,KAAM,KACjF,CAAEe,GAAI,EAAGtB,KAAM,SAAUG,OAAQ,IAAKC,SAAU,EAAGC,KAAM,EAAGC,MAAO,GAAIC,KAAM,MAE/EkE,mBAAoB,CAAEnD,GAAI,EAAGtB,KAAM,GAAIG,OAAQ,EAAGC,SAAU,EAAGC,KAAM,EAAGC,MAAO,EAAGC,KAAM,GACxFmE,oBAAoB,EACpBC,qBAAqB,GAGR,SAASC,EAAWnI,GAEjC,IAFwC,EAwCdsG,sBAtCV,SAACC,EAAOC,GACtB,OAAQA,EAAOlD,MAEb,KAAK4C,EACH,OAAO,2BAAIK,GAAX,IAAkBwB,iBAAkBvB,EAAOC,UAG7C,KAAKP,EACH,OAAO,2BAAKK,GAAZ,IAAmB0B,oBAAqB1B,EAAM0B,qBAGhD,KAAK/B,EACH,OAAO,2BAAIK,GAAX,IAAkByB,mBAAoB,CACpBnD,GAAI2B,EAAOC,QAAQ5B,GACnBtB,KAAMiD,EAAOC,QAAQlD,KACrBG,OAAQ8C,EAAOC,QAAQ/C,OACvBC,SAAU6C,EAAOC,QAAQ9C,SACzBC,KAAM4C,EAAOC,QAAQ7C,KACrBC,MAAO2C,EAAOC,QAAQ5C,MACtBC,KAAM0C,EAAOC,QAAQ3C,QAIzC,KAAKoC,EACH,IAAMkC,EAAsB7B,EAAMwB,iBAElC,OADAK,EAAoB5B,EAAOC,QAAQ4B,OAAS7B,EAAOC,QAAQxC,WACpD,2BAAIsC,GAAX,IAAkBwB,iBAAkBK,IAGtC,KAAKlC,EACH,OAAO,2BAAIK,GAAX,IAAkB2B,oBAAqB1B,EAAOC,UAIhD,QAAS,OAAOC,QAAQC,MAAR,+BAAsCH,EAAOlD,UAInB8C,GAxCN,mBAwCjCG,EAxCiC,KAwC1BM,EAxC0B,KA2CxC7E,qBAAU,WACR,IAAIsG,EAAyB,GAEzBtF,OAAOC,KAAKoB,cAAckE,SAAS,eACrCD,EAAyBnE,KAAKC,MAAMC,aAAaC,QAAQ,eACzDuC,EAAS,CAAEvD,KAAM4C,EAA0DO,QAAS6B,MAGpFA,EAAyB/B,EAAMwB,iBAC/B1D,aAAaG,QAAQ,aAAcL,KAAKM,UAAU6D,OAGlD,IAEJtG,qBAAU,WAAQwG,MAA8B,IAEhD,IAAMC,EAAiB,SAACnI,GACtB,IAAMoI,EAAUlF,SAASsE,eAAexH,EAAEqI,cAAc9D,IACxD,GAAIvE,EAAEqI,cAAc9D,GAAI,CACtB,IAAM+D,EAAcF,EAAQjF,cAAc,kDAGL,SAAjCmF,EAAYrD,MAAMsD,YACpBH,EAAQnD,MAAMuD,WAAa,UAC3BF,EAAYrD,MAAMsD,WAAa,SAC/BL,MAKAE,EAAQnD,MAAMuD,WAAa,YAC3BF,EAAYrD,MAAMsD,WAAa,OAC/BE,EAAyBxC,EAAMwB,iBAAiBiB,EAAkB1I,EAAEqI,cAAc9D,MAClFsC,OAKA4B,EAA2B,SAACE,GAChCpC,EAAS,CAAEvD,KAAM4C,EAAmCO,QAASwC,KAczD9B,EAAsB,WAAkC,IAAjCD,EAAgC,wDAG3D,GAAInB,OAAOmD,UAAUhC,GAAsB,CACzC,IAAMwB,EAAUlF,SAASsE,eAAeZ,GAClC0B,EAAcF,EAAQjF,cAAc,kDAC1CiF,EAAQnD,MAAMuD,WAAa,UAC3BF,EAAYrD,MAAMsD,WAAa,SAGjChC,EAAS,CAAEvD,KAAM4C,IACjBsC,KAGIA,EAA2B,WAI/B,IAHA,IAAMW,EAAW3F,SAAS4F,iBAAiB,4CACvCC,GAAkB,EAEbC,EAAI,EAAGA,EAAIH,EAAS1B,OAAQ6B,IAAK,CAExC,GAA8B,SADjBH,EAASG,GAAG7F,cAAc,kDAC9B8B,MAAMsD,WAAuB,CACpCQ,GAAkB,EAClB,MAIAA,GAAkB,EAGtBxC,EAAS,CAACvD,KAAM4C,EAAoCO,QAAS4C,KAGzDE,EAAuB,WAC3B,IAAMC,EAAmB,GACRhG,SAAS4F,iBAAiB,4CAElClG,SAAQ,SAACwF,EAASL,GAEK,SADjBK,EAAQjF,cAAc,kDAC1B8B,MAAMsD,YACbW,EAAiBjF,KACf,CACEhB,KAAUgD,EAAMwB,iBAAiBM,EAAQ,GAAG9E,KAC5CG,OAAU6C,EAAMwB,iBAAiBM,EAAQ,GAAG3E,OAC5CC,SAAU4C,EAAMwB,iBAAiBM,EAAQ,GAAG1E,SAC5CC,KAAU2C,EAAMwB,iBAAiBM,EAAQ,GAAGzE,KAC5CC,MAAU0C,EAAMwB,iBAAiBM,EAAQ,GAAGxE,MAC5CC,KAAUyC,EAAMwB,iBAAiBM,EAAQ,GAAGvE,UAKpB,IAA5B0F,EAAiB/B,QACnBzH,EAAMyJ,+BAA+BD,IAGnCR,EAAoB,SAACU,GACzB,IAAMC,EAAcpD,EAAMwB,iBACtB6B,EAAgB,EAMpB,OAJAD,EAAYzG,SAAQ,SAACwF,EAASL,GACxBK,EAAQ7D,KAAOkB,OAAO2D,KACxBE,EAAgBvB,MAEbuB,GAGT,OACE,qCACE,wBACElK,UAAa6G,EAAM2B,oBAEL,kEADA,6BAEd5E,KAAK,SACLiC,MAAO,CAAEC,OAAQ,IACjBvF,QAAUsJ,EACVjE,WAAWiB,EAAM2B,oBAPnB,SAOwD,cAAC,IAAD,MAGrD3B,EAAM0B,mBACL,cAAC9B,EAAD,CACA/C,KAAM,CACJyB,GAAI0B,EAAMyB,mBAAmBnD,GAC7BtB,KAAMgD,EAAMyB,mBAAmBzE,KAC/BG,OAAQ6C,EAAMyB,mBAAmBtE,OACjCC,SAAU4C,EAAMyB,mBAAmBrE,SACnCC,KAAM2C,EAAMyB,mBAAmBpE,KAC/BC,MAAO0C,EAAMyB,mBAAmBnE,MAChCC,KAAMyC,EAAMyB,mBAAmBlE,MAEjCsB,QAAUpF,EAAMoF,QAChBiC,qBArGqB,SAACwC,GAC5B,IAAMC,EAAuBd,EAAkBa,EAAchF,IAC7DgC,EAAS,CAAEvD,KAAM4C,EAAoCO,QAAS,CAAE4B,MAAOyB,EAAsB7F,WAAY4F,KAGzG,IAAMvB,EAAyB/B,EAAMwB,iBACrC1D,aAAaG,QAAQ,aAAcL,KAAKM,UAAU6D,IAElDnB,KA8FMA,oBAAsBA,IAGrB,KAEL,oBAAIzH,UAAU,+EAAd,SACE,oBAAIA,UAAU,2FAAd,SACE,sBAAKA,UAAU,6CAAf,UACE,sBAAMA,UAAU,gDAAgD6F,MAAO,CAAEwE,MAAO,SAAhF,0BACA,uBAAMrK,UAAU,2DAAhB,UACE,mBAAGA,UAAU,qEAAqEgB,MAAM,WAAxF,eACA,mBAAGhB,UAAU,iEAAiEgB,MAAM,OAApF,eACA,mBAAGhB,UAAU,kEAAkEgB,MAAM,gBAArF,kBAEF,sBAAMhB,UAAU,oDAAhB,6BAKN,oBAAIA,UAAU,oCAAd,SAEI6G,EAAMwB,iBAAiBiC,KAAI,SAAAtB,GAC3B,OACE,qBAAI7D,GAAK6D,EAAQ7D,GAAwBnF,UAAU,0CAA0CO,QAAUwI,EAAvG,UACE,sBAAK/I,UAAU,6CAAf,UACE,sBAAMmF,GAAK6D,EAAQ7D,GAAKnF,UAAU,gDAAlC,SAAoFgJ,EAAQnF,OAC5F,uBAAMsB,GAAK6D,EAAQ7D,GAAKnF,UAAU,2DAAlC,UACE,oBAAGmF,GAAK6D,EAAQ7D,GAAKnF,UAAU,qEAAqEgB,MAAM,WAA1G,UAAuHgI,EAAQ/E,SAA/H,QACA,oBAAGkB,GAAK6D,EAAQ7D,GAAKnF,UAAU,iEAAiEgB,MAAM,OAAtG,UAA+GgI,EAAQ9E,KAAvH,QACA,oBAAGiB,GAAK6D,EAAQ7D,GAAKnF,UAAU,kEAAkEgB,MAAM,gBAAvG,UAAyHgI,EAAQ7E,MAAjI,WAEF,uBAAMgB,GAAK6D,EAAQ7D,GAAKnF,UAAU,oDAAlC,UAAwFgJ,EAAQ5E,KAAhG,cAGF,uBAAMe,GAAK6D,EAAQ7D,GAAKnF,UAAU,kDAAlC,UAAsFgJ,EAAQhF,OAA9F,UAX0BgF,EAAQ7D,SAmB1C,0BAASnF,UAAU,iBAAnB,UACE,wBACA,gCACE,wBACEA,UAAU,mCACVO,QAAUD,EAAM8C,gBAFlB,oBAMA,wBACEpD,UAAY6G,EAAM2B,oBACJ,0EACA,iCACdjI,QAAUsJ,EAJZ,0BCrQK,SAASU,EAAUjK,GAAQ,IAAD,EACcgB,oBAAS,GADvB,mBAChCkJ,EADgC,KACHC,EADG,KAIvCnI,qBAAU,WACR,IAAMoI,EAAU5G,SAASC,cAAc,SAKvC,OAHA2G,EAAQ7E,MAAMwB,OAAS,yCACvBqD,EAAQ7E,MAAMyB,cAAgB,OAEtB,WACNoD,EAAQ7E,MAAMwB,OAAS,wCACvBqD,EAAQ7E,MAAMyB,cAAgB,UAG/B,IAGHhF,qBAAU,WACRhC,EAAM4C,uBACN,CAACsH,IAMH,OAAO5C,IAASC,aACd,sBAAK7H,UAAU,qBAAf,UAEE,yBAAQA,UAAU,iBAAlB,UAEE,oBAAIA,UAAU,0BAAd,SAA0D,cAAfM,EAAMsD,KAAuB,YAAc,gBAEtF,wBAAQ5D,UAAU,8BAA8BO,QAAUD,EAAM8C,gBAAhE,SAAkF,cAAC,IAAD,MAClF,yBAAQpD,UAAU,yBAAyBO,QAZxB,WACvBkK,GAAeD,IAWX,UACE,oBACExK,UAAYwK,EACE,sEACA,+BAHhB,SAImB,cAAflK,EAAMsD,KAAuB,gBAAkB,cAEnD,oBACE5D,UAAYwK,EACE,gCACA,wEAHhB,SAImB,cAAflK,EAAMsD,KAAuB,aAAe,mBAMnC,cAAftD,EAAMsD,KAEJ,sBAAM5D,UAAU,eAAhB,SACEwK,EAEE,cAAC/H,EAAD,CACEmB,KAAK,gBACLF,KAAM,CACJM,OAAQ1D,EAAMoD,KAAKM,OACnBK,KAAM/D,EAAMoD,KAAKW,MAEnBqB,QAAUpF,EAAMoF,QAChBF,eAAiBlF,EAAMkF,eACvBP,kBAAoB3E,EAAM2E,kBAC1B/B,mBAAqB5C,EAAM4C,mBAC3BE,gBAAkB9C,EAAM8C,gBACxBgC,aAAe9E,EAAM8E,eAGvB,cAAC3C,EAAD,CACEmB,KAAK,aACLF,KAAM,CACJM,OAAQ1D,EAAMoD,KAAKM,OACnBK,KAAM/D,EAAMoD,KAAKW,MAEnBqB,QAAUpF,EAAMoF,QAChBF,eAAiBlF,EAAMkF,eACvBP,kBAAoB3E,EAAM2E,kBAC1B/B,mBAAqB5C,EAAM4C,mBAC3BE,gBAAkB9C,EAAM8C,gBACxBgC,aAAe9E,EAAM8E,iBAK3B,sBAAMpF,UAAU,eAAhB,SACEwK,EAEE,cAAC/B,EAAD,CACE/C,QAAUpF,EAAMoF,QAChBtC,gBAAkB9C,EAAM8C,gBACxB2G,+BAAiCzJ,EAAMyJ,iCAGzC,cAACtH,EAAD,CACEmB,KAAK,YACLF,KAAM,CACJiH,qBAAsBrK,EAAMoD,KAAKiH,qBACjC9G,KAAMvD,EAAMoD,KAAKG,KACjBG,OAAQ1D,EAAMoD,KAAKM,OACnBC,SAAU3D,EAAMoD,KAAKO,SACrBC,KAAM5D,EAAMoD,KAAKQ,KACjBC,MAAO7D,EAAMoD,KAAKS,MAClBC,KAAM9D,EAAMoD,KAAKU,MACnBsB,QAAUpF,EAAMoF,QAChBF,eAAiBlF,EAAMkF,eACvBtC,mBAAqB5C,EAAM4C,mBAC3B6C,oBAAsBzF,EAAMyF,oBAC5B3C,gBAAkB9C,EAAM8C,uBAQpCU,SAASsE,eAAe,WCtHb,SAASwC,EAAatK,GAAQ,IAAD,EACwBgB,oBAAS,GADjC,mBACnCuJ,EADmC,KACPC,EADO,OAEkBxJ,oBAAS,GAF3B,mBAEnCyJ,EAFmC,KAEXC,EAFW,KAK1C1I,qBAAU,WACR,IAAM2I,EAAiBnH,SAASC,cAAc,WAE1C8G,GACFI,EAAepF,MAAMwB,OAAS,yCAC9B4D,EAAepF,MAAMyB,cAAgB,SAGrC2D,EAAepF,MAAMwB,OAAS,wCAC9B4D,EAAepF,MAAMyB,cAAgB,UAEtC,CAACuD,IAGJvI,qBAAU,WACR,IAAMoI,EAAU5G,SAASC,cAAc,SAKvC,OAHA2G,EAAQ7E,MAAMwB,OAAS,yCACvBqD,EAAQ7E,MAAMyB,cAAgB,OAEtB,WACNoD,EAAQ7E,MAAMwB,OAAS,wCACvBqD,EAAQ7E,MAAMyB,cAAgB,UAG/B,IAEHhF,qBAAU,WACR4I,MACC,IAEH,IAAMnC,EAAiB,SAACnI,GACtB,IAAMuK,EAAOrH,SAASsE,eAAexH,EAAEqI,cAAc9D,IAErD,GAAGvE,EAAEqI,cAAc9D,GAAI,CACrB,IAAMiG,EAAWD,EAAKpH,cAAc,kDAGF,SAA9BqH,EAASvF,MAAMsD,YACjBgC,EAAKtF,MAAMuD,WAAa,UACxBgC,EAASvF,MAAMsD,WAAa,WAK5BgC,EAAKtF,MAAMuD,WAAa,YACxBgC,EAASvF,MAAMsD,WAAa,QAG9B+B,MAIEG,EAAqB,WACzB,IAAMC,EAAc,GACNxH,SAAS4F,iBAAiB,4CAElClG,SAAQ,SAAA2H,GAEiB,SADhBA,EAAKpH,cAAc,kDACxB8B,MAAMsD,YACZmC,EAAYzG,KAAKwB,OAAO8E,EAAKhG,QAGN,IAAvBmG,EAAYvD,QACdzH,EAAMiL,eAAeD,IAGnBJ,EAA8B,WAIlC,IAHA,IAAMM,EAAQ1H,SAAS4F,iBAAiB,4CACpCC,GAAkB,EAEbC,EAAI,EAAGA,EAAI4B,EAAMzD,OAAQ6B,IAAK,CAErC,GAA8B,SADjB4B,EAAM5B,GAAG7F,cAAc,kDAC3B8B,MAAMsD,WAAuB,CACpCQ,GAAkB,EAClB,MAIAA,GAAkB,EAEtBqB,EAA0BrB,IAsB5B,OAAO/B,IAASC,aACd,qCACA,0BAAS7H,UAAU,SAAnB,UAEE,yBAAQA,UAAU,iBAAlB,UACE,oBAAIA,UAAU,0BAAd,SAAyD,cAAfM,EAAMsD,KAAuB,eAAiB,mBACxF,wBAAQ5D,UAAU,8BAA8BO,QAAUD,EAAMmL,mBAAhE,SAAqF,cAAC,IAAD,MACrF,wBACEzL,UACE+K,EACE,kEACA,6BACJxK,QAAU8K,EALZ,SAKiC,cAAC,IAAD,SAInC,uBAAMrL,UAAU,kCAAhB,UAEE,oBAAIA,UAAU,+EAAd,SACE,oBAAIA,UAAU,2FAAd,SACqB,cAAfM,EAAMsD,KACJ,sBAAK5D,UAAU,6CAAf,UACE,sBAAMA,UAAU,gDAAgD6F,MAAO,CAACwE,MAAO,SAA/E,mBACA,sBAAMrK,UAAU,2DAAhB,SACE,mBAAGA,UAAU,mEAAb,sBAEF,sBAAMA,UAAU,oDAAhB,4BAGF,sBAAKA,UAAU,6CAAf,UACE,sBAAMA,UAAU,gDAAgD6F,MAAO,CAACwE,MAAO,SAA/E,0BACA,uBAAMrK,UAAU,2DAAhB,UACE,mBAAGA,UAAU,qEAAqEgB,MAAM,WAAxF,eACA,mBAAGhB,UAAU,iEAAiEgB,MAAM,OAApF,eACA,mBAAGhB,UAAU,kEAAkEgB,MAAM,gBAArF,kBAEF,sBAAMhB,UAAU,oDAAhB,6BAMZ,oBAAIA,UAAU,oCAAd,SAEIM,EAAMoL,KAAKpB,KAAI,SAAAa,GACf,MACiB,cAAf7K,EAAMsD,KAEJ,oBAAIrD,QAAUwI,EAAiB5D,GAAKgG,EAAKhG,GAAqBnF,UAAU,0CAAxE,SACE,sBAAKA,UAAU,6CAAf,UACE,uBAAMmF,GAAKgG,EAAKhG,GAAKnF,UAAU,gDAA/B,mBAAuFmL,EAAKQ,cAC5F,sBAAMxG,GAAKgG,EAAKhG,GAAKnF,UAAU,2DAA/B,SACE,oBAAGmF,GAAKgG,EAAKhG,GAAKnF,UAAU,mEAAmEgB,MAAM,SAArG,UAAgHmK,EAAKnH,OAArH,WAEF,uBAAMmB,GAAKgG,EAAKhG,GAAKnF,UAAU,oDAA/B,UAAqFmL,EAAK9G,KAA1F,eANgD8G,EAAKhG,IAUzD,qBAAI5E,QAAUwI,EAAiB5D,GAAKgG,EAAKhG,GAAqBnF,UAAU,0CAAxE,UACE,sBAAKA,UAAU,6CAAf,UACE,sBAAMmF,GAAKgG,EAAKhG,GAAKnF,UAAU,gDAA/B,SAAiFmL,EAAKtH,OACtF,uBAAMsB,GAAKgG,EAAKhG,GAAKnF,UAAU,2DAA/B,UACE,oBAAGmF,GAAKgG,EAAKhG,GAAKnF,UAAU,qEAAqEgB,MAAM,WAAvG,UAAoHmK,EAAKlH,SAAzH,QACA,oBAAGkB,GAAKgG,EAAKhG,GAAKnF,UAAU,iEAAiEgB,MAAM,OAAnG,UAA4GmK,EAAKjH,KAAjH,QACA,oBAAGiB,GAAKgG,EAAKhG,GAAKnF,UAAU,kEAAkEgB,MAAM,gBAApG,UAAsHmK,EAAKhH,MAA3H,WAEF,uBAAMgB,GAAKgG,EAAKhG,GAAKnF,UAAU,oDAA/B,UAAqFmL,EAAK/G,KAA1F,cAEF,uBAAMe,GAAKgG,EAAKhG,GAAKnF,UAAU,kDAA/B,UAAmFmL,EAAKnH,OAAxF,UAVkDmH,EAAKhG,YAmBnE,0BAASnF,UAAU,iBAAnB,UACI,wBAAQA,UAAU,kCAAkCO,QAjG5B,WAC9BuK,GAA4B,IAgGtB,wBACA,gCACE,wBAAQ9K,UAAU,mCAAmCO,QAAUD,EAAMmL,mBAArE,oBACA,wBACAzL,UAAY+K,EACE,0EACA,iCACZxK,QAAU8K,EAJZ,6BAUNR,EACI,0BAAS7K,UAAU,uBAAnB,UAEE,wBAAQA,UAAU,iBAAlB,SACE,oBAAIA,UAAU,0BAAd,2BAGF,sBAAMA,UAAU,eAAhB,SACE,oBAAIA,UAAU,wBAAd,SAAsD,cAAfM,EAAMsD,KAAuB,kEAAoE,oEAG1I,0BAAS5D,UAAU,iBAAnB,UACE,wBAAQA,UAAU,mCAAmCO,QAtHjC,WAC9BuK,GAA4B,IAqHlB,oBACA,wBAAQ9K,UAAU,iCAAiCO,QAnH9B,WAC/B,IAAM+K,EAAc,GACNxH,SAAS4F,iBAAiB,4CAElClG,SAAQ,SAAA2H,GACZG,EAAYzG,KAAKwB,OAAO8E,EAAKhG,QAG/B7E,EAAMiL,eAAeD,IA2GX,0BAGJ,QAERxH,SAASsE,eAAe,W,UCxNblB,EAAW,CACtBrD,KAAQ,wCACRG,OAAQ,mCACR4H,OAAQ,kCAGJpF,EAAU,CACdqF,kBAAmB,oBACnBC,2BAA4B,6BAC5BC,6BAA8B,+BAC9BC,YAAa,cACbC,mBAAoB,qBACpBC,oBAAqB,sBACrBC,YAAa,cACbC,cAAe,gBACfC,eAAgB,iBAChBC,eAAgB,iBAChBC,iBAAkB,mBAClBC,sCAAuC,wCACvCC,2BAA4B,8BAMf,SAASC,EAAKpM,GAG3B,IAAMoG,EAAe,CACnBiG,cAAc,EACdC,sBAAsB,EACtBC,wBAAwB,EACxBC,kBAAkB,EAClB7C,YAAa,GACb1F,WAAY,CAAEY,GAAI,EAAG4H,OAAQzM,EAAMyM,OAAQC,QAAS,CAAEC,MAAO,EAAGC,QAAS,EAAGC,OAAQ,GAAMtJ,KAAM,GAAIG,OAAQ,GAAIC,SAAU,GAAIC,KAAM,GAAIC,MAAO,GAAIC,KAAM,IACzJsB,QAAS,CAAC,GAAI,IACd0H,QAAS,CACPnJ,SAAU,EACVC,KAAM,EACNC,MAAO,EACPC,KAAM,IAfwB,EA2GRwC,sBAxFV,SAACC,EAAOC,GACtB,OAAOA,EAAOlD,MAEZ,KAAK4C,EAAQqF,kBACX,OAAO,2BAAIhF,GAAX,IAAkB8F,cAAe9F,EAAM8F,eAEzC,KAAKnG,EAAQsF,2BACX,OAAO,2BAAIjF,GAAX,IAAkB+F,sBAAuB/F,EAAM+F,uBAEjD,KAAKpG,EAAQuF,6BACX,OAAO,2BAAIlF,GAAX,IAAkBgG,wBAAyBhG,EAAMgG,yBAEnD,KAAKrG,EAAQ6G,wBACX,OAAQvG,EAAOC,QAAQpD,KACrB,IAAK,OAAa,OAAO,2BAAIkD,GAAX,IAAkBtC,WAAW,2BAAKsC,EAAMtC,YAAZ,IAAwBV,KAAUiD,EAAOC,QAAQ7F,UAC/F,IAAK,SAAa,OAAO,2BAAI2F,GAAX,IAAkBtC,WAAW,2BAAKsC,EAAMtC,YAAZ,IAAwBP,OAAU8C,EAAOC,QAAQ7F,UAC/F,IAAK,WAAa,OAAO,2BAAI2F,GAAX,IAAkBtC,WAAW,2BAAKsC,EAAMtC,YAAZ,IAAwBN,SAAU6C,EAAOC,QAAQ7F,UAC/F,IAAK,OAAa,OAAO,2BAAI2F,GAAX,IAAkBtC,WAAW,2BAAKsC,EAAMtC,YAAZ,IAAwBL,KAAU4C,EAAOC,QAAQ7F,UAC/F,IAAK,QAAa,OAAO,2BAAI2F,GAAX,IAAkBtC,WAAW,2BAAKsC,EAAMtC,YAAZ,IAAwBJ,MAAU2C,EAAOC,QAAQ7F,UAC/F,IAAK,OAAa,OAAO,2BAAI2F,GAAX,IAAkBtC,WAAW,2BAAKsC,EAAMtC,YAAZ,IAAwBH,KAAU0C,EAAOC,QAAQ7F,UAInG,KAAKsF,EAAQwF,YAKX,OAJAnF,EAAMtC,WAAWY,GAAK9D,KAAK+E,MAC3BS,EAAMtC,WAAWyI,QAAU1M,EAAM0M,QACjCnG,EAAMoD,YAAYpF,KAAKgC,EAAMtC,YAC7BI,aAAaG,QAAQ+B,EAAMtC,WAAWY,GAAIV,KAAKM,UAAU8B,EAAMtC,aACxD,2BAAIsC,GAAX,IAAkBtC,WAAY,CAAEY,GAAI,EAAG4H,OAAQzM,EAAMyM,OAAQC,QAAS,CAAEC,MAAO,EAAGC,QAAS,EAAGC,OAAQ,GAAKtJ,KAAM,GAAIG,OAAQ,GAAIC,SAAU,GAAIC,KAAM,GAAIC,MAAO,GAAIC,KAAM,MAG5K,KAAKoC,EAAQ2F,YACX,OAAQrF,EAAOC,SACb,IAAK,OAAS,OAAO,2BAAKF,GAAZ,IAAmBnB,QAAS,CAACwB,EAASrD,KAAMiD,EAAOC,WACjE,IAAK,SAAW,OAAO,2BAAKF,GAAZ,IAAmBnB,QAAS,CAACwB,EAASlD,OAAQ8C,EAAOC,WACrE,QAAU,OAAO,2BAAKF,GAAZ,IAAmBnB,QAAS,CAACwB,EAAS0E,OAAQ9E,EAAOC,WAInE,KAAKP,EAAQ4F,cACX,OAAO,2BAAKvF,GAAZ,IAAmBnB,QAAS,CAAC,GAAIoB,EAAOC,WAG1C,KAAKP,EAAQ6F,eACX,IAAIiB,EAAiBzG,EAAMoD,YAW3B,OAVoBnD,EAAOC,QAEbvD,SAAQ,SAAA+J,GACpBD,EAAe9J,SAAQ,SAACwF,EAASL,GAC3BtC,OAAO2C,EAAQ7D,MAAQkB,OAAOkH,KAChCD,EAAeE,OAAO7E,EAAO,GAC7BhE,aAAa8I,WAAWzE,EAAQ7D,WAI/B,2BAAI0B,GAAX,IAAkBoD,YAAaqD,IAGjC,KAAK9G,EAAQ8F,eACX,OAAQxF,EAAOC,QAAQ2G,YACrB,IAAK,WAAY,OAAO,2BAAI7G,GAAX,IAAkBuG,QAAQ,2BAAKvG,EAAMuG,SAAZ,IAAqBnJ,SAAU4C,EAAMuG,QAAQnJ,SAAWoC,OAAOS,EAAOC,QAAQ7F,WACxH,IAAK,OAAY,OAAO,2BAAI2F,GAAX,IAAkBuG,QAAQ,2BAAKvG,EAAMuG,SAAZ,IAAqBlJ,KAAU2C,EAAMuG,QAAQlJ,KAAWmC,OAAOS,EAAOC,QAAQ7F,WACxH,IAAK,QAAY,OAAO,2BAAI2F,GAAX,IAAkBuG,QAAQ,2BAAKvG,EAAMuG,SAAZ,IAAqBjJ,MAAU0C,EAAMuG,QAAQjJ,MAAWkC,OAAOS,EAAOC,QAAQ7F,WACxH,IAAK,OAAY,OAAO,2BAAI2F,GAAX,IAAkBuG,QAAQ,2BAAKvG,EAAMuG,SAAZ,IAAqBhJ,KAAUyC,EAAMuG,QAAQhJ,KAAWiC,OAAOS,EAAOC,QAAQ7F,WAI5H,KAAKsF,EAAQ+F,iBACX,OAAQzF,EAAOC,QAAQ2G,YACrB,IAAK,WAAY,OAAO,2BAAI7G,GAAX,IAAkBuG,QAAQ,2BAAKvG,EAAMuG,SAAZ,IAAqBnJ,SAAU4C,EAAMuG,QAAQnJ,SAAWoC,OAAOS,EAAOC,QAAQ7F,WACxH,IAAK,OAAY,OAAO,2BAAI2F,GAAX,IAAkBuG,QAAQ,2BAAKvG,EAAMuG,SAAZ,IAAqBlJ,KAAU2C,EAAMuG,QAAQlJ,KAAWmC,OAAOS,EAAOC,QAAQ7F,WACxH,IAAK,QAAY,OAAO,2BAAI2F,GAAX,IAAkBuG,QAAQ,2BAAKvG,EAAMuG,SAAZ,IAAqBjJ,MAAU0C,EAAMuG,QAAQjJ,MAAWkC,OAAOS,EAAOC,QAAQ7F,WACxH,IAAK,OAAY,OAAO,2BAAI2F,GAAX,IAAkBuG,QAAQ,2BAAKvG,EAAMuG,SAAZ,IAAqBhJ,KAAUyC,EAAMuG,QAAQhJ,KAAWiC,OAAOS,EAAOC,QAAQ7F,WAI5H,KAAKsF,EAAQiG,2BACX,OAAO,2BAAI5F,GAAX,IAAkBoD,YAAY,GAAD,mBAAMpD,EAAMoD,aAAZ,CAAyBnD,EAAOC,YAG/D,KAAKP,EAAQgG,sCACX,OAAO,2BAAI3F,GAAX,IAAkBoD,YAAa,KAGjC,QAAS,OAAOjD,QAAQC,MAAR,+BAAsCH,EAAOlD,UAInB8C,GA3GZ,mBA2G3BG,EA3G2B,KA2GpBM,EA3GoB,OA4GkB7F,oBAAS,GA5G3B,mBA4G3BqJ,EA5G2B,KA4GLgD,EA5GK,KAgHlCrL,qBAAU,WACegB,OAAOC,KAAKoB,cAClBnB,SAAQ,SAAAG,GACvB,IAAIzC,EAAQuD,KAAKC,MAAMC,aAAaC,QAAQjB,IACxCzC,EAAM6L,SAAWzM,EAAMyM,QAAY7L,EAAM8L,QAAQC,QAAU3M,EAAM0M,QAAQC,OACtC/L,EAAM8L,QAAQE,UAAY5M,EAAM0M,QAAQE,SACxChM,EAAM8L,QAAQG,SAAW7M,EAAM0M,QAAQG,QAC5EhG,EAAS,CAAEvD,KAAM4C,EAAQiG,2BAA4B1F,QAAS7F,SAGjE,CAACZ,EAAM0M,UAIV1K,qBAAU,WACR,OAAO,kBAAM6E,EAAS,CAAEvD,KAAM4C,EAAQgG,2CAErC,CAAClM,EAAM0M,UAIV1K,qBAAU,WACR,IAAMsL,EAA6B,SAAC/G,EAAOC,GACrCD,GACFM,EAAS,CAACvD,KAAMkD,KAGpB8G,EAA2B/G,EAAM8F,aAAcnG,EAAQqF,mBACvD+B,EAA2B/G,EAAM+F,qBAAsBpG,EAAQsF,4BAC/D8B,EAA2B/G,EAAMgG,uBAAwBrG,EAAQuF,gCAEhE,CAACzL,EAAM0M,UAIV1K,qBAAU,WACRhC,EAAMuN,aAAahH,EAAMuG,QAAS9M,EAAMyM,UAEvC,CAAClG,EAAMuG,UAIV9K,qBAAU,WACR,IAAMwL,EAAsB,SAAC5M,GAC3B,IAAM6M,EAAQjK,SAAS4F,iBAAiB,SAClCgB,EAAU5G,SAASC,cAAc,YACjCiK,EAASlK,SAASC,cAAc,mBAEtCgK,EAAMvK,SAAQ,SAAAyK,GACEA,EAAKlK,cAAc,0BACzB8B,MAAMyB,cAAgBpG,EAC9BwJ,EAAQ7E,MAAMyB,cAAgBpG,EAGX8M,EAAOnI,MAAMqI,UAAtB,SAAVhN,EAA4C,SAAoC,WAKpF2F,EAAM+F,sBAAwB/F,EAAMgG,uBAClCiB,EAAoB,QACpBA,EAAoB,UAErB,CAACjH,EAAM+F,qBAAsB/F,EAAMgG,yBAGtC,IAIMsB,EAAwB,SAACC,GAC7B9K,OAAOC,KAAK6K,GAAQ5K,SAAQ,SAAAG,GAC1BwD,EAAS,CACPvD,KAAM4C,EAAQ8F,eACdvF,QAAS,CACP2G,WAAY/J,EACZzC,MAAOkN,EAAOzK,UAMhB0K,EAAgC,SAACD,GACrC9K,OAAOC,KAAK6K,GAAQ5K,SAAQ,SAAAG,GAC1BwD,EAAS,CACPvD,KAAM4C,EAAQ+F,iBACdxF,QAAS,CACP2G,WAAY/J,EACZzC,MAAOkN,EAAOzK,UAOhBP,EAAkB,WACtB+D,EAAU,CAACvD,KAAM4C,EAAQsF,8BAGrBL,EAAqB,WACzBtE,EAAU,CAACvD,KAAM4C,EAAQuF,gCAsF3B,OACE,sBAAK/L,UAAU,OAAO6F,MAASgB,EAAM8F,cAAgB2B,OAAOC,WAAa,IAAO,CAACC,KAAM,SAAW,CAACA,KAAM,OAAzG,UACE,0BAASxO,UAAU,oBAAoBO,QA1HjB,WACxB4G,EAAU,CAACvD,KAAM4C,EAAQqF,qBAyHvB,UAEE,oBAAI7L,UAAU,gCAAd,SAA+CM,EAAMuD,OAErD,qBAAI7D,UAAU,qCAAd,UACE,qBAAIA,UAAU,2CAAd,UAA2D6G,EAAMuG,QAAQnJ,SAAzE,QACA,qBAAIjE,UAAU,2CAAd,UAA2D6G,EAAMuG,QAAQlJ,KAAzE,QACA,qBAAIlE,UAAU,2CAAd,UAA2D6G,EAAMuG,QAAQjJ,MAAzE,QACA,qBAAInE,UAAU,2CAAd,UAA2D6G,EAAMuG,QAAQhJ,KAAzE,iBAK2B,IAA7ByC,EAAMoD,YAAYlC,OAClB,yBAAS/H,UAAU,yBAAyB6F,MAAQgB,EAAM8F,aAAe,CAAC8B,QAAS,QAAU,CAACA,QAAS,QAAvG,SAEE5H,EAAMoD,YAAYK,KAAI,SAAAtB,GACtB,OACE,cAAC0F,EAAD,CACE7K,KAAOmF,EAAQnF,KACfG,OAASgF,EAAQhF,OACjBC,SAAW+E,EAAQ/E,SACnBC,KAAO8E,EAAQ9E,KACfC,MAAQ6E,EAAQ7E,MAChBC,KAAO4E,EAAQ5E,KACfuK,uBAAyBR,EACzBS,uBAAyBP,GARZrF,EAAQ7D,SAczB,KAEJ,yBAASnF,UAAU,wBAAwB6F,MAAQgB,EAAM8F,aAAe,CAAC8B,QAAS,QAAU,CAACA,QAAS,QAAtG,SACE,gCACA,wBACEzO,UAAY6G,EAAMoD,YAAYlC,OAAS,uCAAyC,iDAChFxH,QAAUsG,EAAMoD,YAAYlC,OAAS0D,EAAqB,KAC1D7F,YAAWiB,EAAM+F,uBAAwB/F,EAAMgG,wBAHjD,oBAMA,wBACE7M,UAAU,oCACVO,QAAU6C,EACVwC,YAAWiB,EAAM+F,uBAAwB/F,EAAMgG,wBAHjD,sBASAhG,EAAM+F,qBACJ,cAACrC,EAAD,CACE7G,KAAM,CACJiH,qBAAsBA,EACtB9G,KAAMgD,EAAMtC,WAAWV,KACvBG,OAAQ6C,EAAMtC,WAAWP,OACzBC,SAAU4C,EAAMtC,WAAWN,SAC3BC,KAAM2C,EAAMtC,WAAWL,KACvBC,MAAO0C,EAAMtC,WAAWJ,MACxBC,KAAMyC,EAAMtC,WAAWH,MACzBsB,QAAUmB,EAAMnB,QAChBF,eA5Ga,SAAC5E,GAItBoG,QAAQ6H,IAAIhI,EAAMoD,aAElB,IAKMhC,EAAiB,WACrBd,EAAS,CAAEvD,KAAM4C,EAAQ6G,wBAAyBtG,QAAS,CAAEpD,IAAK/C,EAAEG,OAAOoE,GAAIjE,MAAO,MACtFiG,EAAS,CAAEvD,KAAM4C,EAAQ2F,YAAapF,QAASnG,EAAEG,OAAOoE,MAGpD2J,EAAoB,WACxB3H,EAAS,CAAEvD,KAAM4C,EAAQ6G,wBAAyBtG,QAAS,CAAEpD,IAAK/C,EAAEG,OAAOoE,GAAIjE,MAAON,EAAEG,OAAOG,SAC/FiG,EAAS,CAAEvD,KAAM4C,EAAQ4F,cAAerF,QAASnG,EAAEG,OAAOoE,MAGxC,SAAhBvE,EAAEG,OAAOoE,GAnBE,WAqBN2C,KAAKlH,EAAEG,OAAOG,MAAMN,EAAEG,OAAOG,MAAM6G,OAAS,IAAM+G,IAAsB7G,IAtBhE,QA4BFH,KAAKlH,EAAEG,OAAOG,MAAMN,EAAEG,OAAOG,MAAM6G,OAAS,IA1B5C,UA4BAD,KAAKlH,EAAEG,OAAOG,OACP,WAAhBN,EAAEG,OAAOoE,GAAkB8C,KAzB/Bd,EAAS,CAAEvD,KAAM4C,EAAQ6G,wBAAyBtG,QAAS,CAAEpD,IAAK/C,EAAEG,OAAOoE,GAAIjE,MAAO,OACtFiG,EAAS,CAAEvD,KAAM4C,EAAQ4F,cAAerF,QAASnG,EAAEG,OAAOoE,MA2BtD2J,IAIF7G,KAsEI/E,mBAvHiB,WACzBiE,EAAS,CAAEvD,KAAM4C,EAAQ6G,wBAAyBtG,QAAS,CAAEpD,IAAK,OAAQzC,MAAO,MACjFiG,EAAS,CAAEvD,KAAM4C,EAAQ6G,wBAAyBtG,QAAS,CAAEpD,IAAK,SAAUzC,MAAO,MACnFiG,EAAS,CAAEvD,KAAM4C,EAAQ6G,wBAAyBtG,QAAS,CAAEpD,IAAK,WAAYzC,MAAO,MACrFiG,EAAS,CAAEvD,KAAM4C,EAAQ6G,wBAAyBtG,QAAS,CAAEpD,IAAK,OAAQzC,MAAO,MACjFiG,EAAS,CAAEvD,KAAM4C,EAAQ6G,wBAAyBtG,QAAS,CAAEpD,IAAK,QAASzC,MAAO,MAClFiG,EAAS,CAAEvD,KAAM4C,EAAQ6G,wBAAyBtG,QAAS,CAAEpD,IAAK,OAAQzC,MAAO,MACjFyM,GAAoB,IAiHZ5H,oBArJkB,SAACnF,GAC3BA,EAAEC,iBACFkO,YAAW,WAAQ5H,EAAS,CAAEvD,KAAM4C,EAAQwF,gBAAkB,IAC9D7E,EAAS,CAAEvD,KAAM4C,EAAQsF,8BAmJjB1I,gBAAkBA,EAClB2G,+BAjJ6B,SAACD,GACtCA,EAAiBtG,SAAQ,SAAAwF,GAGvB+F,YAAW,WAETzL,OAAOC,KAAKyF,GAASxF,SAAQ,SAAAG,GAC3BwD,EAAS,CAAEvD,KAAM4C,EAAQ6G,wBAAyBtG,QAAS,CAAEpD,IAAKA,EAAKzC,MAAO8H,EAAQrF,SAGxFwD,EAAS,CAAEvD,KAAM4C,EAAQwF,gBAExB,OAGL7E,EAAS,CAAEvD,KAAM4C,EAAQsF,gCAoInB,KAEFjF,EAAMgG,uBACJ,cAACjC,EAAD,CACEc,KAAO7E,EAAMoD,YACbsB,eAtIoB,SAACyD,GAC7B7H,EAAS,CAAEvD,KAAM4C,EAAQ6F,eAAgBtF,QAASiI,IAClD7H,EAAS,CAAEvD,KAAM4C,EAAQuF,gCAqIjBN,mBAAqBA,IAEvB,QAMV,SAASiD,EAAQpO,GAUf,OATAgC,qBAAU,WACR,IAAI2M,EAAc,CAAEhL,SAAU3D,EAAM2D,SAAUC,KAAM5D,EAAM4D,KAAMC,MAAO7D,EAAM6D,MAAOC,KAAM9D,EAAM8D,MAGhG,OAFA9D,EAAMqO,uBAAuBM,GAEtB,WACL3O,EAAMsO,uBAAuBK,MAE9B,IAGD,sBAAKjP,UAAU,kCAAf,UACE,sBAAKA,UAAU,wCAAf,UACE,oBAAIA,UAAU,yCAAd,SAAwDM,EAAMuD,OAC9D,oBAAG7D,UAAU,0CAAb,UAAwDM,EAAM0D,OAA9D,WAGF,qBAAIhE,UAAU,8CAAd,UACE,qBAAIA,UAAU,oDAAd,UAAmEM,EAAM2D,SAAzE,QACA,qBAAIjE,UAAU,oDAAd,UAAmEM,EAAM4D,KAAzE,QACA,qBAAIlE,UAAU,oDAAd,UAAmEM,EAAM6D,MAAzE,QACA,qBAAInE,UAAU,4GAAd,UAA2HM,EAAM8D,KAAjI,iB,MC3aO,SAAS8K,EAAM5O,GAW5B,OAEE,sBAAKN,UAAaM,EAAM6O,OAA4C,sEAAnC,iCAAjC,UAEI,qBAAKnP,UAAaM,EAAM6O,OAAiD,gFAAxC,sCAC/BtJ,MAAQvF,EAAM8O,QAAU,IAfT,WACrB,IAAMC,EAAkC,IAAhB/O,EAAM8O,QAC9B,OAAIC,EAAkB,GACb,CAACC,UAAU,UAAD,OAAYD,EAAZ,SACfA,GAAmB,IAAMA,EAAkB,IACtC,CAACC,UAAU,UAAD,OAAYD,EAAZ,QAAmCE,iBAAiB,aACnEF,GAAmB,IACd,CAACC,UAAU,UAAD,OAAYD,EAAZ,QAAmCE,iBAAiB,YAAcC,eAAgB,kBADrG,EASoCC,GAAmB,CAACC,YAAa,aAGjE,sBAAK1P,UAAaM,EAAM6O,OAAkD,kFAAzC,uCAAjC,UACG,qBAAInP,UAAaM,EAAM6O,OAA0D,kGAAjD,+CAAhC,UACG7O,EAAMqP,OADT,IACmBrP,EAAM6O,OAAe,KAAN,OAClC,qBAAInP,UAAaM,EAAM6O,OAAwD,8FAA/C,6CAAhC,UACG7O,EAAMuD,KADT,OAEA,oBAAG7D,UAAaM,EAAM6O,OAA2D,oGAAlD,gDAA/B,UACG7O,EAAM8O,QADT,QAEA,qBAAIpP,UAAaM,EAAM6O,OAAwD,8FAA/C,6CAAhC,UACG7O,EAAMkO,KADT,IACiBlO,EAAM6O,OAAe,KAAN,IADhC,iB,MC7BI,SAASS,EAAWtP,GAEjCgC,qBAAU,WACR,IAAMoI,EAAU5G,SAASC,cAAc,SACjC8L,EAAS/L,SAASC,cAAc,kCAMtC,OAJA2G,EAAQ7E,MAAMwB,OAAS,yCACvBqD,EAAQ7E,MAAMyB,cAAgB,OAC9ByH,YAAW,WAAQc,EAAOhK,MAAMiK,QAAU,MAAO,KAEzC,WACNpF,EAAQ7E,MAAMwB,OAAS,wCACvBqD,EAAQ7E,MAAMyB,cAAgB,UAG/B,IAEH,IAAMyI,EAAmB,WACvBzP,EAAM0P,oBAGR,OAAOpI,IAASC,aACd,sBAAK7H,UAAU,sBAAf,UAEE,yBAAQA,UAAU,iBAAlB,UACE,oBAAIA,UAAU,0BAAd,SAA0CM,EAAMU,QAChD,wBAAQhB,UAAU,8BAA8BO,QAAUwP,EAA1D,SAA6E,cAAC,IAAD,SAG/E,uBAAM/P,UAAU,eAAhB,UAEE,0BAASA,UAAU,wBAAnB,UACE,oBAAIA,UAAU,+BAAd,yBACA,mBAAGA,UAAU,8BAAb,SAA6CM,EAAM2P,iBAGrD,0BAASjQ,UAAU,sDAAnB,UACE,wBAAOA,UAAU,oCAAjB,UACE,oBAAIA,UAAU,+BAAd,wBACA,sBAAKA,UAAU,yCAAyC6F,MAAO,CAAEqK,aAAc,QAA/E,UACE,sBAAMlQ,UAAU,wGAChB,sBAAMA,UAAYM,EAAM6P,YAAc,EAAI,sGAAwG,kDAClJ,sBAAMnQ,UAAiC,IAArBM,EAAM6P,WAAmB,sGAAwG,qDAErJ,mBAAGnQ,UAAU,8BAAb,SAA6CM,EAAM8P,oBAErD,wBAAOpQ,UAAU,qCAAjB,UACE,oBAAIA,UAAU,+BAAd,qBACA,oBAAIA,UAAU,8BAAd,SACIM,EAAM+P,QAAQ/F,KAAI,SAACgG,EAAQ3H,GAAY,OAAO,oBAAkB3I,UAAU,oCAA5B,SAAkEsQ,GAAxD3H,cAKhE,0BAAS3I,UAAU,wBAAnB,UACE,oBAAIA,UAAU,+BAAd,yBACA,wBAAQA,UAAU,gCAAgCuQ,iBAAe,EAACC,MAAM,OAAOC,OAAO,QAAQxQ,IAAMK,EAAMoQ,uBAK9G,0BAAS1Q,UAAU,iBAAnB,UACE,wBACA,wBAAQA,UAAU,iCAAiC4D,KAAK,SAASrD,QAAUwP,EAA3E,wBAIJjM,SAASsE,eAAe,WC9D5B,IAAM5B,EACoB,yBADpBA,EAEqB,0BAFrBA,EAGwB,6BAHxBA,EAIsB,2BAJtBA,EAKa,kBALbA,EAMmB,wBANnBA,EAOkB,uBAPlBA,EAQS,cARTA,EASW,gBATXA,EAUO,YAVPA,EAWU,eAXVA,EAYqB,0BAZrBA,EAakC,qCAG3BU,EACH,mCADGA,GAEL,iCAKO,SAASyJ,GAASrQ,GAE/B,IAAMoG,EAAe,CACnBkK,kBAAkB,EAClBC,mBAAmB,EACnBC,sBAAsB,EACtBC,oBAAoB,EACpB3L,aAAc,CACZC,SAAU,CAAErB,OAAQ,aAAcK,KAAM,cACxCiB,MAAO,CAAEtB,OAAQ,aAAcK,KAAM,eAEvC2M,WAAY,GACZtL,QAAS,CAAC,GAAI,IACduL,SAAU,CAAE9L,GAAI,EAAG+L,WAAY5Q,EAAM4Q,WAAYC,WAAY,EAAGnE,QAAS,CAAEC,MAAO,EAAGC,QAAS,EAAGC,OAAQ,GAAKxB,WAAY,GAAI3H,OAAQ,GAAIK,KAAK,KAG3I+M,EAA0B,SAACC,GAC/B,IAmCIC,EAA2B,CAAErE,MAAO,EAAGC,QAAS,EAAGC,OAAQ,GAoC/D,OAzDiC,IAA1BkE,EAAgBpE,OAA6C,IAA5BoE,EAAgBnE,SAwBtDoE,EAAyBrE,MAAQ,GACjCqE,EAAyBpE,QAAU,GACnCoE,EAAyBnE,OAASkE,EAAgBlE,OAAS,GAnB5B,IAA1BkE,EAAgBpE,OAA6C,IAA5BoE,EAAgBnE,SApBhDmE,EAAgBlE,OAAS,IAAM,GAAOkE,EAAgBlE,OAAS,MAAQ,GAAOkE,EAAgBlE,OAAS,MAAQ,EA4CnHmE,EAAyBrE,MAAQ,GAEjCqE,EAAyBrE,MAAQ,GAEnCqE,EAAyBpE,QAAU,EACnCoE,EAAyBnE,OAASkE,EAAgBlE,QAtBnB,IAA1BkE,EAAgBpE,OAA8C,IAA5BoE,EAAgBnE,SAA+C,IAA5BmE,EAAgBnE,SAA+C,IAA5BmE,EAAgBnE,SAA+C,IAA5BmE,EAAgBnE,SAA+C,KAA5BmE,EAAgBnE,QApBtK,IAA1BmE,EAAgBpE,OAoDnBqE,EAAyBrE,MAAQ,GACjCqE,EAAyBpE,QAAUmE,EAAgBnE,QAAU,EAC7DoE,EAAyBnE,OAASkE,EAAgBlE,SAIlDmE,EAAyBrE,MAAQoE,EAAgBpE,MAAQ,EACzDqE,EAAyBpE,QAAUmE,EAAgBnE,QACnDoE,EAAyBnE,OAASkE,EAAgBlE,SAdlDmE,EAAyBrE,MAAQ,GACjCqE,EAAyBpE,QAAUmE,EAAgBnE,QAAU,EAC7DoE,EAAyBnE,OAASkE,EAAgBlE,QAe7CmE,GAxF6B,EA6RZ1K,sBAlMV,SAACC,EAAOC,GAEtB,OAAOA,EAAOlD,MACZ,KAAK4C,EACH,OAAO,2BAAIK,GAAX,IAAkB+J,kBAAmB/J,EAAM+J,mBAG7C,KAAKpK,EACH,OAAO,2BAAIK,GAAX,IAAkBgK,mBAAoBhK,EAAMgK,oBAG9C,KAAKrK,EACH,OAAO,2BAAIK,GAAX,IAAkBiK,sBAAuBjK,EAAMiK,uBAGjD,KAAKtK,EACH,OAAO,2BAAIK,GAAX,IAAkBkK,oBAAqBlK,EAAMkK,qBAG/C,KAAKvK,EACH,OAAQM,EAAOC,QAAQpD,KACrB,IAAK,SAAe,OAAO,2BAAKkD,GAAZ,IAAmBoK,SAAS,2BAAMpK,EAAMoK,UAAb,IAAuBjN,OAAQ8C,EAAOC,QAAQ7F,UAC7F,IAAK,OAAe,OAAO,2BAAK2F,GAAZ,IAAmBoK,SAAS,2BAAMpK,EAAMoK,UAAb,IAAuB5M,KAAQyC,EAAOC,QAAQ7F,UAIjG,KAAKsF,EACH,IAAM+K,EAAoB1K,EAAMmK,WAC5BrF,EAAa,EAgBjB,OAbA9E,EAAMoK,SAAS9L,GAAK9D,KAAK+E,MACzBS,EAAMoK,SAASjE,QAAU1M,EAAM0M,QAC/BuE,EAAkB1M,KAAKgC,EAAMoK,UAG7BM,EAAkB/N,SAAQ,SAAA8B,GACxBA,EAAMqG,WAAaA,EACnBA,OAIFhH,aAAaG,QAAQ+B,EAAMoK,SAAS9L,GAAIV,KAAKM,UAAU8B,EAAMoK,WAEtD,2BACFpK,GADL,IAEEoK,SAAU,CAAE9L,GAAI,EAAG+L,WAAY5Q,EAAM4Q,WAAYlE,QAAS,CAAEC,MAAO,EAAGC,QAAS,EAAGC,OAAQ,GAAKxB,WAAY,GAAI3H,OAAQ,GAAIK,KAAM,IACjI2M,WAAYO,IAGhB,KAAK/K,EACH,IAAI+K,EAAoB1K,EAAMmK,WAC1BQ,EAAgB1K,EAAOC,QACvB4E,EAAa,EAoBjB,OAlBA6F,EAAchO,SAAQ,SAAA+J,GAEpBgE,EAAkB/N,SAAQ,SAAC8B,EAAOqD,GAChChE,aAAa8I,WAAWnI,EAAMH,IAC1BkB,OAAOf,EAAMH,MAAQkB,OAAOkH,IAC9BgE,EAAkB/D,OAAO7E,EAAO,SAOtC4I,EAAkB/N,SAAQ,SAAA8B,GACxBA,EAAMqG,WAAaA,EACnBhH,aAAaG,QAAQQ,EAAMH,GAAIV,KAAKM,UAAUO,IAC9CqG,OAGK,2BAAK9E,GAAZ,IAAmBmK,WAAYO,IAGjC,KAAK/K,EACH,OAAQM,EAAOC,SACb,IAAK,SAAW,OAAO,2BAAKF,GAAZ,IAAmBnB,QAAS,CAACwB,EAAiBJ,EAAOC,WACrE,IAAK,OAAS,OAAO,2BAAKF,GAAZ,IAAmBnB,QAAS,CAACwB,GAAeJ,EAAOC,WAIrE,KAAKP,EACH,OAAO,2BAAKK,GAAZ,IAAmBnB,QAAS,CAAC,GAAIoB,EAAOC,WAG1C,KAAKP,EACH,OAAO,2BAAIK,GAAX,IAAkBmK,WAAW,GAAD,mBAAMnK,EAAMmK,YAAZ,CAAwBlK,EAAOC,YAG7D,KAAKP,EAA0B,IAAD,aAI5B,IAHA,IAAImF,EAAa,EACX4F,EAAoB,GAEnBA,EAAkBxJ,SAAWlB,EAAMmK,WAAWjJ,QAEnDlB,EAAMmK,WAAWxN,SAAQ,SAAA8B,GACnBA,EAAMqG,aAAeA,GACvB4F,EAAkB1M,KAAKS,MAG3BqG,IAGF,MAAM,CAAN,6BAAW9E,GAAX,IAAkBmK,WAAYO,KAdF,qCAiB9B,KAAK/K,EACH,OAAO,2BAAIK,GAAX,IAAkBmK,WAAY,KAGhC,KAAKxK,EAA+B,IAAD,aAEjC,IAAIiL,EAA6B,EAC7BC,EAAmB,EACnBC,EAAuB,CAAE3N,OAAQ,cAAeK,KAAM,eACtDuN,EAA0B,CAAE5N,OAAQ,iBAAkBK,KAAM,kBAKhC,IAA5BwC,EAAMmK,WAAWjJ,SAEnBlB,EAAMmK,WAAWxN,SAAQ,SAAC8B,EAAOqD,GAC3BrD,EAAMqG,WAAa8F,IACrBA,EAA6BnM,EAAMqG,WACnC+F,EAAmB/I,MAIvBgJ,EAAuB,CACrB3N,OAAQ6C,EAAMmK,WAAWU,GAAkB1N,OAC3CK,KAAMwC,EAAMmK,WAAWU,GAAkBrN,OAM7C,IAAMwN,EAAkB,GACpBC,EAAwB,GACxBT,EAAkB/Q,EAAM0M,QAG5B,GAAyC,IAArC1J,OAAOC,KAAKoB,cAAcoD,SAE5BzE,OAAOC,KAAKoB,cAAcnB,SAAQ,SAAAG,GAChC,IAAIzC,EAAQuD,KAAKC,MAAMC,aAAaC,QAAQjB,IAExCzC,EAAMgQ,aAAe5Q,EAAM4Q,YACzBhQ,EAAMyK,aAAe8F,EAA6B,IAEjDvQ,EAAM8L,QAAQC,MAAQ3M,EAAM0M,QAAQC,OAAW/L,EAAM8L,QAAQE,QAAU5M,EAAM0M,QAAQE,SAAahM,EAAM8L,QAAQG,SAAW7M,EAAM0M,QAAQG,QACzIjM,EAAM8L,QAAQC,MAAQ3M,EAAM0M,QAAQC,OAAW/L,EAAM8L,QAAQE,UAAY5M,EAAM0M,QAAQE,SAAahM,EAAM8L,QAAQG,SAAW7M,EAAM0M,QAAQG,QAC3IjM,EAAM8L,QAAQC,OAAS3M,EAAM0M,QAAQC,OAAW/L,EAAM8L,QAAQE,QAAU5M,EAAM0M,QAAQE,SAAahM,EAAM8L,QAAQG,SAAW7M,EAAM0M,QAAQG,QAC1IjM,EAAM8L,QAAQC,OAAS3M,EAAM0M,QAAQC,OAAW/L,EAAM8L,QAAQE,SAAW5M,EAAM0M,QAAQE,SAAahM,EAAM8L,QAAQG,OAAS7M,EAAM0M,QAAQG,SAE1I0E,EAAgBhN,KAAK3D,MAKE,IAA3B2Q,EAAgB9J,QAClB,OAQE,GAPAsJ,EAAkBD,EAAwBC,GAE1CQ,EAAgBrO,SAAQ,SAAA8B,GAClBb,KAAKM,UAAUsM,KAAqB5M,KAAKM,UAAUO,EAAM0H,WAC3D8E,EAAwBxM,WAGSyM,IAAjCD,EAAsB9N,OAAsB,CAC9C4N,EAA0B,CACxB5N,OAAQ8N,EAAsB9N,OAC9BK,KAAMyN,EAAsBzN,MAE9B,MAMR,MAAM,CAAN,6BAAWwC,GAAX,IACEzB,aAAc,CACZC,SAAUuM,EACVtM,MAAOqM,MAzEsB,qCA8EnC,QAAS,OAAO3K,QAAQC,MAAR,+BAAsCH,EAAOlD,UAInB8C,GA7RR,mBA6R/BG,EA7R+B,KA6RxBM,EA7RwB,KAiStC7E,qBAAU,WACegB,OAAOC,KAAKoB,cAElBnB,SAAQ,SAAAG,GACvB,IAAIzC,EAAQuD,KAAKC,MAAMC,aAAaC,QAAQjB,IACxCzC,EAAMgQ,aAAe5Q,EAAM4Q,YAAgBhQ,EAAM8L,QAAQC,QAAU3M,EAAM0M,QAAQC,OAC9C/L,EAAM8L,QAAQE,UAAY5M,EAAM0M,QAAQE,SACxChM,EAAM8L,QAAQG,SAAW7M,EAAM0M,QAAQG,QAC5EhG,EAAS,CAAEvD,KAAM4C,EAAiCO,QAAS7F,OAG/DiG,EAAS,CAAEvD,KAAM4C,MAEhB,CAAClG,EAAM0M,UAIV1K,qBAAU,WACR,OAAO,kBAAM6E,EAAS,CAAEvD,KAAM4C,OAE7B,CAAClG,EAAM0M,UAIV1K,qBAAU,cAEP,CAAChC,EAAM0M,UAIV1K,qBAAU,WACR,IAAMsL,EAA6B,SAAC/G,EAAOC,GACrCD,GACFM,EAAS,CAACvD,KAAMkD,KAGpB8G,EAA2B/G,EAAM+J,iBAAkBpK,GACnDoH,EAA2B/G,EAAMgK,kBAAmBrK,GACpDoH,EAA2B/G,EAAMiK,qBAAsBtK,GACvDoH,EAA2B/G,EAAMkK,mBAAoBvK,KAEpD,CAAClG,EAAM0M,UAIV1K,qBAAU,WACR,IAAMwL,EAAsB,SAAC5M,GAC3B,IAAM6M,EAAQjK,SAAS4F,iBAAiB,SAClCgB,EAAU5G,SAASC,cAAc,YACjCiK,EAASlK,SAASC,cAAc,mBAEtCgK,EAAMvK,SAAQ,SAAAyK,GACEA,EAAKlK,cAAc,0BACzB8B,MAAMyB,cAAgBpG,EAC9BwJ,EAAQ7E,MAAMyB,cAAgBpG,EAGX8M,EAAOnI,MAAMqI,UAAtB,SAAVhN,EAA4C,SAAoC,WAKpF2F,EAAMgK,mBAAqBhK,EAAMiK,sBAAwBjK,EAAMkK,mBAC7DjD,EAAoB,QACpBA,EAAoB,UAErB,CAACjH,EAAMgK,kBAAmBhK,EAAMiK,qBAAsBjK,EAAMkK,qBAI/DzO,qBAAU,WACJuE,EAAMgK,mBACR1J,EAAS,CAAEvD,KAAM4C,IACnBwL,MAEC,CAACnL,EAAMgK,oBAEV,IAmJiCG,EA/I3B5N,EAAkB,WACtB+D,EAAS,CAAEvD,KAAM4C,KAGbiF,EAAqB,WACzBtE,EAAS,CAAEvD,KAAM4C,KAGbwJ,EAAmB,WACvB7I,EAAS,CAAEvD,KAAM4C,KAGbwL,EAAgB,WACpB,IAAMC,EAAqB,GACrBC,EAAmB,GACrBC,EAAU,GACVC,EAAe,EACfC,EAAgB,EAChBhB,EAAkB/Q,EAAM0M,QAG5B,GAAyC,IAArC1J,OAAOC,KAAKoB,cAAcoD,SAE5BzE,OAAOC,KAAKoB,cAAcnB,SAAQ,SAAAG,GAChC,IAAIzC,EAAQuD,KAAKC,MAAMC,aAAaC,QAAQjB,IAExCzC,EAAMgQ,aAAe5Q,EAAM4Q,aAE1BhQ,EAAM8L,QAAQC,MAAQ3M,EAAM0M,QAAQC,OAAW/L,EAAM8L,QAAQE,QAAU5M,EAAM0M,QAAQE,SAAahM,EAAM8L,QAAQG,SAAW7M,EAAM0M,QAAQG,QACzIjM,EAAM8L,QAAQC,MAAQ3M,EAAM0M,QAAQC,OAAW/L,EAAM8L,QAAQE,UAAY5M,EAAM0M,QAAQE,SAAahM,EAAM8L,QAAQG,SAAW7M,EAAM0M,QAAQG,QAC3IjM,EAAM8L,QAAQC,OAAS3M,EAAM0M,QAAQC,OAAW/L,EAAM8L,QAAQE,QAAU5M,EAAM0M,QAAQE,SAAahM,EAAM8L,QAAQG,SAAW7M,EAAM0M,QAAQG,QAC1IjM,EAAM8L,QAAQC,OAAS3M,EAAM0M,QAAQC,OAAW/L,EAAM8L,QAAQE,SAAW5M,EAAM0M,QAAQE,SAAahM,EAAM8L,QAAQG,OAAS7M,EAAM0M,QAAQG,SAE1I8E,EAAmBpN,KAAK3D,MAII,IAA9B+Q,EAAmBlK,QACrB,KACEsJ,EAAkBD,EAAwBC,GAE1CY,EAAmBzO,SAAQ,SAAA6B,GACrBZ,KAAKM,UAAUsM,KAAqB5M,KAAKM,UAAUM,EAAS2H,UAC9DkF,EAAiBrN,KAAKQ,MAGM,IAA5B6M,EAAiBnK,SAM3B,IAAMuK,EAAoBC,EAAiBL,GAkC3C,OA/BAG,EAF6BE,EAAiB1L,EAAMmK,YAEbsB,EAGrCF,EADEE,GACeD,EAAgBC,EAAqB,KAAKE,QAAQ,GAEpD,GAEbF,EAAoB,EAElBD,EAAgB,GAClBF,EAAQM,IAAR,UAAiBJ,EAAcG,QAAQ,GAAvC,YACAL,EAAQO,OAAR,UAAoBN,EAApB,0BAEyB,IAAlBC,GACPF,EAAQM,IAAM,+BACdN,EAAQO,OAAS,KAIjBL,IAAkB,EAClBD,IAAkB,EAClBD,EAAQM,IAAR,UAAiBJ,EAAcG,QAAQ,GAAvC,YACAL,EAAQO,OAAR,UAAoBN,EAApB,2BAKFD,EAAQM,IAAM,iCACdN,EAAQO,OAAS,IAGZP,GAqCHI,EAAmB,SAACvB,GACxB,IAAI2B,EAAc,EAMlB,OAJA3B,EAAWxN,SAAQ,SAAA8B,GACjBqN,GAAetM,OAAOf,EAAMtB,QAAUqC,OAAOf,EAAMjB,SAG9CsO,GAGHC,EAAiB,SAAC5B,GACtB,IAAI6B,EAAY,EAMhB,OAJA7B,EAAWxN,SAAQ,SAAA8B,GACjBuN,GAAaxM,OAAOf,EAAMjB,SAGrBwO,GAkBT,OACE,sBAAK7S,UAAU,gBAAgB6F,MAASgB,EAAM+J,kBAAoBtC,OAAOC,WAAa,IAAO,CAACC,KAAM,SAAW,CAACA,KAAM,OAAtH,UAEE,0BAASxO,UAAU,0CAA0CO,QArKnC,WAC5B4G,EAAS,CAAEvD,KAAM4C,KAoKf,UAEE,oBAAIxG,UAAU,gCAAd,SAAgDM,EAAMuD,OAEtD,sBAAK7D,UAAU,yCAAyCgB,MAAM,sBAA9D,UACE,sBAAMhB,UAAU,wGAChB,sBAAMA,UAAYM,EAAM6P,YAAc,EAAI,sGAAwG,kDAClJ,sBAAMnQ,UAAiC,IAArBM,EAAM6P,WAAmB,sGAAwG,wDAKzH,IAA5BtJ,EAAMmK,WAAWjJ,OACjB,0BAAS/H,UAAU,kDAAkD6F,MAAQgB,EAAM+J,iBAAmB,CAACnC,QAAS,QAAU,CAACA,QAAS,QAApI,UAEE,oBAAIzO,UAAU,iCAAd,SACI6G,EAAMmK,WAAW1G,KAAI,SAAAhF,GACrB,OACA,qBAAqBtF,UAAU,uCAA/B,UACI,oBAAGA,UAAU,8CAAb,mBAAmEsF,EAAMqG,cACzE,oBAAG3L,UAAU,+CAAb,UAA8DsF,EAAMtB,OAApE,SACA,oBAAGhE,UAAU,6CAAb,UAA4DsF,EAAMjB,KAAlE,aAHMiB,EAAMH,SAUpB,qBAAInF,UAAU,oCAAd,UAEE,qBAAIA,UAAU,0CAAd,UACE,mBAAGA,UAAU,iDAAb,mBACA,oBAAGA,UAAU,kDAAb,UAAiEuS,EAAiB1L,EAAMmK,YAAxF,SACA,oBAAGhR,UAAU,gDAAb,UAA+D4S,EAAe/L,EAAMmK,YAApF,cAGF,qBAAIhR,UAAU,0CAAd,UACE,oBAAGA,UAAU,8CAAb,UACE,+BAAQgS,IAAgBS,MACxB,+BAAQT,IAAgBU,YAE1B,oBAAG1S,UAAU,+FAAb,WA3DqBgR,EA2DiHnK,EAAMmK,YA1D9IuB,EAAiBvB,GAAc4B,EAAe5B,IAAawB,QAAQ,IA0DjE,0BAMJ,KAGJ,0BAASxS,UAAU,kDAAkD6F,MAAQgB,EAAM+J,iBAAmB,CAACnC,QAAS,QAAU,CAACA,QAAS,QAApI,UAEE,wBACEzO,UAAU,sCACVO,QAAUyP,EAFZ,kBAMA,gCACE,wBACEhQ,UAAY6G,EAAMmK,WAAWjJ,OAAS,uCAAyC,iDAC/ExH,QAAUsG,EAAMmK,WAAWjJ,OAAS0D,EAAqB,KACzD7F,YAAWiB,EAAMgK,oBAAqBhK,EAAMiK,sBAH9C,oBAOA,wBACE9Q,UAAU,qCACVO,QAAU6C,EACVwC,YAAWiB,EAAMgK,oBAAqBhK,EAAMiK,sBAH9C,uBAUFjK,EAAMgK,kBACJ,cAACtG,EAAD,CACE3G,KAAK,YACLR,gBAAkBA,EAClBM,KAAM,CACJM,OAAQ6C,EAAMoK,SAASjN,OACvBK,KAAMwC,EAAMoK,SAAS5M,MAEvBqB,QAAUmB,EAAMnB,QAChBF,eAxJa,SAAC5E,GAEtB,IAGMqH,EAAiB,WACrBd,EAAS,CAAEvD,KAAM4C,EAA+BO,QAAS,CAAEpD,IAAK/C,EAAEG,OAAOoE,GAAIjE,MAAO,MACpFiG,EAAS,CAAEvD,KAAM4C,EAAqBO,QAASnG,EAAEG,OAAOoE,MALzC,QAaJ2C,KAAKlH,EAAEG,OAAOG,MAAMN,EAAEG,OAAOG,MAAM6G,OAAS,IAZ1C,UAcFD,KAAKlH,EAAEG,OAAOG,OACvB+G,KAPFd,EAAS,CAAEvD,KAAM4C,EAA+BO,QAAS,CAAEpD,IAAK/C,EAAEG,OAAOoE,GAAIjE,MAAON,EAAEG,OAAOG,SAC7FiG,EAAS,CAAEvD,KAAM4C,EAAuBO,QAASnG,EAAEG,OAAOoE,MAa1D8C,KAgIM/E,mBA9JiB,WACzBiE,EAAS,CAAEvD,KAAM4C,EAA+BO,QAAS,CAAEpD,IAAK,SAAUzC,MAAO,MACjFiG,EAAS,CAAEvD,KAAM4C,EAA+BO,QAAS,CAAEpD,IAAK,OAAQzC,MAAO,OA6JvE+D,kBArGgB,SAACrE,GACzBA,EAAEC,iBACFkO,YAAW,WAAQ5H,EAAS,CAAEvD,KAAM4C,MAAwB,IAC5DW,EAAS,CAAEvD,KAAM4C,KAmGTpB,aAAeyB,EAAMzB,eAEvB,KAEFyB,EAAMiK,qBACJ,cAAClG,EAAD,CACEhH,KAAK,YACL8H,KAAO7E,EAAMmK,WACbzF,eAxGkB,SAACyD,GAC3B7H,EAAS,CAAEvD,KAAM4C,EAAsBO,QAASiI,IAChD7H,EAAS,CAAEvD,KAAM4C,KAuGTiF,mBAAqBA,IAEvB,KAEF5E,EAAMkK,mBACJ,cAACnB,EAAD,CACEhM,KAAK,YACL5C,MAAQV,EAAMuD,KACdoM,YAAc3P,EAAM2P,YACpBE,WAAa7P,EAAM6P,WACnBC,eAAkB9P,EAAM8P,eACxBC,QAAU/P,EAAM+P,QAChBK,eAAiBpQ,EAAMoQ,eACvBV,iBAAmBA,IAErB,QCpqBH,IAAM8C,GAAY,CACvB,CAAE3N,GAAI,EACJtB,KAAM,cACNoM,YAAY,2aAKZE,WAAY,EACZC,eAAgB,oBAChBC,QAAS,CAAC,QAAS,YAAa,QAChCK,eAAgB,6CAGlB,CAAEvL,GAAI,EACJtB,KAAM,WACNoM,YAAY,mvBAOZE,WAAY,EACZC,eAAgB,oBAChBC,QAAS,CAAC,OAAQ,OAAQ,QAC1BK,eAAgB,6CAGlB,CAAEvL,GAAI,EACJtB,KAAM,QACNoM,YAAY,6pBAMZE,WAAY,EACZC,eAAgB,oBAChBC,QAAS,CAAC,OAAQ,QAClBK,eAAgB,6CAGlB,CAAEvL,GAAI,EACJtB,KAAM,UACNoM,YAAY,6RAGZE,WAAY,EACZC,eAAgB,oBAChBC,QAAS,CAAC,aAAc,QACxBK,eAAgB,6CAGlB,CAAEvL,GAAI,EACJtB,KAAM,UACNoM,YAAY,yiBAMZE,WAAY,EACZC,eAAgB,oBAChBC,QAAS,CAAC,QAAS,YAAa,OAAQ,QACxCK,eAAgB,6CAGlB,CAAEvL,GAAI,EACJtB,KAAM,iBACNoM,YAAY,+nBAMZE,WAAY,EACZC,eAAgB,oBAChBC,QAAS,CAAC,YAAa,OAAQ,QAC/BK,eAAgB,6CAGlB,CAAEvL,GAAI,EACJtB,KAAM,gBACNoM,YAAY,4UAIZE,WAAY,EACZC,eAAgB,oBAChBC,QAAS,CAAC,OAAQ,OAAQ,QAC1BK,eAAgB,6CAGlB,CAAEvL,GAAI,EACJtB,KAAM,cACNoM,YAAY,qmBAMZE,WAAY,EACZC,eAAgB,oBAChBC,QAAS,CAAC,SAAU,QACpBK,eAAgB,6CAGlB,CAAEvL,GAAI,EACJtB,KAAM,eACNoM,YAAY,+kBAMZE,WAAY,EACZC,eAAgB,oBAChBC,QAAS,CAAC,UAAW,QACrBK,eAAgB,6CAGlB,CAAEvL,GAAI,EACJtB,KAAM,UACNoM,YAAY,ypBAMZE,WAAY,EACZC,eAAgB,mBAChBC,QAAS,CAAC,OAAQ,QAClBK,eAAgB,8CC7HdhK,I,MAAe,CACnBqM,kBAAkB,EAClBC,mBAAmB,EACnBC,qBAAqB,EACrBC,oBAAoB,EACpBC,aAAc,CACZC,QAAS,GAITC,UAAW,CACTC,YAAa,CAAElP,KAAM,IAAMH,SAAU,IAAKC,KAAM,GAAIC,MAAO,KAC3DoP,aAAc,CAAEC,EAAG,YAAaC,EAAG,eAAgBC,EAAG,QAASC,EAAG,QAASC,EAAG,SAAUC,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAIC,EAAG,IACvHC,cAAe,GAGjB7O,SAAU,CACR8O,kBAAmB,CAAC,EAAG,EAAG,EAAG,EAAG,KAGpCC,kBAAkB,EAClBC,gBAAgB,EAChBC,mBAAmB,IAGf9N,GACoB,yBADpBA,GAEkB,uBAFlBA,GAGW,gBAHXA,GAIoB,yBAJpBA,GAKkB,uBALlBA,GAM+B,oCAN/BA,GAOoC,yCAPpCA,GAQwB,6BARxBA,GASiC,sCATjCA,GAUgC,qCAVhCA,GAWU,eAGD,SAAS+N,GAASjU,GAC/B,IADsC,EA4FZsG,sBA3FV,SAACC,EAAOC,GACtB,OAAQA,EAAOlD,MAEb,KAAK4C,GACH,OAAO,2BAAKK,GAAZ,IAAmBkM,kBAAmBlM,EAAMkM,mBAG9C,KAAKvM,GACH,OAAQM,EAAOC,QAAQpD,KAErB,IAAK,eACH,OAAO,2BAAIkD,GAAX,IACEsM,aAAa,2BAAMtM,EAAMsM,cAAb,IACZE,UAAU,2BAAKxM,EAAMsM,aAAaE,WAAzB,IACTE,aAAa,2BAAK1M,EAAMsM,aAAaE,UAAUE,cAAnC,kBAAkDzM,EAAOC,QAAQ4B,MAAQ7B,EAAOC,QAAQ7F,cAIxG,IAAK,iBACH,OAAO,2BAAI2F,GAAX,IACEsM,aAAa,2BAAMtM,EAAMsM,cAAb,IACZE,UAAU,2BAAKxM,EAAMsM,aAAaE,WAAzB,IACTa,cAAepN,EAAOC,QAAQ7F,YAIlC,QAAS,OAAO,2BAAI2F,GAAX,IACQsM,aAAa,2BAAMtM,EAAMsM,cAAb,IACZE,UAAU,2BAAKxM,EAAMsM,aAAaE,WAAzB,IACTC,YAAY,2BAAKzM,EAAMsM,aAAaE,UAAUC,aAAnC,kBACVxM,EAAOC,QAAQpD,IAAMmD,EAAOC,QAAQ7F,cAI1D,KAAKsF,GACH,IAAIgO,EAAc/P,KAAKC,MAAMC,aAAaC,QAAQ,aAClD,OAAO,2BAAIiC,GAAX,IAAkBsM,aAAcqB,IAGlC,KAAKhO,GACH,OAAO,2BAAKK,GAAZ,IAAmBuN,iBAAkBtN,EAAOC,UAG9C,KAAKP,GACH,OAAO,2BAAKK,GAAZ,IAAmBwN,eAAgBvN,EAAOC,UAG5C,KAAKP,GACH,IAAMiO,EAA2B5N,EAAMsM,aAAa9N,SAAS8O,kBAG7D,OAFAM,EAAyB5P,KAAKiC,EAAOC,SAE9B,2BAAIF,GAAX,IACEsM,aAAa,2BAAMtM,EAAMsM,cAAb,IACZ9N,SAAS,2BAAKwB,EAAMsM,aAAa9N,UAAzB,IACR8O,kBAAmBM,QAIvB,KAAKjO,GACH,IAAMiO,EAA2B5N,EAAMsM,aAAa9N,SAAS8O,kBACvDO,EAA4BD,EAAyBE,QAAQ7N,EAAOC,SAG1E,OAFA0N,EAAyBjH,OAAOkH,EAA2B,GAEpD,2BAAI7N,GAAX,IACEsM,aAAa,2BAAMtM,EAAMsM,cAAb,IACZ9N,SAAS,2BAAKwB,EAAMsM,aAAa9N,UAAzB,IACR8O,kBAAmBM,QAIvB,KAAKjO,GACH,OAAO,2BAAKK,GAAZ,IAAmByN,kBAAmBxN,EAAOC,UAG/C,KAAKP,GACH,OAAO,2BAAKK,GAAZ,IAAmBsM,aAAa,2BAAMtM,EAAMsM,cAAb,IAA2BE,UAAW/S,EAAMsU,YAAYvB,cAGzF,KAAK7M,GAEH,OADAQ,QAAQ6H,IAAIhI,EAAMsM,aAAa9N,SAAS8O,mBACjC,2BAAKtN,GAAZ,IAAmBsM,aAAa,2BAAMtM,EAAMsM,cAAb,IAA2B9N,SAAU/E,EAAMsU,YAAYvP,aAGxF,KAAKmB,GACH,IAAIqO,EAAW/N,EAAOC,QAAQ8N,SAC9B,OAAO,2BAAKhO,GAAZ,kBAAoBgO,EAAW/N,EAAOC,QAAQ7F,QAGhD,QAAS,OAAO8F,QAAQC,MAAR,+BAAsCH,EAAOlD,UAGnB8C,IA5FR,mBA4F/BG,EA5F+B,KA4FxBM,EA5FwB,OAoGI7F,mBAPb,CAC3B,sBAAsB,EACtB,8BAA8B,EAC9B,oBAAoB,EACpB,6BAA6B,IAjGO,mBAoG/BqB,EApG+B,KAoGhBC,EApGgB,KAuGtCN,qBAAU,WACiC,IAArCgB,OAAOC,KAAKoB,cAAcoD,OAC5BZ,EAAS,CAAEvD,KAAM4C,KAEjBsO,MAED,IAGHxS,qBAAU,WACR,IAAMoI,EAAU5G,SAASC,cAAc,SAKvC,OAHA2G,EAAQ7E,MAAMwB,OAAS,yCACvBqD,EAAQ7E,MAAMyB,cAAgB,OAEtB,WACNoD,EAAQ7E,MAAMwB,OAAS,wCACvBqD,EAAQ7E,MAAMyB,cAAgB,UAG/B,IAGHhF,qBAAU,WACR,IAAMyS,EAAiBjR,SAASC,cAAc,WAE1C8C,EAAMuN,kBAAoBvN,EAAMwN,gBAClCU,EAAelP,MAAMwB,OAAS,yCAC9B0N,EAAelP,MAAMyB,cAAgB,SAGrCyN,EAAelP,MAAMwB,OAAS,wCAC9B0N,EAAelP,MAAMyB,cAAgB,UAEtC,CAACT,EAAMuN,iBAAkBvN,EAAMwN,iBA0BlC/R,qBAAU,WACR,IAAM0S,EAAuBrQ,aAAaC,QAAQ,YAC5CqQ,EAAkBxQ,KAAKM,UAAU8B,EAAMsM,cAE3ChM,EADE6N,IAAyBC,EAClB,CAAErR,KAAM4C,GAAoCO,SAAS,GAErD,CAAEnD,KAAM4C,GAAoCO,SAAS,MAE/D,CAAEF,EAAMsM,eAEX7Q,qBAAU,WACR,IAAK,IAAIsH,EAAI,EAAGA,EAAItG,OAAOC,KAAKZ,GAAeoF,OAAQ6B,IAAK,CAC1D,IAAwC,IAApCtG,OAAO4R,OAAOvS,GAAeiH,GAAa,CAC5CzC,EAAS,CAAEvD,KAAM4C,GAAoCO,SAAS,IAC9D,MAGAI,EAAS,CAAEvD,KAAM4C,GAAoCO,SAAS,OAGjE,CAACpE,IAGJ,IAIMwS,EAAqB,WACzB7R,OAAOC,KAAKZ,GAAea,SAAQ,SAAAG,GACjChB,EAAcgB,IAAO,MAInBmR,EAA6B,WACjCnQ,aAAaG,QAAQ,WAAYL,KAAKM,UAAU8B,EAAMsM,gBAGlDiC,EAAiC,WACrCjO,EAAS,CAAEvD,KAAM4C,MAmCb6O,EAAsB,SAACzU,GAC3BA,EAAEC,iBAEE8B,EAAc,uBAChBwE,EAAS,CAAEvD,KAAM4C,GAAgCO,SAAS,IACxDpE,EAAc,+BAChBwE,EAAS,CAAEvD,KAAM4C,KACf7D,EAAc,qBAChBwE,EAAS,CAAEvD,KAAM4C,GAA8BO,SAAS,IACtDpE,EAAc,8BAChBwE,EAAS,CAAEvD,KAAM4C,KAEnBW,EAAS,CAAEvD,KAAM4C,GAAoCO,SAAS,IAC9D+N,IACAK,IACA7U,EAAMuN,gBAGFyH,EAAyB,SAAC1U,GAC9BA,EAAEC,iBACFuU,IACAD,IACA7U,EAAMuN,eAzBNvN,EAAMiV,gBAAgBjV,EAAMkV,eA6BxBC,EAAsB,SAAC7U,GAC3BA,EAAEC,iBACFuU,IACAD,IACA7U,EAAMuN,gBAGF6H,EAAyB,SAAC9U,GAC1BA,EAAEG,OAAO8E,MAAMU,gBACsB,gBAAnC3F,EAAEG,OAAO8E,MAAMU,gBACjBY,EAAS,CAAEvD,KAAM4C,GAA2CO,QAASV,OAAOzF,EAAEG,OAAOoE,GAAGvE,EAAEG,OAAOoE,GAAG4C,OAAS,MAE7GZ,EAAS,CAAEvD,KAAM4C,GAAgDO,QAASV,OAAOzF,EAAEG,OAAOoE,GAAGvE,EAAEG,OAAOoE,GAAG4C,OAAS,MAIjE,gBAA/CnH,EAAEG,OAAO4U,SAAS,GAAG9P,MAAMU,gBAC7BY,EAAS,CAAEvD,KAAM4C,GAA2CO,QAASV,OAAOzF,EAAEG,OAAOoE,GAAGvE,EAAEG,OAAOoE,GAAG4C,OAAS,MAE7GZ,EAAS,CAAEvD,KAAM4C,GAAgDO,QAASV,OAAOzF,EAAEG,OAAOoE,GAAGvE,EAAEG,OAAOoE,GAAG4C,OAAS,OAIlH6N,EAAwB,SAAChV,GAI7BA,EAAEC,iBAEkB,iBAAhBD,EAAEG,OAAOoE,IACXgC,EAAS,CAAEvD,KAAM4C,GAA8BO,QAAS,CAAEpD,IAAK/C,EAAEG,OAAOoE,GAAIwD,MAAOtC,OAAOzF,EAAEG,OAAO8U,WAAW,YAAY3U,OAAQA,MAAON,EAAEG,OAAOG,SANnI,QASJ4G,KAAKlH,EAAEG,OAAOG,MAAMN,EAAEG,OAAOG,MAAM6G,OAAS,IAR1C,UAUFD,KAAKlH,EAAEG,OAAOG,OACvBiG,EAAS,CAAEvD,KAAM4C,GAA8BO,QAAS,CAAEpD,IAAK/C,EAAEG,OAAOoE,GAAIjE,MAAO,KAEnFiG,EAAS,CAAEvD,KAAM4C,GAA8BO,QAAS,CAAEpD,IAAK/C,EAAEG,OAAOoE,GAAIjE,MAAON,EAAEG,OAAOG,SAI9FiG,EAAS,CAAEvD,KAAM4C,GAA8BO,QAAS,CAAEpD,IAAK/C,EAAEG,OAAOoE,GAAIjE,MAAO,MAErFZ,EAAMuN,gBAGFiI,EAAwB,SAAClV,GAC7BgC,GAAiB,SAAA0D,GAAiB,OAAO,2BAAIA,GAAX,kBAAyB1F,EAAEG,OAAOoE,IAAMxC,EAAc/B,EAAEG,OAAOoE,UAG7F4Q,EAAuB,SAACnV,GAC5BA,EAAEC,iBACFsG,EAAS,CAACvD,KAAM4C,GAAsBO,QAAS,CAAE8N,SAAU,oBAAqB3T,OAAO,KACvFiG,EAAS,CAACvD,KAAM4C,GAAsBO,QAAS,CAAE8N,SAAU,sBAAuB3T,OAAO,KACzFiG,EAAS,CAACvD,KAAM4C,GAAsBO,QAAS,CAAE8N,SAAU,qBAAsB3T,OAAO,KACxFiG,EAAS,CAACvD,KAAM4C,GAAsBO,QAAS,CAAE8N,SAAUjU,EAAEG,OAAOoE,GAAIjE,OAAO,KAC/EkU,IACAD,KAGF,OAAOvN,IAASC,aACd,qCACA,sBAAK7H,UAAU,SAAf,UACE,yBAAQA,UAAU,iBAAlB,UAEE,oBAAIA,UAAU,0BAAd,sBAEA,wBAAQA,UAAU,8BAA8BO,QAAU+U,EAA1D,SAAmF,cAAC,IAAD,MACnF,yBAAQtV,UAAU,yBAAlB,UACE,oBACEA,UAAY6G,EAAMmM,kBACJ,sEACA,+BACd7N,GAAG,oBACH5E,QAAUwV,EALZ,qBASA,oBACE/V,UAAY6G,EAAMoM,oBACJ,0EACA,iCACd9N,GAAG,sBACH5E,QAAUwV,EALZ,uBASA,oBACE/V,UAAY6G,EAAMqM,mBACJ,wEACA,gCACd/N,GAAG,qBACH5E,QAAUwV,EALZ,4BAYJ,uBAAM/V,UAAU,eAAhB,UACI6G,EAAMmM,mBACN,uBAAMhT,UAAU,iCAAiCgF,SAAWqQ,EAA5D,UAEE,wBACErV,UAAY6G,EAAMyN,kBACJ,6BACA,kEACd1Q,KAAK,SACLiC,MAAO,CAAEC,OAAQ,IACjBF,UAAWiB,EAAMyN,kBANnB,SAMsD,cAAC,IAAD,MAGtD,yBAAStU,UAAU,oDAAnB,SACE,oBAAIA,UAAU,+BAAd,uBAGF,0BAASA,UAAU,iBAAnB,UAEE,wBACIA,UACE6G,EAAMyN,kBACJ,kCACA,4EAEJ1Q,KAAK,SACLrD,QAAUkV,EACV7P,UAAWiB,EAAMyN,kBARrB,mBAYA,gCACE,wBACEtU,UAAU,mCACV4D,KAAK,SACLrD,QAAU+U,EAHZ,oBAOA,wBACEtV,UACE6G,EAAMyN,kBACJ,iCACA,0EAEJ1Q,KAAK,SACLuB,GAAG,eACHjE,MAAM,OACN0E,UAAWiB,EAAMyN,kBATnB,2BAkBNzN,EAAMoM,qBACN,uBAAMjT,UAAU,iCAAiCgF,SAAWqQ,EAA5D,UAEE,wBACErV,UAAY6G,EAAMyN,kBACJ,6BACA,kEACd1Q,KAAK,SACLiC,MAAO,CAAEC,OAAQ,IACjBF,UAAWiB,EAAMyN,kBANnB,SAMsD,cAAC,IAAD,MAGtD,0BAAStU,UAAU,oDAAnB,UACE,oBAAIA,UAAU,+BAAd,0BAEA,sBAAKA,UAAU,2BAAf,UACE,uBAAOA,UAAU,kCAAkCkF,QAAQ,WAA3D,sBACA,uBACElF,UAAU,kCACV4D,KAAK,OACLuB,GAAG,WACHjE,MAAQ2F,EAAMsM,aAAaE,UAAUC,YAAYrP,SACjDsB,SAAWqQ,EAEXjQ,UAAU,MAEZ,sBAAM3F,UAAU,iCAAhB,kBAGF,sBAAKA,UAAU,2BAAf,UACE,uBAAOA,UAAU,kCAAkCkF,QAAQ,OAA3D,kBACA,uBACElF,UAAU,kCACV4D,KAAK,OACLuB,GAAG,OACHjE,MAAQ2F,EAAMsM,aAAaE,UAAUC,YAAYpP,KACjDqB,SAAWqQ,EAEXjQ,UAAU,MAEZ,sBAAM3F,UAAU,iCAAhB,kBAGF,sBAAKA,UAAU,2BAAf,UACE,uBAAOA,UAAU,kCAAkCkF,QAAQ,QAA3D,2BACA,uBACElF,UAAU,kCACV4D,KAAK,OACLuB,GAAG,QACHjE,MAAQ2F,EAAMsM,aAAaE,UAAUC,YAAYnP,MACjDoB,SAAWqQ,EAEXjQ,UAAU,MAEZ,sBAAM3F,UAAU,iCAAhB,kBAGF,sBAAKA,UAAU,2BAAf,UACE,uBAAOA,UAAU,kCAAkCkF,QAAQ,OAA3D,sBACA,uBACElF,UAAU,kCACV4D,KAAK,OACLuB,GAAG,OACHjE,MAAQ2F,EAAMsM,aAAaE,UAAUC,YAAYlP,KACjDmB,SAAWqQ,EAEXjQ,UAAU,MAEZ,sBAAM3F,UAAU,iCAAhB,wBAIJ,0BAASA,UAAU,oDAAnB,UACE,oBAAIA,UAAU,+BAAd,mBAEA,sBAAKA,UAAU,2BAAf,UACE,uBAAOA,UAAU,kCAAkCkF,QAAQ,iBAA3D,6BACA,uBACElF,UAAU,kCACV4D,KAAK,OACLuB,GAAG,iBACHjE,MAAQ2F,EAAMsM,aAAaE,UAAUa,cACrC3O,SAAWqQ,EAEXjQ,UAAU,MAEZ,sBAAM3F,UAAU,iCAAhB,sBAGAsD,OAAO4R,OAAOrO,EAAMsM,aAAaE,UAAUE,cAAcjJ,KAAI,SAAC2D,EAAMtF,GACpE,OAAI9B,EAAMsM,aAAaE,UAAUa,cAAgBvL,EAE7C,sBAAmB3I,UAAU,2BAA7B,UACE,uBAAOA,UAAU,kCAAkCkF,QAAQ,eAA3D,+BAA2FyD,EAAQ,EAAnG,WACA,uBACE3I,UAAU,kCACVgW,WAAWrN,EACX/E,KAAK,OACLuB,GAAG,eACHjE,MAAQ2F,EAAMsM,aAAaE,UAAUE,aAAa5K,GAClDpD,SAAWqQ,EACXK,UAAQ,MATDtN,GAiBX,WAMR,0BAAS3I,UAAU,oDAAnB,UACE,oBAAIA,UAAU,+BAAd,qBAEA,sBAAKA,UAAU,2BAAf,UACE,uBAAOA,UAAU,4EAA4EkF,QAAQ,mBAArG,gCACA,wBACElF,UAAU,qCACVmF,GAAG,qBACHvB,KAAK,SACLrD,QAAUuV,EAJZ,SAKE,qBACE9V,UAAU,iDACVmF,GAAG,qBACHU,MAAQlD,EAAc,sBAAwB,CAAC4D,gBAAiB,WAAa,CAACA,gBAAiB,sBAKrG,sBAAKvG,UAAU,2BAAf,UACE,uBAAOA,UAAU,4EAA4EkF,QAAQ,kCAArG,iDACA,wBACElF,UAAU,qCACVmF,GAAG,6BACHvB,KAAK,SACLrD,QAAUuV,EAJZ,SAKE,qBACE9V,UAAU,iDACVmF,GAAG,6BACHU,MAAQlD,EAAc,8BAAgC,CAAC4D,gBAAiB,WAAa,CAACA,gBAAiB,yBAO/G,0BAASvG,UAAU,iBAAnB,UAEE,wBACIA,UACE6G,EAAMyN,kBACJ,kCACA,4EAEJ1Q,KAAK,SACLrD,QAAUkV,EACV7P,UAAWiB,EAAMyN,kBARrB,mBAYA,gCACE,wBACEtU,UAAU,mCACV4D,KAAK,SACLrD,QAAU+U,EAHZ,oBAOA,wBACEtV,UACE6G,EAAMyN,kBACJ,iCACA,0EAEJ1Q,KAAK,SACLuB,GAAG,eACHjE,MAAM,OACN0E,UAAWiB,EAAMyN,kBATnB,2BAkBNzN,EAAMqM,oBACN,uBAAMlT,UAAU,iCAAiCgF,SAAWqQ,EAA5D,UAEE,wBACErV,UAAY6G,EAAMyN,kBACJ,6BACA,kEACd1Q,KAAK,SACLiC,MAAO,CAAEC,OAAQ,IACjBF,UAAWiB,EAAMyN,kBANnB,SAMsD,cAAC,IAAD,MAGtD,0BAAStU,UAAU,oDAAnB,UAEE,oBAAIA,UAAU,+BAAd,uBAEE8S,GAAUxI,KAAI,SAAA4L,GACZ,OACE,sBAAyBlW,UAAU,2BAAnC,UACE,uBAAOA,UAAU,4EAA4EkF,QAAS,WAAYgR,EAAS/Q,GAA3H,SAAkI+Q,EAASrS,OAC3I,wBACE7D,UAAU,qCACVmF,GAAI,WAAY+Q,EAAS/Q,GACzBvB,KAAK,SACLrD,QAAUmV,EAJZ,SAKE,qBACE1V,UAAU,iDACVmF,GAAI,WAAY+Q,EAAS/Q,GACzBU,MAAQgB,EAAMsM,aAAa9N,SAAS8O,kBAAkBtL,SAASqN,EAAS/Q,IAAM,CAACoB,gBAAiB,WAAa,CAACA,gBAAiB,qBAV1H2P,EAAS/Q,UAmB5B,0BAASnF,UAAU,oDAAnB,UACE,oBAAIA,UAAU,+BAAd,qBAEA,sBAAKA,UAAU,2BAAf,UACE,uBAAOA,UAAU,4EAA4EkF,QAAQ,mBAArG,8BACA,wBACElF,UAAU,qCACVmF,GAAG,mBACHvB,KAAK,SACLrD,QAAUuV,EAJZ,SAKE,qBACE9V,UAAU,iDACVmF,GAAG,mBACHU,MAAQlD,EAAc,oBAAsB,CAAC4D,gBAAiB,WAAa,CAACA,gBAAiB,sBAKnG,sBAAKvG,UAAU,2BAAf,UACE,uBAAOA,UAAU,4EAA4EkF,QAAQ,4BAArG,gDACA,wBACElF,UAAU,qCACVmF,GAAG,4BACHvB,KAAK,SACLrD,QAAUuV,EAJZ,SAKE,qBACE9V,UAAU,iDACVmF,GAAG,4BACHU,MAAQlD,EAAc,6BAA+B,CAAC4D,gBAAiB,WAAa,CAACA,gBAAiB,yBAO9G,0BAASvG,UAAU,iBAAnB,UAEE,wBACIA,UACE6G,EAAMyN,kBACJ,kCACA,4EAEJ1Q,KAAK,SACLrD,QAAUkV,EACV7P,UAAWiB,EAAMyN,kBARrB,mBAYA,gCACE,wBACEtU,UAAU,mCACV4D,KAAK,SACLrD,QAAU+U,EAHZ,oBAOA,wBACEtV,UACE6G,EAAMyN,kBACJ,iCACA,0EAEJ1Q,KAAK,SACLuB,GAAG,eACHjE,MAAM,OACN0E,UAAWiB,EAAMyN,kBATnB,iCAoBVzN,EAAMwN,gBACN,0BAASrU,UAAU,uBAAnB,UACE,wBAAQA,UAAU,iBAAlB,SACE,oBAAIA,UAAU,0BAAd,0BAGF,sBAAMA,UAAU,eAAhB,SACE,oBAAIA,UAAU,wBAAd,0DAGF,0BAASA,UAAU,iBAAnB,UACE,wBAAQA,UAAU,mCAAmCO,QA1fhC,WAC3B4G,EAAS,CAAEvD,KAAM4C,GAA8BO,SAAS,KAyflD,oBACA,wBAAQ/G,UAAU,iCAAiCO,QArgB7B,WAC5B4G,EAAS,CAAEvD,KAAM4C,GAA8BO,SAAS,IAExDzD,OAAOC,KAAKoB,cAAcnB,SAAQ,SAAAG,GACpBc,KAAKC,MAAMC,aAAaC,QAAQjB,IAClCuN,YAAc,GACtBvM,aAAa8I,WAAW9J,OA+ftB,0BAKJkD,EAAMuN,kBACN,0BAASpU,UAAU,uBAAnB,UACE,wBAAQA,UAAU,iBAAlB,SACE,oBAAIA,UAAU,0BAAd,0BAGF,sBAAMA,UAAU,eAAhB,SACE,oBAAIA,UAAU,wBAAd,4DAGF,0BAASA,UAAU,iBAAnB,UACE,wBAAQA,UAAU,mCAAmCO,QAzhB9B,WAC7B4G,EAAS,CAAEvD,KAAM4C,GAAgCO,SAAS,KAwhBpD,oBACA,wBAAQ/G,UAAU,iCAAiCO,QApiB3B,WAC9B4G,EAAS,CAAEvD,KAAM4C,GAAgCO,SAAS,IAE1DzD,OAAOC,KAAKoB,cAAcnB,SAAQ,SAAAG,GACpBc,KAAKC,MAAMC,aAAaC,QAAQjB,IAClCoJ,QAAU,GAClBpI,aAAa8I,WAAW9J,OA8hBtB,6BAMNG,SAASsE,eAAe,WCryBb,WAA0B,iCCK1B,SAAS+N,GAAT,GAAmD,IAAlCX,EAAiC,EAAjCA,aAAcD,EAAmB,EAAnBA,gBAG5CjT,qBAAU,WACR,IAAMoI,EAAU5G,SAASC,cAAc,SAKvC,OAHA2G,EAAQ7E,MAAMwB,OAAS,yCACvBqD,EAAQ7E,MAAMyB,cAAgB,OAEtB,WACNoD,EAAQ7E,MAAMwB,OAAS,wCACvBqD,EAAQ7E,MAAMyB,cAAgB,UAG/B,IAEH,IAAM8O,EAA2B,SAACxV,GAChCA,EAAEC,iBACF0U,EAAgBC,IAGlB,OAAO5N,IAASC,aACd,sBAAK7H,UAAU,SAAf,UAEE,yBAAQA,UAAU,iBAAlB,UACE,oBAAIA,UAAU,0BAAd,mBACA,wBAAQA,UAAU,8BAA8BO,QAAU6V,EAA1D,SAAqF,cAAC,IAAD,SAGvF,uBAAMpW,UAAU,eAAhB,UACE,0BAASA,UAAU,wBAAnB,UACE,qBAAKA,UAAU,8BAA8BC,IAAMC,GAAOC,IAAI,iBAC9D,qBAAIH,UAAU,sCAAd,iBACE,sBAAMA,UAAU,6CAAhB,uBAGJ,0BAASA,UAAU,wBAAnB,UACE,oBAAIA,UAAU,+BAAd,kBACA,mBAAGA,UAAU,8BAAb,uKAKF,0BAASA,UAAU,wBAAnB,UACE,oBAAIA,UAAU,+BAAd,sBACA,mBAAGA,UAAU,8BAAb,iSAMF,0BAASA,UAAU,wBAAnB,UACE,oBAAIA,UAAU,+BAAd,kBACA,mBAAGA,UAAU,8BAAb,oMAKF,yBAASA,UAAU,wBAAwB6F,MAAO,CAAEwQ,UAAW,QAA/D,SACE,oBAAIrW,UAAU,+BAAd,kDAIJ,0BAASA,UAAU,iBAAnB,UACE,wBACA,wBAAQA,UAAU,iCAAiC4D,KAAK,SAASrD,QAAU6V,EAA3E,wBAIJtS,SAASsE,eAAe,W,UCrEtB1B,GAAe,CACnB4P,gBAAgB,GAGZ9P,GACmB,wBAGV,SAAS+P,GAAT,GAAkE,IAAjDC,EAAgD,EAAhDA,SAAUC,EAAsC,EAAtCA,cAAeC,EAAuB,EAAvBA,oBAAuB,EAUpD9P,sBATV,SAACC,EAAOC,GAEtB,OAAQA,EAAOlD,MACb,KAAK4C,GACH,OAAO,2BAAKK,GAAZ,IAAmByP,gBAAiBzP,EAAMyP,oBAKF5P,IAVgC,mBAUvEG,EAVuE,KAUhEM,EAVgE,KAYxEwP,EAAyB,SAAC/V,GAC9BA,EAAEC,iBACFsG,EAAS,CAAEvD,KAAM4C,MAGboQ,EAAmB,SAAChW,GACxBA,EAAEC,iBACF4V,EAAc,SACdC,KAGIG,EAAkB,SAACjW,GACvBA,EAAEC,iBACF4V,EAAc,UACdC,KAGII,EAAmB,SAAClW,GACxBA,EAAEC,iBACF4V,EAAc,UACdC,KAGIK,EAAe,SAACnW,GACpBA,EAAEC,iBACF6V,KAGF,OACE,mCACEF,EACE,sBAAKxW,UAAU,wBAAf,UACE,yBAAQA,UAAU,iBAAlB,UAEE,oBAAIA,UAAU,0BAAd,sBAEA,wBACEA,UAAU,8BACV4D,KAAK,SACLrD,QAAUsW,EACVhR,MAAO,CAAEC,OAAQ,IAJnB,SAIyB,cAAC,IAAD,MAGzB,wBACE9F,UAAU,6BACV4D,KAAK,SACLrD,QAAUuW,EACVjR,MAAO,CAAEC,OAAQ,IAJnB,SAIyB,cAAC,IAAD,SAM3B,uBAAM9F,UAAU,eAAhB,UAEE,oBAAIA,UAAU,+BAAd,qBACA,mBAAGA,UAAU,wBAAb,kDAIF,0BAASA,UAAU,iBAAnB,UAEE,wBAAQA,UAAU,mCAAmC4D,KAAK,SAASrD,QAAUsW,EAA7E,oBACA,wBAAQ7W,UAAU,iCAAiC4D,KAAK,SAASrD,QAAUuW,EAA3E,2BAKJ,sBAAK9W,UAAU,uBAAf,UACE,yBAAQA,UAAU,iBAAlB,UAEE,oBAAIA,UAAU,0BAAd,SAA0C6G,EAAMyP,eAAiB,UAAY,WAE7E,wBACEtW,UAAU,8BACV4D,KAAK,SACLrD,QAAUwW,EACVlR,MAAO,CAAEC,OAAQ,IAJnB,SAIyB,cAAC,IAAD,MAGzB,wBACE9F,UAAU,6BACV4D,KAAK,SACLrD,QAAUsW,EACVhR,MAAO,CAAEC,OAAQ,IAJnB,SAIyB,cAAC,IAAD,SAKzBe,EAAMyP,eACJ,uBAAMtW,UAAU,eAAhB,UAEE,uBAAMA,UAAU,2BAAhB,UACE,uBAAOA,UAAU,kCAAkCkF,QAAQ,QAA3D,mBACA,uBAAOlF,UAAU,kCAAkC4D,KAAK,OAAOuB,GAAG,QAAQM,YAAY,aAGxF,uBAAMzF,UAAU,2BAAhB,UACE,uBAAOA,UAAU,kCAAkCkF,QAAQ,QAA3D,mBACA,uBAAOlF,UAAU,kCAAkC4D,KAAK,QAAQuB,GAAG,QAAQM,YAAY,aAGzF,uBAAMzF,UAAU,2BAAhB,UACE,uBAAOA,UAAU,kCAAkCkF,QAAQ,WAA3D,sBACA,uBAAOlF,UAAU,kCAAkC4D,KAAK,WAAWuB,GAAG,WAAWM,YAAY,gBAG/F,uBAAMzF,UAAU,2BAAhB,UACE,uBAAOA,UAAU,kCAAkCkF,QAAQ,kBAA3D,8BACA,uBAAOlF,UAAU,kCAAkC4D,KAAK,WAAWuB,GAAG,kBAAkBM,YAAY,gBAGtG,0BAASzF,UAAU,8BAAnB,UACE,uBAAMA,UAAU,oCAAhB,qCACE,mBAAGA,UAAU,0CAA0CO,QAAUoW,EAAyB1V,KAAK,GAA/F,uBAGF,uBAAMjB,UAAU,oCAAhB,gBACE,mBAAGA,UAAU,0CAA0CO,QAAUqW,EAAmB3V,KAAK,GAAzF,mCAMN,uBAAMjB,UAAU,eAAhB,UAEE,uBAAMA,UAAU,2BAAhB,UACE,uBAAOA,UAAU,kCAAkCkF,QAAQ,QAA3D,mBACA,uBAAOlF,UAAU,kCAAkC4D,KAAK,OAAOuB,GAAG,QAAQM,YAAY,aAGxF,uBAAMzF,UAAU,2BAAhB,UACE,uBAAOA,UAAU,kCAAkCkF,QAAQ,WAA3D,sBACA,uBAAOlF,UAAU,kCAAkC4D,KAAK,WAAWuB,GAAG,WAAWM,YAAY,aAC7F,mBAAGzF,UAAU,iCAAiCiB,KAAK,GAAnD,sCAGF,0BAASjB,UAAU,8BAAnB,UACE,uBAAMA,UAAU,oCAAhB,oCACE,mBAAGA,UAAU,0CAA0CO,QAAUoW,EAAyB1V,KAAK,GAA/F,wBAGF,uBAAMjB,UAAU,oCAAhB,gBACE,mBAAGA,UAAU,0CAA0CO,QAAUqW,EAAmB3V,KAAK,GAAzF,mCAOV,0BAASjB,UAAU,iBAAnB,UACE,wBAAQA,UAAU,mCAAmC4D,KAAK,SAASrD,QAAUwW,EAA7E,oBACA,wBAAQ/W,UAAU,iCAAiC4D,KAAK,SAASrD,QAAUsW,EAA3E,SAA+FhQ,EAAMyP,eAAiB,UAAY,mB,UC1JxI9P,GAC8B,mCAD9BA,GAE8B,mCAF9BA,GAGe,oBAHfA,GAIS,cAJTA,GAKe,oBALfA,GAMW,gBANXA,GAOc,mBAPdA,GAQa,kBARbA,GASoB,yBAMpBwQ,GAAgC,SAACC,EAAaC,GAClD,OAAI7Q,OAAO8Q,MAAOjP,KAAKC,MAAM8O,EAAcC,EAAY,MAC9C,EAEDhP,KAAKC,MAAM8O,EAAcC,EAAY,MAa/C,SAASE,KAEP,IAqFM1Q,EAAe,CACnBsG,QAAS,CAAEC,MAAO,EAAGC,QAAS,EAAGC,OAAQ,GACzCkK,UAAW,YACXC,kBAAmB,YACnBC,uBAAuB,EACvBC,qBAAqB,EACrBC,wBAAwB,EACxBC,sBAAsB,EACtBC,gBAAgB,EAChBC,WAAY,SACZC,wBAAyB,GACzBC,wBAAyB,CAAE1T,KAAM,EAAGH,SAAU,EAAGC,KAAM,EAAGC,MAAO,GACjE4T,WAAY,CACV3T,KAAM,CAAE4T,MAAO,EAAGxJ,KAAM,EAAGyJ,IAAK,EAAG7I,QAAS,GAC5CnL,SAAU,CAAE+T,MAAO,EAAGxJ,KAAM,EAAGyJ,IAAK,EAAG7I,QAAS,GAChDlL,KAAM,CAAE8T,MAAO,EAAGxJ,KAAM,EAAGyJ,IAAK,EAAG7I,QAAS,GAC5CjL,MAAO,CAAE6T,MAAO,EAAGxJ,KAAM,EAAGyJ,IAAK,EAAG7I,QAAS,IAG/C+D,aAAc,CACZ+E,KAAM,GAIN7E,UAAW,CACTC,YAAa,CAAElP,KAAM,IAAMH,SAAU,IAAKC,KAAM,GAAIC,MAAO,KAC3DoP,aAAc,CAAEC,EAAG,YAAaC,EAAG,eAAgBC,EAAG,QAASC,EAAG,QAASC,EAAG,SAAUC,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAIC,EAAG,IACvHC,cAAe,GAGjB7O,SAAU,CACR8O,kBAAmB,CAAC,EAAG,EAAG,EAAG,EAAG,KAGpCC,kBAAkB,EAClBC,gBAAgB,EAChBC,mBAAmB,GA3HR,EA8Ha1N,sBA5HV,SAACC,EAAOC,GACtB,OAAQA,EAAOlD,MAEb,KAAK4C,GACH,IAAM2R,EAA0B,YAAOtR,EAAMgR,yBAQ7C,OANAM,EAA2BrR,EAAOC,QAAQgG,QAAU,CACE9I,SAAU6C,EAAOC,QAAQrD,KAAKO,SAC9BC,KAAM4C,EAAOC,QAAQrD,KAAKQ,KAC1BC,MAAO2C,EAAOC,QAAQrD,KAAKS,MAC3BC,KAAM0C,EAAOC,QAAQrD,KAAKU,MAEzE,2BAAIyC,GAAX,IAAkBgR,wBAAyBM,IAG7C,KAAK3R,GACH,IAAI4R,EAAsB,CAAEnU,SAAU,EAAGC,KAAM,EAAGC,MAAO,EAAGC,KAAM,GAC9DiU,EAAsB,CAAEpU,SAAU,EAAGC,KAAM,EAAGC,MAAO,EAAGC,KAAM,GAqBlE,OAnBAyC,EAAMgR,wBAAwBrU,SAAQ,SAAAyK,GACpCoK,EAAsB,CACEpU,SAAUgK,EAAKhK,SACfC,KAAU+J,EAAK/J,KACfC,MAAU8J,EAAK9J,MACfC,KAAU6J,EAAK7J,MAEvCgU,EAAsB,CACEnU,SAAUmU,EAAoBnU,SAAWoU,EAAoBpU,SAC7DC,KAAUkU,EAAoBlU,KAAWmU,EAAoBnU,KAC7DC,MAAUiU,EAAoBjU,MAAWkU,EAAoBlU,MAC7DC,KAAUgU,EAAoBhU,KAAWiU,EAAoBjU,MAErFiU,EAAsB,CAAEpU,SAAU,EACVC,KAAM,EACNC,MAAO,EACPmU,MAAO,MAG1B,2BAAIzR,GAAX,IAAkBiR,wBAAyBM,IAG7C,KAAK5R,GACH,IAAMkH,EAAa5G,EAAOC,QAAQwR,iBAElC,OAAO,2BAAI1R,GAAX,IAAkBkR,WAAW,2BAAKlR,EAAMkR,YAAZ,kBACzBrK,EAAa,CACZsK,MAAOnR,EAAMiR,wBAAwBpK,GACrCc,MA3DyByI,EA2DSpQ,EAAMiR,wBAAwBpK,GA3D1BwJ,EA2DuCrQ,EAAMsM,aAAaE,UAAUC,YAAY5F,GA1D5HuJ,GAAeC,EACV,EAEAA,EAAYD,GAwDXgB,IAAKpR,EAAMsM,aAAaE,UAAUC,YAAY5F,GAC9C0B,QAAS4H,GAA8BnQ,EAAMiR,wBAAwBpK,GAAa7G,EAAMsM,aAAaE,UAAUC,YAAY5F,SAKjI,KAAKlH,GACH,OAAO,2BAAIK,GAAX,IAAkBmG,QAAS,CAAEC,MAAOnG,EAAOC,QAAQvF,WACtB0L,QAASpG,EAAOC,QAAQpF,aACxBwL,OAAQrG,EAAOC,QAAQjF,eAGtD,KAAK0E,GACH,OAAO,2BAAIK,GAAX,IAAkByQ,kBAAmBzQ,EAAMwQ,UAAWA,UAAWvQ,EAAOC,UAG1E,KAAKP,GACH,IAAIgO,EAAc/P,KAAKC,MAAMC,aAAaC,QAAQ,aAClD,OAAO,2BAAIiC,GAAX,IAAkBsM,aAAcqB,IAGlC,KAAKhO,GACH,OAAO,2BAAIK,GAAX,IAAkB0Q,sBAAuBzQ,EAAOC,UAGlD,KAAKP,GACH,OAAO,2BAAIK,GAAX,IAAkB+Q,WAAY9Q,EAAOC,UAGvC,KAAKP,GACH,OAAO,2BAAIK,GAAX,IAAkB8Q,gBAAiB9Q,EAAM8Q,iBAG3C,QAAS,OAAO3Q,QAAQC,MAAR,+BAAsCH,EAAOlD,OA7F/B,IAACqT,EAAaC,IAwIFxQ,GA9HjC,mBA8HNG,EA9HM,KA8HCM,EA9HD,KAgIPqR,EAAkB,CAAC3R,EAAM+Q,WAAY,YAAa,WAAY,WAAY,SAEhFtV,qBAAU,WAAQuL,MAAkB,CAAEhH,EAAMmG,UAG5C1K,qBAAU,WAEJqC,aAAaC,QAAQ,YACvBuC,EAAS,CAAEvD,KAAM4C,KAEjBsO,IAEFjH,MACC,IAEHvL,qBAAU,WACR,IAAMoI,EAAU5G,SAASC,cAAc,YACnC8C,EAAM0Q,uBACR7M,EAAQ7E,MAAMwB,OAAS,yCACvBqD,EAAQ7E,MAAMyB,cAAgB,SAI9BoD,EAAQ7E,MAAMwB,OAAS,wCACvBqD,EAAQ7E,MAAMyB,cAAgB,UAG/B,CAACT,EAAM0Q,wBAEVjV,qBAAU,WACR,IAAMmW,EAAO3U,SAASC,cAAc,iCAChC8C,EAAM8Q,eACRc,EAAK5S,MAAM4I,QAAU,OAGrBgK,EAAK5S,MAAM4I,QAAU,SAGtB,CAAC5H,EAAM8Q,iBAEV,IAAMe,EAAoB,SAACtK,EAAQrB,GACjC5F,EAAS,CAAEvD,KAAM4C,GAA0CO,QAAS,CAACrD,KAAM0K,EAAQrB,OAAQA,KAC3F4L,KAGIA,EAAqB,WACzBxR,EAAS,CAAEvD,KAAM4C,KACjBqH,KAGIA,EAAe,WACnBvK,OAAOC,KAAKsD,EAAMsM,aAAaE,UAAUC,aAAa9P,SAAQ,SAAAkK,GAC5DvG,EAAS,CAAEvD,KAAM4C,GAA2BO,QAAS,CAAEwR,iBAAkB7K,SAQvE6H,EAAkB,SAACqD,GAQvBzR,EAAS,CAACvD,KAAM4C,GAA2BO,QALrB,cAAlB6R,EACa,YAEAA,IAGjBzR,EAAS,CAAEvD,KAAM4C,KACjBqH,KAGIgL,EAAa,SAACD,GACdA,IAAkB/R,EAAM+Q,WAC1BzQ,EAAS,CAAEvD,KAAM4C,GAA0BO,SAAS,IAIpDwO,EAAgBqD,GAGdtK,OAAOC,WAAa,KACtBpH,EAAS,CAAEvD,KAAM4C,MAIfsO,EAA6B,WACjCnQ,aAAaG,QAAQ,WAAYL,KAAKM,UAAU8B,EAAMsM,gBAexD,OACE,qCAEEtM,EAAM0Q,uBACF,cAAChB,GAAD,CACEE,cAbY,SAACqC,GACrB3R,EAAS,CAAEvD,KAAM4C,GAAyBO,QAAS+R,KAa3CpC,oBAlBkB,WAC1BvP,EAAS,CAAEvD,KAAM4C,GAA0BO,SAAS,KAkB5CyP,SAAgC,WAArB3P,EAAM+Q,aAIzB,sBAAK5X,UAAU,UAAf,UAEE,wBAAOA,UAAU,eAAjB,UAEE,yBAAQA,UAAU,+BAAlB,UACE,cAACD,EAAD,IACA,cAACK,EAAD,OAGF,cAACC,EAAD,CAAWG,gBAxBO,WACtB2G,EAAS,CAAEvD,KAAM4C,QAyBb,oBAAIxG,UAAU,+BAAd,SAEIwY,EAAgBlO,KAAI,SAACuK,EAAUlM,GAC7B,OAAO,cAACjI,EAAD,CAAwBQ,MAAQ2T,EAAW5T,KAAK,GAAGN,UAAW,EAAQG,OAAS+X,GAA/DlQ,QAM7B,oBAAI3I,UAAU,oCAAd,SACE,cAACS,EAAD,SAMJ,uBAAMT,UAAU,iBAAhB,UAEE,0BAASA,UAAU,sBAAnB,UAEE,oBAAIA,UAAU,6BAAd,SAA6C6G,EAAMwQ,aAE3B,cAApBxQ,EAAMwQ,WAAmD,aAApBxQ,EAAMwQ,YAC7C,cAAClW,EAAD,CAAaoB,WA5FD,SAACwW,GACrB5R,EAAS,CAACvD,KAAM4C,GAAqBO,QAASgS,UAiG1C,0BAAS/Y,UAAU,uBAAnB,UAEsB,aAApB6G,EAAMwQ,WAENxQ,EAAMsM,aAAa9N,SAAS8O,kBAAkB7J,KAAI,SAAA0O,GAChD,OACE,cAACrI,GAAD,CAEEO,WAAa8H,EACbhM,QAAUnG,EAAMmG,QAChBnJ,KAAOiP,GAAUkG,GAAoBnV,KACrCsM,WAAa2C,GAAUkG,GAAoB7I,WAC3CF,YAAc6C,GAAUkG,GAAoB/I,YAC5CI,QAAUyC,GAAUkG,GAAoB3I,QACxCD,eAAiB0C,GAAUkG,GAAoB5I,eAC/CM,eAAiBoC,GAAUkG,GAAoBtI,gBARzCsI,MAaQ,cAApBnS,EAAMwQ,WAEN/T,OAAO4R,OAAOrO,EAAMsM,aAAaE,UAAUE,cAAcjJ,KAAI,SAAC2D,EAAMtF,GAClE,GAAI9B,EAAMsM,aAAaE,UAAUa,cAAgBvL,EAC/C,OAAO,cAAC+D,EAAD,CAAoB7I,KAAOoK,EAAOlB,OAASpE,EAAQqE,QAAUnG,EAAMmG,QAAUa,aAAe6K,GAAhF/P,MAKH,aAApB9B,EAAMwQ,WAEN,mCACA,cAAC9C,GAAD,CACEK,YAAclO,EAAayM,aAC3BtF,aAAeA,EACfwJ,UAAYxQ,EAAMwQ,UAClB7B,aAAe3O,EAAMyQ,kBACrB/B,gBAAkBA,MAKA,UAApB1O,EAAMwQ,WAEN,cAAClB,GAAD,CAAOX,aAAe3O,EAAMyQ,kBAAoB/B,gBAAkBA,UAUtE,wBAAOvV,UAAU,gBAAjB,UAEE,cAACkP,EAAD,CACES,OAAS9I,EAAMkR,WAAW3T,KAAK4T,MAC/BnU,KAAK,OACLuL,QAAUvI,EAAMkR,WAAW3T,KAAKgL,QAChCZ,KAAO3H,EAAMkR,WAAW3T,KAAKoK,KAC7BW,QAAQ,IAEV,cAACD,EAAD,CACES,OAAS9I,EAAMkR,WAAW9T,SAAS+T,MACnCnU,KAAK,WACLuL,QAAUvI,EAAMkR,WAAW9T,SAASmL,QACpCZ,KAAO3H,EAAMkR,WAAW9T,SAASuK,OAEnC,cAACU,EAAD,CACES,OAAS9I,EAAMkR,WAAW7T,KAAK8T,MAC/BnU,KAAK,OACLuL,QAAUvI,EAAMkR,WAAW7T,KAAKkL,QAChCZ,KAAO3H,EAAMkR,WAAW7T,KAAKsK,OAE/B,cAACU,EAAD,CACES,OAAS9I,EAAMkR,WAAW5T,MAAM6T,MAChCnU,KAAK,gBACLuL,QAAUvI,EAAMkR,WAAW5T,MAAMiL,QACjCZ,KAAO3H,EAAMkR,WAAW5T,MAAMqK,gBAaxC5G,IAASqR,OAAO,cAAC7B,GAAD,IAAStT,SAASC,cAAc,Y","file":"static/js/main.353f6ead.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.92f8fff8.png\";","// IMPORTS\r\n\r\nimport React from 'react';\r\nimport './styles/left.css';\r\nimport logo from './styles/logo.png';\r\n\r\n\r\n// COMPONENTS\r\n\r\nexport function Logo() {\r\n\r\n  return (\r\n    <img className=\"left-section__logo-container__logo\" src={logo} alt=\"Dietapp logo\" />\r\n  )\r\n}\r\n\r\nexport function Title() {\r\n  \r\n  return (\r\n    <h1 className=\"left-section__logo-container__title\">Diet\r\n      <span className=\"left-section__logo-container__title__right\">app</span>\r\n    </h1>\r\n  )\r\n}\r\n\r\nexport function Hamburger(props) {\r\n  return (\r\n    <button className=\"left-section__hamburger\" onClick={ props.handleHamburger }>\r\n      <span className=\"left-section__hamburger__line\"></span>\r\n      <span className=\"left-section__hamburger__line\"></span>\r\n      <span className=\"left-section__hamburger__line\"></span>\r\n    </button>\r\n  )\r\n}\r\n\r\nexport function Quotation() {\r\n\r\n  return (\r\n    <>\r\n      <span className=\"left-section__quotation-container__top\">Be healthy,</span>\r\n      <span className=\"left-section__quotation-container__bottom\">be happy!</span>\r\n    </>\r\n  )\r\n}\r\n\r\nexport function MenuItem(props) {\r\n  const handleClick = (e) => {\r\n    e.preventDefault();\r\n    props.linkTo(e.target.title);\r\n  }\r\n\r\n  return (\r\n    <li className=\"left-section__menu-container__list-item\">\r\n        <a \r\n          className={ props.isActive \r\n                      ? \"left-section__menu-container__list-item__content left-section__menu-container__list-item__content--active\" \r\n                      : \"left-section__menu-container__list-item__content\" }\r\n          onClick={ handleClick }\r\n          href={ props.href }\r\n          title={ props.value }>{ props.value }</a>\r\n    </li>\r\n  )\r\n}","// IMPORTS\r\n\r\nimport { React, useState, useEffect } from 'react';\r\nimport './styles/center.css';\r\nimport { FaChevronCircleLeft, FaChevronCircleRight } from 'react-icons/fa';\r\n\r\n\r\n// COMPONENTS\r\n\r\nexport default function DateChanger(props) {\r\n  const initialDate = new Date();\r\n  const [currentDay, setCurrentDay] = useState(initialDate.getDate());\r\n  const [currentMonth, setCurrentMonth] = useState(initialDate.getMonth() + 1);\r\n  const [currentYear, setCurrentYear] = useState(initialDate.getFullYear());\r\n\r\n  const translateMonth = () => {\r\n    switch(currentMonth) {\r\n      case 1: return 'January';\r\n      case 2: return 'February';\r\n      case 3: return 'March';\r\n      case 4: return 'April';\r\n      case 5: return 'May';\r\n      case 6: return 'June';\r\n      case 7: return 'July';\r\n      case 8: return 'August';\r\n      case 9: return 'September';\r\n      case 10: return 'October';\r\n      case 11: return 'November';\r\n      case 12: return 'December';\r\n    }\r\n  }\r\n\r\n  const isLeapYear = () => {\r\n    if (((currentYear % 4 === 0) && (currentYear % 100 !== 0)) || currentYear % 400 === 0)\r\n       return true;\r\n    \r\n    else\r\n       return false;\r\n  }\r\n\r\n  const isDayLastInMonth = () => {\r\n    if ((currentDay === 29 && currentMonth === 2 && isLeapYear()) ||\r\n        (currentDay === 28 && currentMonth === 2 && !isLeapYear()) ||\r\n        (currentDay === 30 && ((currentMonth === 4) || \r\n                            (currentMonth === 6) || \r\n                            (currentMonth === 9) ||\r\n                            (currentMonth === 11))) ||\r\n        (currentDay === 31))\r\n      return true;\r\n    \r\n    else\r\n      return false;\r\n  }\r\n\r\n  const isDayLastInDecember = () => {\r\n    if ((currentDay === 31) && (currentMonth === 12))\r\n      return true;\r\n    \r\n    else\r\n      return false;\r\n  }\r\n\r\n  const changeNextDay = () => {\r\n    if(isDayLastInMonth()) {\r\n\r\n      if(isDayLastInDecember()) {\r\n        setCurrentDay(1);\r\n        setCurrentMonth(1);\r\n        setCurrentYear(previousYear => previousYear + 1);\r\n      }\r\n\r\n      else {\r\n        setCurrentDay(1);\r\n        setCurrentMonth(previousMonth => previousMonth + 1);\r\n      }\r\n    }\r\n\r\n    else {\r\n      setCurrentDay(previousDay => previousDay + 1);\r\n    }\r\n  }\r\n\r\n  const handleNextButton = () => {\r\n    changeNextDay();\r\n  }\r\n\r\n\r\n\r\n  const isDayFirstInMonth = () => {\r\n    if(currentDay === 1)\r\n      return true;\r\n    else\r\n      return false;\r\n  }\r\n\r\n  const isDayFirstInJanuary = () => {\r\n    if ((currentDay === 1) && (currentMonth === 1))\r\n      return true;\r\n    \r\n    else\r\n      return false;\r\n  }\r\n\r\n  const isDayFirstInMarch = () => {\r\n    if ((currentDay === 1) && (currentMonth === 3))\r\n      return true;\r\n    \r\n    else\r\n      return false;\r\n  }\r\n\r\n  const isDayFirstIn30DayMonths = () => {\r\n    if ((currentDay === 1) && ((currentMonth === 4) || (currentMonth === 6) || (currentMonth === 8) || (currentMonth === 9) || (currentMonth === 11)))\r\n      return true;\r\n    \r\n    else\r\n      return false;\r\n  }\r\n\r\n  const changePreviousDay = () => {\r\n\r\n    if (isDayFirstInJanuary()) {\r\n      setCurrentDay(31);\r\n      setCurrentMonth(12);\r\n      setCurrentYear(previousYear => previousYear - 1);\r\n    }\r\n\r\n    else if (isDayFirstInMarch()) {\r\n      if(isLeapYear())\r\n        setCurrentDay(29);\r\n      else\r\n        setCurrentDay(28);\r\n      \r\n      setCurrentMonth(2);\r\n    }\r\n\r\n    else if (isDayFirstIn30DayMonths()) {\r\n      setCurrentDay(31);\r\n      setCurrentMonth(previousMonth => previousMonth - 1);\r\n    }\r\n\r\n    else if (isDayFirstInMonth()) {\r\n      setCurrentDay(30);\r\n      setCurrentMonth(previousMonth => previousMonth - 1);\r\n    }\r\n    \r\n    else {\r\n      setCurrentDay(previousDay => previousDay - 1);\r\n    }\r\n  }\r\n\r\n  const handlePreviousButton = () => {\r\n    changePreviousDay();\r\n  }\r\n\r\n\r\n  useEffect(() => { \r\n    props.changeDate({ currentDay, currentMonth, currentYear });\r\n\r\n  }, [currentDay, currentMonth, currentYear]);\r\n\r\n\r\n  return (\r\n    <div className=\"center-section__top__date-changer\">\r\n\r\n      <button \r\n        className=\"center-section__top__date-changer__previous-button\"\r\n        onClick={ handlePreviousButton }>\r\n        <FaChevronCircleLeft />\r\n      </button>\r\n\r\n      <h4 className=\"center-section__top__date-changer__current-date\">{ `${translateMonth()} ${currentDay}` }</h4>\r\n\r\n      <button \r\n        className=\"center-section__top__date-changer__next-button\"\r\n        onClick={ handleNextButton }>\r\n        <FaChevronCircleRight />\r\n      </button>\r\n\r\n    </div>\r\n  )\r\n}","import { React, useState, useEffect } from 'react';\r\nimport './styles/productAddingWindow.css';\r\nimport '../styles/window/window.css';\r\nimport { FaPlusCircle } from 'react-icons/fa';\r\n\r\nexport default function AddingForm(props) {\r\n  const initialOptionsStates = {\r\n    'list-saving': false\r\n  };\r\n\r\n  const [optionsStates, setOptionsStates] = useState(initialOptionsStates);\r\n  const [isFormCompleted, setIsFormCompleted] = useState(false);\r\n  const [isStateEqualToProps, setIsStateEqualToProps] = useState(true);\r\n\r\n\r\n  const handleClearButton = () => {\r\n    setOptionsStates(initialOptionsStates);\r\n    props.handleFormClearing();\r\n    setIsStateEqualToProps(true);\r\n  }\r\n\r\n  const handleCancelButton = () => {\r\n    props.handleAddWindow();\r\n  }\r\n\r\n  const checkIfStateIsEqualToProps = () => {\r\n\r\n    // CHECKING OPTIONS\r\n    Object.keys(optionsStates).forEach(option => {\r\n      setIsStateEqualToProps(true);\r\n      if (optionsStates[option] !== initialOptionsStates[option])\r\n        setIsStateEqualToProps(false);\r\n    });\r\n\r\n    // CHECKING INPUTS\r\n    Object.keys(props.data).forEach(key => {\r\n      if (props.data[key])\r\n        setIsStateEqualToProps(false);\r\n    });\r\n  }\r\n\r\n\r\n  // CHECKING IF FORM IS COMPLETED\r\n  useEffect(() => { \r\n    checkIfFormCompleted();\r\n    checkIfStateIsEqualToProps();\r\n  }, [props, optionsStates]);\r\n\r\n  const checkIfFormCompleted = () => {\r\n    if (props.type === 'nutrition') {\r\n      const name = document.querySelector(\"#name\").value;\r\n      const weight = document.querySelector(\"#weight\").value;\r\n      const proteins = document.querySelector(\"#proteins\").value;\r\n      const fats = document.querySelector(\"#fats\").value;\r\n      const carbs = document.querySelector(\"#carbs\").value;\r\n      const kcal = document.querySelector(\"#kcal\").value;\r\n\r\n      if(name && weight && proteins && fats && carbs && kcal)\r\n        setIsFormCompleted(true);\r\n      else\r\n        setIsFormCompleted(false);\r\n    }\r\n\r\n    else {\r\n      const weight = document.querySelector(\"#weight\").value;\r\n      const reps = document.querySelector(\"#reps\").value;\r\n\r\n      if (weight && reps)\r\n        setIsFormCompleted(true);\r\n      else\r\n        setIsFormCompleted(false);\r\n    }\r\n  }\r\n\r\n  const searchForCheckedOptions = (keysArray) => {\r\n    let checkedOptions = [];\r\n    keysArray.forEach(key => {\r\n      if (optionsStates[key])\r\n        checkedOptions.push(key);\r\n    });\r\n\r\n    return checkedOptions;\r\n  }\r\n\r\n  const handleAddProduct = (e) => {\r\n    props.handleProductAdding(e);\r\n    \r\n    const keys = Object.keys(optionsStates);\r\n\r\n    const checkedOptions = searchForCheckedOptions(keys);\r\n\r\n    checkedOptions.forEach(checkedKey => {\r\n\r\n      switch(checkedKey) {\r\n        case 'list-saving': {\r\n\r\n          const newProduct = {\r\n            id:       Date.now(), \r\n            name:     document.querySelector(\"#name\").value, \r\n            weight:   Number(document.querySelector(\"#weight\").value), \r\n            proteins: Number(document.querySelector(\"#proteins\").value), \r\n            fats:     Number(document.querySelector(\"#fats\").value),\r\n            carbs:    Number(document.querySelector(\"#carbs\").value),\r\n            kcal:     Number(document.querySelector(\"#kcal\").value),\r\n          }\r\n\r\n          saveNewProductToList(newProduct);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  const handleAddSerie = (e) => {\r\n    props.handleSerieAdding(e);\r\n\r\n  }\r\n\r\n  const saveNewProductToList = (newProduct) => {\r\n    const newList =  JSON.parse(localStorage.getItem(\"predefined\"));\r\n    newList.push(newProduct);\r\n    localStorage.setItem(\"predefined\", JSON.stringify(newList));\r\n  }\r\n\r\n  const handleCheckboxOnClick = (e) => {\r\n    setOptionsStates(prevOptions => { return {...prevOptions, [e.target.id]: !optionsStates[e.target.id]} });\r\n  }\r\n\r\n  return (\r\n    <>\r\n    { props.type !== 'nutrition' \r\n      ? <form className=\"window__main window__main--add\" onSubmit={ handleAddSerie }>\r\n\r\n          <section className=\"window__main__section window__main__section--form\">\r\n\r\n            <h3 className=\"window__main__section__title\">Last time</h3>\r\n\r\n            <div className=\"window__main__input-line\">\r\n              <label className=\"window__main__input-line__label\" htmlFor=\"oldWeight\">Weight: </label>\r\n              <p \r\n                className=\"window__main__input-line__input\" \r\n                id=\"oldWeight\">\r\n                { props.type === 'last-training' ? props.lastTimeData.training.weight : props.lastTimeData.serie.weight }\r\n              </p>\r\n              <span className=\"window__main__input-line__unit\">kg</span>\r\n            </div>\r\n\r\n            <div className=\"window__main__input-line\">\r\n              <label className=\"window__main__input-line__label\" htmlFor=\"oldReps\">Reps: </label>\r\n              <p \r\n                className=\"window__main__input-line__input\" \r\n                id=\"oldReps\">\r\n                { props.type === 'last-training' ? props.lastTimeData.training.reps : props.lastTimeData.serie.reps }\r\n              </p>\r\n              <span className=\"window__main__input-line__unit\">reps</span>\r\n            </div>\r\n          \r\n          </section>\r\n\r\n          <section className=\"window__main__section window__main__section--form\">\r\n\r\n            <h3 className=\"window__main__section__title\">New serie</h3>\r\n\r\n            <div className=\"window__main__input-line\">\r\n              <label className=\"window__main__input-line__label\" htmlFor=\"weight\">Weight: </label>\r\n              <input\r\n                className=\"window__main__input-line__input\" \r\n                type=\"text\" \r\n                id=\"weight\"\r\n                value={ props.data.weight } \r\n                onChange={ props.handleOnChange }\r\n                placeholder={ props.warning[1] === 'weight' ? props.warning[0] : null }\r\n                maxLength=\"3\">\r\n              </input>\r\n              <span className=\"window__main__input-line__unit\">kg</span>\r\n            </div>\r\n\r\n            <div className=\"window__main__input-line\">\r\n              <label className=\"window__main__input-line__label\" htmlFor=\"reps\">Reps: </label>\r\n              <input \r\n                className=\"window__main__input-line__input\" \r\n                type=\"text\" \r\n                id=\"reps\"\r\n                value={ props.data.reps } \r\n                onChange={ props.handleOnChange }\r\n                placeholder={ props.warning[1] === 'reps' ? props.warning[0] : null }\r\n                maxLength=\"2\">\r\n              </input>\r\n              <span className=\"window__main__input-line__unit\">reps</span>\r\n            </div>\r\n            \r\n          </section>\r\n\r\n          <button \r\n                className={ isFormCompleted\r\n                            ? \"window__header__add-button\"\r\n                            : \"window__header__add-button window__header__add-button--disabled\" }\r\n                type=\"submit\"\r\n                disabled={ isFormCompleted ? false : true }><FaPlusCircle /></button>\r\n\r\n          <section className=\"window__bottom\">\r\n\r\n            <button \r\n              className={ isStateEqualToProps ? \"window__bottom__tertiary-button window__bottom__tertiary-button--disabled\" : \"window__bottom__tertiary-button\" } \r\n              disabled={ isStateEqualToProps ? true : false }\r\n              type=\"button\" \r\n              onClick={ handleClearButton }>\r\n              Clear</button>\r\n\r\n            <div>\r\n              <button className=\"window__bottom__secondary-button\" type=\"button\" onClick={ handleCancelButton }>Cancel</button>\r\n              <button \r\n                className={ isFormCompleted\r\n                            ? \"window__bottom__primary-button\"\r\n                            : \"window__bottom__primary-button window__bottom__primary-button--disabled\" }\r\n                type=\"submit\"\r\n                disabled={ isFormCompleted ? false : true }>Add</button>\r\n            </div>\r\n\r\n          </section>\r\n\r\n          <button \r\n            className={ isFormCompleted\r\n                        ? \"window__header__add-button\"\r\n                        : \"window__header__add-button window__header__add-button--disabled\" }\r\n            type=\"submit\"\r\n            style={{ zIndex: 11 }}\r\n            disabled={ isFormCompleted ? false : true }><FaPlusCircle />\r\n          </button>\r\n\r\n        </form>\r\n\r\n      : <form className=\"window__main window__main--add\" onSubmit={ handleAddProduct }>\r\n\r\n          <section className=\"window__main__section window__main__section--form\">\r\n\r\n            <h3 className=\"window__main__section__title\">Product info</h3>\r\n            \r\n            <div className=\"window__main__input-line\">\r\n              <label className=\"window__main__input-line__label\" htmlFor=\"name\">Product name: </label>\r\n              <input\r\n                className=\"window__main__input-line__input\"\r\n                type=\"text\"\r\n                id=\"name\"\r\n                value={ props.data.name }\r\n                onChange={ props.handleOnChange }\r\n                placeholder={ props.warning[1] === 'name' ? props.warning[0] : null }\r\n                maxLength=\"32\">\r\n              </input>\r\n            </div>\r\n\r\n            <div className=\"window__main__input-line\">\r\n              <label className=\"window__main__input-line__label\" htmlFor=\"weight\">Product weight: </label>\r\n              <input \r\n                className=\"window__main__input-line__input\"\r\n                type=\"text\"\r\n                id=\"weight\"\r\n                value={ props.data.weight } \r\n                onChange={ props.handleOnChange }\r\n                placeholder={ props.warning[1] === 'weight' ? props.warning[0] : null }\r\n                maxLength=\"4\">\r\n              </input>\r\n              <span className=\"window__main__input-line__unit\">g</span>\r\n            </div>\r\n\r\n\r\n          </section>\r\n\r\n          <section className=\"window__main__section window__main__section--form\">\r\n            \r\n            <h3 className=\"window__main__section__title\">Nutrition facts</h3>\r\n            \r\n            <div className=\"window__main__input-line\">\r\n              <label className=\"window__main__input-line__label\" htmlFor=\"proteins\">Proteins: </label>\r\n              <input \r\n                className=\"window__main__input-line__input\" \r\n                type=\"text\" \r\n                id=\"proteins\"\r\n                value={ props.data.proteins } \r\n                onChange={ props.handleOnChange }\r\n                placeholder={ props.warning[1] === 'proteins' ? props.warning[0] : null }\r\n                maxLength=\"4\">\r\n              </input>\r\n              <span className=\"window__main__input-line__unit\">g</span>\r\n            </div>\r\n\r\n            <div className=\"window__main__input-line\">\r\n              <label className=\"window__main__input-line__label\" htmlFor=\"fats\">Fats: </label>\r\n              <input\r\n                className=\"window__main__input-line__input\"  \r\n                type=\"text\" \r\n                id=\"fats\"\r\n                value={ props.data.fats } \r\n                onChange={ props.handleOnChange }\r\n                placeholder={ props.warning[1] === 'fats' ? props.warning[0] : null }\r\n                maxLength=\"4\">\r\n              </input>\r\n              <span className=\"window__main__input-line__unit\">g</span>\r\n            </div>\r\n\r\n            <div className=\"window__main__input-line\">\r\n              <label className=\"window__main__input-line__label\" htmlFor=\"carbs\">Carbs: </label>\r\n              <input\r\n                className=\"window__main__input-line__input\"  \r\n                type=\"text\" \r\n                id=\"carbs\"\r\n                value={ props.data.carbs } \r\n                onChange={ props.handleOnChange }\r\n                placeholder={ props.warning[1] === 'carbs' ? props.warning[0] : null }\r\n                maxLength=\"4\">\r\n              </input>\r\n              <span className=\"window__main__input-line__unit\">g</span>\r\n            </div>\r\n\r\n            <div className=\"window__main__input-line\">\r\n              <label className=\"window__main__input-line__label\" htmlFor=\"kcal\">Calories: </label>\r\n              <input\r\n                className=\"window__main__input-line__input\"  \r\n                type=\"text\" \r\n                id=\"kcal\"\r\n                value={ props.data.kcal }\r\n                onChange={ props.handleOnChange }\r\n                placeholder={ props.warning[1] === 'kcal' ? props.warning[0] : null }\r\n                maxLength=\"4\">\r\n              </input>\r\n              <span className=\"window__main__input-line__unit\">kcal</span>\r\n            </div>\r\n\r\n\r\n          </section>\r\n\r\n          <section className=\"window__main__section window__main__section--form\">\r\n\r\n            <h3 className=\"window__main__section__title\">Options</h3>\r\n\r\n            <div className=\"window__main__input-line\">\r\n              <label className=\"window__main__input-line__label window__main__input-line__label--checkbox\" htmlFor=\"list-saving\">Save to list</label>\r\n              <button \r\n                className=\"window__main__input-line__checkbox\"\r\n                id=\"list-saving\"\r\n                type=\"button\"\r\n                onClick={ handleCheckboxOnClick }>\r\n                <div \r\n                  className=\"window__main__input-line__checkbox__background\" \r\n                  id=\"list-saving\"\r\n                  style={ optionsStates['list-saving'] ? {backgroundColor: \"#7500AF\"} : {backgroundColor: \"transparent\"} }>\r\n                </div>\r\n              </button>\r\n            </div>\r\n\r\n          </section>\r\n\r\n          <button \r\n            className={ isFormCompleted\r\n                        ? \"window__header__add-button\"\r\n                        : \"window__header__add-button window__header__add-button--disabled\" }\r\n            type=\"submit\"\r\n            style={{ zIndex: 11 }}\r\n            disabled={ isFormCompleted ? false : true }><FaPlusCircle />\r\n          </button>\r\n\r\n          <section className=\"window__bottom\">\r\n\r\n            <button \r\n              className={ isStateEqualToProps ? \"window__bottom__tertiary-button window__bottom__tertiary-button--disabled\" : \"window__bottom__tertiary-button\" } \r\n              disabled={ isStateEqualToProps ? true : false }\r\n              type=\"button\" \r\n              onClick={ handleClearButton }>\r\n              Clear</button>\r\n\r\n            <div>\r\n              <button className=\"window__bottom__secondary-button\" type=\"button\" onClick={ handleCancelButton }>Cancel</button>\r\n              <button \r\n                className={ isFormCompleted\r\n                            ? \"window__bottom__primary-button\"\r\n                            : \"window__bottom__primary-button window__bottom__primary-button--disabled\" }\r\n                type=\"submit\"\r\n                disabled={ isFormCompleted ? false : true }>Add</button>\r\n            </div>\r\n\r\n          </section>\r\n\r\n        </form>\r\n    }\r\n    </>\r\n  )\r\n}","import { React, useReducer, useEffect, useState } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport '../styles/window/window.css';\r\nimport { warnings } from '../meal/Meal';\r\nimport { FaChevronCircleLeft, FaSave } from 'react-icons/fa';\r\n\r\n\r\nconst ACTIONS = {\r\n  UPDATE_PRODUCT_DATA: 'update-product-data',\r\n  RESET_FORM: 'reset-form',\r\n  SET_WARNING: 'set-warning',\r\n  CLEAR_WARNING: 'clear-warning'\r\n}\r\n\r\nexport default function EditForm(props) {\r\n  const [isFormCompleted, setIsFormCompleted] = useState(false);\r\n  const [isStateEqualToProps, setIsStateEqualToProps] = useState(true);\r\n\r\n  const initialState = {\r\n    productData: {\r\n      id: props.data.id,\r\n      name: props.data.name,\r\n      weight: props.data.weight,\r\n      proteins: props.data.proteins,\r\n      fats: props.data.fats,\r\n      carbs: props.data.carbs,\r\n      kcal: props.data.kcal\r\n    },\r\n    warning: ['' ,'']\r\n  } \r\n    \r\n  const reducer = (state, action) => {\r\n    switch (action.type) {\r\n\r\n      case ACTIONS.UPDATE_PRODUCT_DATA: {\r\n        switch (action.payload.key) {\r\n          case 'name':     { return { ...state, productData: {...state.productData, name:     action.payload.value } }};\r\n          case 'weight':   { return { ...state, productData: {...state.productData, weight:   action.payload.value } }};\r\n          case 'proteins': { return { ...state, productData: {...state.productData, proteins: action.payload.value } }};\r\n          case 'fats':     { return { ...state, productData: {...state.productData, fats:     action.payload.value } }};\r\n          case 'carbs':    { return { ...state, productData: {...state.productData, carbs:    action.payload.value } }};\r\n          case 'kcal':     { return { ...state, productData: {...state.productData, kcal:     action.payload.value } }};\r\n          default:         { return console.error(`Unknown action type: ${action.type}`) };\r\n        }\r\n      }\r\n\r\n      case ACTIONS.RESET_FORM: {\r\n        return {...state, productData: \r\n          { id: props.data.id,\r\n            name: props.data.name,\r\n            weight: props.data.weight,\r\n            proteins: props.data.proteins,\r\n            fats: props.data.fats,\r\n            carbs: props.data.carbs,\r\n            kcal: props.data.kcal \r\n        }};\r\n      }\r\n\r\n      case ACTIONS.SET_WARNING: {\r\n        if (action.payload === 'name')\r\n          return { ...state, warning: [warnings.name, action.payload] }\r\n        else \r\n          return { ...state, warning: [warnings.weight, action.payload] }\r\n      }\r\n\r\n      case ACTIONS.CLEAR_WARNING: {\r\n        return { ...state, warning: ['', action.payload] }\r\n      }\r\n\r\n      default: return console.error(`Unknown action type: ${action.type}`);\r\n    }\r\n  }\r\n\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  useEffect(() => {\r\n    const addingWindow = document.querySelector(\".window--add\");\r\n      addingWindow.style.filter = \"blur(5px) opacity(40%) grayscale(100%)\";\r\n      addingWindow.style.pointerEvents = \"none\";\r\n\r\n    return () => {\r\n      addingWindow.style.filter = \"blur(0px) opacity(100%) grayscale(0%)\";\r\n      addingWindow.style.pointerEvents = \"auto\";\r\n    }\r\n  }, []);\r\n\r\n    // CHECKING IF FORM IS COMPLETED\r\n  useEffect(() => { \r\n    checkIfFormCompleted();\r\n    checkIfStateIsEqualToProps();\r\n    \r\n  }, [state.productData])\r\n\r\n  const checkIfFormCompleted = () => {\r\n    const name = document.querySelector(\"#name\").value;\r\n    const weight = document.querySelector(\"#weight\").value;\r\n\r\n    if(name && weight)\r\n      setIsFormCompleted(true);\r\n    else\r\n      setIsFormCompleted(false);\r\n  }\r\n\r\n  const handleResetingForm = (e) => {\r\n    e.preventDefault();\r\n    dispatch({ type: ACTIONS.RESET_FORM });\r\n    dispatch({ type: ACTIONS.CLEAR_WARNING });\r\n    setIsStateEqualToProps(true);\r\n  }\r\n\r\n  const checkIfStateIsEqualToProps = () => {\r\n    Object.keys(props.data).forEach(key => {\r\n      if (props.data[key] !== state.productData[key])\r\n        setIsStateEqualToProps(false); \r\n      });\r\n  }\r\n\r\n  const handleCancelButton = () => {\r\n    const idOfSelectedProduct = props.data.id;\r\n\r\n    // IF USER CANCEL EDITING, PRODUCT HAS TO BE UNSELECTED\r\n    props.handleEditingWindow(idOfSelectedProduct);\r\n  }\r\n\r\n  const calculateNutritionFacts = (e) => {\r\n    const isNumber = /[0-9]/;\r\n    const isZero = /^[0]{1}/;\r\n\r\n    const nutritionPerOneGram = {\r\n      proteins: Number(props.data.proteins) / Number(props.data.weight),\r\n      fats: Number(props.data.fats) / Number(props.data.weight),\r\n      carbs: Number(props.data.carbs) / Number(props.data.weight),\r\n      kcal: Number(props.data.kcal) / Number(props.data.weight)\r\n    };\r\n\r\n    const setValueAsNull = () => {\r\n      dispatch({ type: ACTIONS.UPDATE_PRODUCT_DATA, payload: { key: 'weight', value: '' }});\r\n      dispatch({ type: ACTIONS.UPDATE_PRODUCT_DATA, payload: { key: 'proteins', value: 0 }});\r\n      dispatch({ type: ACTIONS.UPDATE_PRODUCT_DATA, payload: { key: 'fats', value: 0 }});\r\n      dispatch({ type: ACTIONS.UPDATE_PRODUCT_DATA, payload: { key: 'carbs', value: 0 }});\r\n      dispatch({ type: ACTIONS.UPDATE_PRODUCT_DATA, payload: { key: 'kcal', value: 0 }});\r\n      dispatch({ type: ACTIONS.SET_WARNING, payload: 'weight' });\r\n    }\r\n\r\n    const setValueAsCorrect = () => {\r\n      dispatch({ type: ACTIONS.UPDATE_PRODUCT_DATA, payload: { key: 'weight', value: Number(e.target.value) } });\r\n      dispatch({ type: ACTIONS.UPDATE_PRODUCT_DATA, payload: { key: 'proteins', value: Math.round( e.target.value * nutritionPerOneGram.proteins) } });\r\n      dispatch({ type: ACTIONS.UPDATE_PRODUCT_DATA, payload: { key: 'fats', value: Math.round( e.target.value * nutritionPerOneGram.fats) } });\r\n      dispatch({ type: ACTIONS.UPDATE_PRODUCT_DATA, payload: { key: 'carbs', value: Math.round( e.target.value * nutritionPerOneGram.carbs) } });\r\n      dispatch({ type: ACTIONS.UPDATE_PRODUCT_DATA, payload: { key: 'kcal', value: Math.round( e.target.value * nutritionPerOneGram.kcal) } });\r\n      dispatch({ type: ACTIONS.CLEAR_WARNING, payload: 'weight' });\r\n    }\r\n\r\n    if (isNumber.test(e.target.value[e.target.value.length - 1])) {\r\n      isZero.test(e.target.value)\r\n      ? setValueAsNull()\r\n      : setValueAsCorrect();\r\n    }\r\n\r\n    else {\r\n      setValueAsNull();\r\n    }\r\n  }\r\n\r\n  const handleNameChanging = (e) => {\r\n    const isWord = /[a-z\\s]/i;\r\n    e.preventDefault();\r\n    if (isWord.test(e.target.value[e.target.value.length - 1])) {\r\n      dispatch({ type: ACTIONS.UPDATE_PRODUCT_DATA, payload: { key: 'name', value: e.target.value }})\r\n      dispatch({ type: ACTIONS.CLEAR_WARNING, payload: 'name'});\r\n    }\r\n    else {\r\n      dispatch({ type: ACTIONS.UPDATE_PRODUCT_DATA, payload: { key: 'name', value: \"\" }});\r\n      dispatch({ type: ACTIONS.SET_WARNING, payload: 'name'});\r\n    }\r\n  }\r\n\r\n  const handleSavingChanges = (e) => {\r\n    e.preventDefault();\r\n    props.handleProductEditing(state.productData);\r\n  }\r\n\r\n  return ReactDOM.createPortal (\r\n    <form className=\"window window--edit\" onSubmit={ handleSavingChanges }>\r\n\r\n      <header className=\"window__header\">\r\n        <h3 className=\"window__header__heading\">Edit product</h3>\r\n        <button className=\"window__header__back-button\" onClick={ handleCancelButton }><FaChevronCircleLeft /></button>\r\n        <button \r\n          className={ \r\n            isFormCompleted\r\n            ? \"window__header__add-button\"\r\n            : \"window__header__add-button window__header__add-button--disabled\" } \r\n          disabled={ isFormCompleted ? false : true } \r\n          onClick={ handleSavingChanges }><FaSave /></button>\r\n      </header>\r\n\r\n      <main className=\"window__form\">\r\n\r\n        <section className=\"window__main__section window__main__section--form\">\r\n          \r\n          <h3 className=\"window__main__section__title\">Product info</h3>\r\n\r\n          <div className=\"window__main__input-line\">\r\n            <label className=\"window__main__input-line__label\" htmlFor=\"name\">Product name: </label>\r\n            <input\r\n                className=\"window__main__input-line__input\" \r\n                type=\"text\"\r\n                id=\"name\"\r\n                value={ state.productData.name } \r\n                onChange={ handleNameChanging }\r\n                placeholder={ state.warning[1] === 'name' ? state.warning[0] : null }\r\n                maxLength=\"32\">\r\n            </input>\r\n          </div>\r\n\r\n          <div className=\"window__main__input-line\">\r\n            <label className=\"window__main__input-line__label\" htmlFor=\"weight\">Product weight: </label>\r\n            <input\r\n                className=\"window__main__input-line__input\" \r\n                type=\"text\"\r\n                id=\"weight\"\r\n                value={ state.productData.weight } \r\n                onChange={ calculateNutritionFacts }\r\n                placeholder={ state.warning[1] === 'weight' ? state.warning[0] : null }\r\n                maxLength=\"32\">\r\n            </input>\r\n            <span className=\"window__main__input-line__unit\">g</span>\r\n          </div>\r\n        \r\n        </section>\r\n        \r\n        <section className=\"window__main__section window__main__section--form\">\r\n          \r\n          <h3 className=\"window__main__section__title\">Nutrition facts</h3>\r\n\r\n          <div className=\"window__main__input-line\">\r\n            <label className=\"window__main__input-line__label\" htmlFor=\"proteins\">Proteins: </label>\r\n            <p\r\n              className=\"window__main__input-line__input\" \r\n              id=\"proteins\">\r\n              { state.productData.proteins }\r\n            </p>\r\n            <span className=\"window__main__input-line__unit\">g</span>\r\n          </div>\r\n\r\n          <div className=\"window__main__input-line\">\r\n            <label className=\"window__main__input-line__label\" htmlFor=\"fats\">Fats: </label>\r\n            <p\r\n              className=\"window__main__input-line__input\" \r\n              id=\"fats\">\r\n              { state.productData.fats }\r\n            </p>\r\n            <span className=\"window__main__input-line__unit\">g</span>\r\n          </div>\r\n\r\n          <div className=\"window__main__input-line\">\r\n            <label className=\"window__main__input-line__label\" htmlFor=\"carbs\">Carbs: </label>\r\n            <p\r\n              className=\"window__main__input-line__input\" \r\n              id=\"carbs\">\r\n              { state.productData.carbs }\r\n            </p>\r\n            <span className=\"window__main__input-line__unit\">g</span>\r\n          </div>\r\n\r\n          <div className=\"window__main__input-line\">\r\n            <label className=\"window__main__input-line__label\" htmlFor=\"kcal\">Calories: </label>\r\n            <p\r\n              className=\"window__main__input-line__input\" \r\n              id=\"kcal\">\r\n              { state.productData.kcal }\r\n            </p>\r\n            <span className=\"window__main__input-line__unit\">kcal</span>\r\n          </div>\r\n        \r\n        </section>\r\n        \r\n      </main>\r\n\r\n      <section className=\"window__bottom\">\r\n        <button \r\n          className={ isStateEqualToProps ? \"window__bottom__tertiary-button window__bottom__tertiary-button--disabled\" : \"window__bottom__tertiary-button\" } \r\n          disabled={ isStateEqualToProps ? true : false } \r\n          type=\"button\" \r\n          onClick={ handleResetingForm }>\r\n          Reset</button>\r\n        \r\n        <div>\r\n          <button className=\"window__bottom__secondary-button\" type=\"button\" onClick={ handleCancelButton }>Cancel</button>\r\n          <button \r\n            className={ isFormCompleted\r\n                        ? \"window__bottom__primary-button\"\r\n                        : \"window__bottom__primary-button window__bottom__primary-button--disabled\"\r\n                        } \r\n            type=\"submit\"\r\n            disabled={ isFormCompleted ? false : true }>\r\n            Save</button>\r\n        </div>\r\n\r\n      </section>\r\n\r\n    </form>,\r\n    document.getElementById(\"portal\")\r\n  )\r\n}","import { React, useReducer, useEffect } from 'react';\r\nimport EditForm from './EditForm';\r\nimport { FaPlusCircle } from 'react-icons/fa';\r\n\r\nconst ACTIONS = {\r\n  SET_PRODUCT_SEND_FOR_EDIT: \"set-product-send-for-edit\",\r\n  NEGATE_EDIT_WINDOW_STATE: \"negate-edit-window-state\",\r\n  UPDATE_SAVED_PRODUCTS_LIST: \"update-saved-products-list\",\r\n  LOAD_PREDEFINED_PRODUCTS_LIST_FROM_LOCAL_STORAGE: 'load-predefined-products-list-from-local-storage',\r\n  SET_IS_ADD_BUTTON_DISABLED: 'set-is-add-button-disabled'\r\n}\r\n\r\nconst initialState = {\r\n  savedProductList: [\r\n    { id: 0, name: \"Cottage cheese\", weight: 100, proteins: 20, fats: 10, carbs: 15, kcal: 250 },\r\n    { id: 1, name: \"Skyr\", weight: 100, proteins: 20, fats: 0, carbs: 12, kcal: 100 },\r\n    { id: 2, name: \"Potatos\", weight: 100, proteins: 9, fats: 2, carbs: 80, kcal: 126 },\r\n    { id: 3, name: \"Coca Cola\", weight: 100, proteins: 0, fats: 0, carbs: 100, kcal: 400 },\r\n    { id: 4, name: \"Banana\", weight: 100, proteins: 5, fats: 3, carbs: 52, kcal: 173 },\r\n    { id: 5, name: \"Cottage cheese\", weight: 100, proteins: 20, fats: 10, carbs: 15, kcal: 250 },\r\n    { id: 6, name: \"Skyr\", weight: 100, proteins: 20, fats: 0, carbs: 12, kcal: 100 },\r\n    { id: 7, name: \"Potatos\", weight: 100, proteins: 9, fats: 2, carbs: 80, kcal: 126 },\r\n    { id: 8, name: \"Coca Cola\", weight: 100, proteins: 0, fats: 0, carbs: 100, kcal: 400 },\r\n    { id: 9, name: \"Banana\", weight: 100, proteins: 5, fats: 3, carbs: 52, kcal: 173 }],\r\n  \r\n  productSendForEdit: { id: 0, name: '', weight: 0, proteins: 0, fats: 0, carbs: 0, kcal: 0 },\r\n  isEditWindowOpened: false,\r\n  isAddButtonDisabled: false\r\n}\r\n\r\nexport default function AddingList(props) {\r\n\r\n  const reducer = (state, action) => {\r\n    switch (action.type) {\r\n\r\n      case ACTIONS.LOAD_PREDEFINED_PRODUCTS_LIST_FROM_LOCAL_STORAGE: {\r\n        return {...state, savedProductList: action.payload}\r\n      }\r\n\r\n      case ACTIONS.NEGATE_EDIT_WINDOW_STATE: {\r\n        return { ...state, isEditWindowOpened: !state.isEditWindowOpened };\r\n      }\r\n\r\n      case ACTIONS.SET_PRODUCT_SEND_FOR_EDIT: {\r\n        return {...state, productSendForEdit: {\r\n                          id: action.payload.id,\r\n                          name: action.payload.name,\r\n                          weight: action.payload.weight,\r\n                          proteins: action.payload.proteins,\r\n                          fats: action.payload.fats,\r\n                          carbs: action.payload.carbs,\r\n                          kcal: action.payload.kcal }\r\n        };\r\n      }\r\n\r\n      case ACTIONS.UPDATE_SAVED_PRODUCTS_LIST: {\r\n        const newSavedProductList = state.savedProductList;\r\n        newSavedProductList[action.payload.index] = action.payload.newProduct;\r\n        return {...state, savedProductList: newSavedProductList};\r\n      }\r\n\r\n      case ACTIONS.SET_IS_ADD_BUTTON_DISABLED: {\r\n        return {...state, isAddButtonDisabled: action.payload};\r\n      }\r\n\r\n\r\n      default: return console.error(`Unknown action type: ${action.type}`);\r\n    }\r\n  }\r\n\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  // EFFECT WHICH LOAD / CREATE PREDEFINED PRODUCTS LIST FROM / TO LOCAL STORAGE\r\n  useEffect(() => { \r\n    let predefinedProductsList = [];\r\n\r\n    if (Object.keys(localStorage).includes('predefined')) {\r\n      predefinedProductsList = JSON.parse(localStorage.getItem(\"predefined\"));\r\n      dispatch({ type: ACTIONS.LOAD_PREDEFINED_PRODUCTS_LIST_FROM_LOCAL_STORAGE, payload: predefinedProductsList });\r\n    }\r\n    else {\r\n      predefinedProductsList = state.savedProductList;\r\n      localStorage.setItem(\"predefined\", JSON.stringify(predefinedProductsList)); \r\n    }\r\n\r\n   }, []);\r\n\r\n  useEffect(() => { handleAddButtonDisabling() }, [])\r\n\r\n  const handleSelected = (e) => {\r\n    const product = document.getElementById(e.currentTarget.id);\r\n    if (e.currentTarget.id) {\r\n      const productName = product.querySelector(\".window__main__section__large-list__item__name\");\r\n\r\n      // \"UNSELECTING\"\r\n      if (productName.style.fontWeight === \"bold\") {\r\n        product.style.background = \"#ffffff\";\r\n        productName.style.fontWeight = \"normal\";\r\n        handleAddButtonDisabling();\r\n      }\r\n\r\n      // \"SELECTING\"\r\n      else {\r\n        product.style.background = \"#7500AF30\";\r\n        productName.style.fontWeight = \"bold\";\r\n        updateProductSendForEdit(state.savedProductList[getIndexOfProduct(e.currentTarget.id)]);\r\n        handleEditingWindow();\r\n      }\r\n    }\r\n  }\r\n\r\n  const updateProductSendForEdit = (selectedProduct) => {\r\n    dispatch({ type: ACTIONS.SET_PRODUCT_SEND_FOR_EDIT, payload: selectedProduct });\r\n  }\r\n\r\n  const handleProductEditing = (editedProduct) => {\r\n    const indexOfEditedProduct = getIndexOfProduct(editedProduct.id);\r\n    dispatch({ type: ACTIONS.UPDATE_SAVED_PRODUCTS_LIST, payload: { index: indexOfEditedProduct, newProduct: editedProduct }})\r\n    \r\n    // SAVING CHANGES TO LOCAL STORAGE\r\n    const predefinedProductsList = state.savedProductList;\r\n    localStorage.setItem(\"predefined\", JSON.stringify(predefinedProductsList));\r\n    \r\n    handleEditingWindow();\r\n  }\r\n\r\n  const handleEditingWindow = (idOfSelectedProduct = false) => {\r\n    \r\n    // UNSELECTING PRODUCT AFTER EDIT CANCELED\r\n    if (Number.isInteger(idOfSelectedProduct)) {\r\n      const product = document.getElementById(idOfSelectedProduct);\r\n      const productName = product.querySelector(\".window__main__section__large-list__item__name\");\r\n      product.style.background = \"#ffffff\";\r\n      productName.style.fontWeight = \"normal\";\r\n    }\r\n    \r\n    dispatch({ type: ACTIONS.NEGATE_EDIT_WINDOW_STATE });\r\n    handleAddButtonDisabling();\r\n  }\r\n\r\n  const handleAddButtonDisabling = () => {\r\n    const products = document.querySelectorAll(\".window__main__section__large-list__item\");\r\n    let returnedBoolean = false;\r\n   \r\n    for (let i = 0; i < products.length; i++) {\r\n      const name = products[i].querySelector(\".window__main__section__large-list__item__name\");\r\n      if (name.style.fontWeight === \"bold\") {\r\n        returnedBoolean = false;\r\n        break;\r\n      }\r\n\r\n      else\r\n        returnedBoolean = true;\r\n    }\r\n\r\n    dispatch({type: ACTIONS.SET_IS_ADD_BUTTON_DISABLED, payload: returnedBoolean});\r\n  }\r\n\r\n  const handleProductsAdding = () => {\r\n    const selectedProducts = [];\r\n    const products = document.querySelectorAll(\".window__main__section__large-list__item\");\r\n\r\n    products.forEach((product, index) => {\r\n      const name = product.querySelector(\".window__main__section__large-list__item__name\");\r\n      if (name.style.fontWeight === \"bold\")\r\n        selectedProducts.push(\r\n          { \r\n            name:     state.savedProductList[index - 1].name,\r\n            weight:   state.savedProductList[index - 1].weight, \r\n            proteins: state.savedProductList[index - 1].proteins, \r\n            fats:     state.savedProductList[index - 1].fats, \r\n            carbs:    state.savedProductList[index - 1].carbs, \r\n            kcal:     state.savedProductList[index - 1].kcal \r\n          }\r\n        );\r\n    });\r\n\r\n    if (selectedProducts.length !== 0)\r\n      props.handlePredefinedProductsAdding(selectedProducts);\r\n  }\r\n\r\n  const getIndexOfProduct = (targetId) => {\r\n    const productList = state.savedProductList;\r\n    let returnedIndex = 0;\r\n\r\n    productList.forEach((product, index) => {\r\n      if (product.id === Number(targetId))\r\n        returnedIndex = index;\r\n    });\r\n    return returnedIndex;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <button \r\n        className={ !state.isAddButtonDisabled\r\n                    ? \"window__header__add-button\"\r\n                    : \"window__header__add-button window__header__add-button--disabled\" }\r\n        type=\"button\"\r\n        style={{ zIndex: 11 }}\r\n        onClick={ handleProductsAdding }\r\n        disabled={ state.isAddButtonDisabled ? true : false }><FaPlusCircle />\r\n      </button>\r\n\r\n       { state.isEditWindowOpened \r\n        ? <EditForm \r\n          data={{\r\n            id: state.productSendForEdit.id,\r\n            name: state.productSendForEdit.name,\r\n            weight: state.productSendForEdit.weight,\r\n            proteins: state.productSendForEdit.proteins,\r\n            fats: state.productSendForEdit.fats,\r\n            carbs: state.productSendForEdit.carbs,\r\n            kcal: state.productSendForEdit.kcal\r\n          }}\r\n          warning={ props.warning }\r\n          handleProductEditing={ handleProductEditing }\r\n          handleEditingWindow={ handleEditingWindow }\r\n          />\r\n\r\n        :  null }\r\n        \r\n      <ul className=\"window__main__section__large-list window__main__section__large-list--heading\">\r\n        <li className=\"window__main__section__large-list__item window__main__section__large-list__item--heading\">\r\n          <div className=\"window__main__section__large-list__wrapper\">\r\n            <span className=\"window__main__section__large-list__item__name\" style={{ color: \"white\" }}>Product name</span>\r\n            <span className=\"window__main__section__large-list__item__nutrition-facts\">\r\n              <p className=\"window__main__section__large-list__item__nutrition-facts__proteins\" title=\"Proteins\">P</p>\r\n              <p className=\"window__main__section__large-list__item__nutrition-facts__fats\" title=\"Fats\">F</p>\r\n              <p className=\"window__main__section__large-list__item__nutrition-facts__carbs\" title=\"Carbohydrates\">C</p>\r\n            </span>\r\n            <span className=\"window__main__section__large-list__item__calories\">Calories</span>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n\r\n      <ul className=\"window__main__section__large-list\">\r\n\r\n        { state.savedProductList.map(product => {\r\n          return (\r\n            <li id={ product.id } key={ product.id } className=\"window__main__section__large-list__item\" onClick={ handleSelected }>\r\n              <div className=\"window__main__section__large-list__wrapper\">\r\n                <span id={ product.id } className=\"window__main__section__large-list__item__name\">{ product.name }</span>\r\n                <span id={ product.id } className=\"window__main__section__large-list__item__nutrition-facts\">\r\n                  <p id={ product.id } className=\"window__main__section__large-list__item__nutrition-facts__proteins\" title=\"Proteins\">{ product.proteins } g</p>\r\n                  <p id={ product.id } className=\"window__main__section__large-list__item__nutrition-facts__fats\" title=\"Fats\">{ product.fats } g</p>\r\n                  <p id={ product.id } className=\"window__main__section__large-list__item__nutrition-facts__carbs\" title=\"Carbohydrates\">{ product.carbs } g</p>\r\n                </span>\r\n                <span id={ product.id } className=\"window__main__section__large-list__item__calories\">{ product.kcal } kcal</span>\r\n              \r\n              </div>\r\n              <span id={ product.id } className=\"window__main__section__large-list__item__weight\">{ product.weight } g</span>\r\n            </li>\r\n          )\r\n        })\r\n        }\r\n\r\n      </ul>\r\n      \r\n      <section className=\"window__bottom\">\r\n        <div></div>\r\n        <div>\r\n          <button \r\n            className=\"window__bottom__secondary-button\" \r\n            onClick={ props.handleAddWindow }>\r\n            Cancel\r\n          </button>\r\n          \r\n          <button \r\n            className={ state.isAddButtonDisabled\r\n                        ? \"window__bottom__primary-button window__bottom__primary-button--disabled\" \r\n                        : \"window__bottom__primary-button\" } \r\n            onClick={ handleProductsAdding }>\r\n            Add\r\n          </button>\r\n        </div>\r\n      </section>\r\n    </> \r\n  )\r\n}","import { React, useState, useEffect } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport AddingForm from './AddingForm';\r\nimport AddingList from './AddingList';\r\nimport { FaChevronCircleLeft, FaPlusCircle } from 'react-icons/fa';\r\nimport '../styles/window/window.css';\r\n\r\nexport default function AddWindow(props) {\r\n  const [isAddingTypeSetAtLeftOption, setAddingType] = useState(true);\r\n  \r\n  // BACKGROUND EFFECTS\r\n  useEffect(() => {\r\n    const wrapper = document.querySelector(\"#root\");\r\n\r\n    wrapper.style.filter = \"blur(5px) opacity(40%) grayscale(100%)\";\r\n    wrapper.style.pointerEvents = \"none\";\r\n  \r\n    return (() => {\r\n      wrapper.style.filter = \"blur(0px) opacity(100%) grayscale(0%)\";\r\n      wrapper.style.pointerEvents = \"auto\";\r\n    })\r\n\r\n  }, []);\r\n\r\n  // CLEARING FORM AFTER EACH CHANGE OF SWITCH OPTION\r\n  useEffect(() => {\r\n    props.handleFormClearing();\r\n  },[isAddingTypeSetAtLeftOption]);\r\n\r\n  const changeAddingType = () => {\r\n    setAddingType(!isAddingTypeSetAtLeftOption);\r\n  }\r\n  \r\n  return ReactDOM.createPortal ( \r\n    <div className=\"window window--add\">\r\n      \r\n      <header className=\"window__header\">\r\n        \r\n        <h2 className=\"window__header__heading\" >{ props.type === 'exercises' ? \"Add serie\" : \"Add product\" }</h2>\r\n    \r\n        <button className=\"window__header__back-button\" onClick={ props.handleAddWindow }><FaChevronCircleLeft /></button>        \r\n        <button className=\"window__header__switch\" onClick={ changeAddingType }>\r\n          <h3 \r\n            className={ isAddingTypeSetAtLeftOption \r\n                        ? \"window__header__switch__left window__header__switch__left--selected\"\r\n                        : \"window__header__switch__left\" }>\r\n            { props.type === 'exercises' ? \"Last training\" : \"From list\" }\r\n          </h3>\r\n          <h3 \r\n            className={ isAddingTypeSetAtLeftOption \r\n                        ? \"window__header__switch__right\"\r\n                        : \"window__header__switch__right window__header__switch__right--selected\" }>\r\n            { props.type === 'exercises' ? \"Last serie\" : \"Your own\" }\r\n          </h3>\r\n        </button>\r\n\r\n      </header>\r\n\r\n      { props.type === 'exercises'\r\n\r\n        ? <main className=\"window__form\">\r\n          { isAddingTypeSetAtLeftOption\r\n\r\n            ? <AddingForm \r\n                type=\"last-training\"\r\n                data={{ \r\n                  weight: props.data.weight,\r\n                  reps: props.data.reps\r\n                }}\r\n                warning={ props.warning }\r\n                handleOnChange={ props.handleOnChange }\r\n                handleSerieAdding={ props.handleSerieAdding }\r\n                handleFormClearing={ props.handleFormClearing }\r\n                handleAddWindow={ props.handleAddWindow }\r\n                lastTimeData={ props.lastTimeData }\r\n              />\r\n\r\n            : <AddingForm \r\n                type=\"last-serie\"\r\n                data={{ \r\n                  weight: props.data.weight,\r\n                  reps: props.data.reps\r\n                }}\r\n                warning={ props.warning }\r\n                handleOnChange={ props.handleOnChange }\r\n                handleSerieAdding={ props.handleSerieAdding }\r\n                handleFormClearing={ props.handleFormClearing }\r\n                handleAddWindow={ props.handleAddWindow }\r\n                lastTimeData={ props.lastTimeData }\r\n              />\r\n          }\r\n        </main>\r\n\r\n        : <main className=\"window__form\">\r\n          { isAddingTypeSetAtLeftOption\r\n\r\n            ? <AddingList \r\n                warning={ props.warning }\r\n                handleAddWindow={ props.handleAddWindow }\r\n                handlePredefinedProductsAdding={ props.handlePredefinedProductsAdding }\r\n              />\r\n              \r\n            : <AddingForm\r\n                type=\"nutrition\"\r\n                data={{ \r\n                  isPlaceholderEnabled: props.data.isPlaceholderEnabled,\r\n                  name: props.data.name, \r\n                  weight: props.data.weight,\r\n                  proteins: props.data.proteins,\r\n                  fats: props.data.fats,\r\n                  carbs: props.data.carbs,\r\n                  kcal: props.data.kcal }}\r\n                warning={ props.warning }\r\n                handleOnChange={ props.handleOnChange }\r\n                handleFormClearing={ props.handleFormClearing }\r\n                handleProductAdding={ props.handleProductAdding }\r\n                handleAddWindow={ props.handleAddWindow }\r\n              />\r\n          }\r\n        </main>\r\n      \r\n      }\r\n\r\n    </div>,\r\n    document.getElementById('portal')\r\n  )\r\n}","import { React, useState, useEffect } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport '../styles/window/window.css';\r\nimport { FaChevronCircleLeft, FaTrash, FaTrashAlt} from 'react-icons/fa';\r\n\r\n\r\nexport default function RemoveWindow(props) {\r\n  const [isRemovingAllButtonPressed, setRemovingAllButtonPressed] = useState(false);\r\n  const [isRemoveButtonDisabled, setIsRemoveButtonDisabled] = useState(false);\r\n\r\n  // WINDOW EFFECTS\r\n  useEffect(() => {\r\n    const removingWindow = document.querySelector(\".window\");\r\n\r\n    if (isRemovingAllButtonPressed) {\r\n      removingWindow.style.filter = \"blur(5px) opacity(40%) grayscale(100%)\";\r\n      removingWindow.style.pointerEvents = \"none\";\r\n    }\r\n    else {\r\n      removingWindow.style.filter = \"blur(0px) opacity(100%) grayscale(0%)\";\r\n      removingWindow.style.pointerEvents = \"auto\";\r\n    }\r\n  }, [isRemovingAllButtonPressed]);\r\n\r\n  // BACKGROUND EFFECTS\r\n  useEffect(() => {\r\n    const wrapper = document.querySelector(\"#root\");\r\n\r\n    wrapper.style.filter = \"blur(5px) opacity(40%) grayscale(100%)\";\r\n    wrapper.style.pointerEvents = \"none\";\r\n  \r\n    return (() => {\r\n      wrapper.style.filter = \"blur(0px) opacity(100%) grayscale(0%)\";\r\n      wrapper.style.pointerEvents = \"auto\";\r\n    })\r\n\r\n  }, []);\r\n\r\n  useEffect(() => { \r\n    handleRemoveButtonDisabling() \r\n  }, []);\r\n\r\n  const handleSelected = (e) => {\r\n    const item = document.getElementById(e.currentTarget.id);\r\n    \r\n    if(e.currentTarget.id) {\r\n      const itemName = item.querySelector(\".window__main__section__large-list__item__name\");\r\n\r\n      // \"UNSELECTING\"\r\n      if (itemName.style.fontWeight === \"bold\") {\r\n        item.style.background = \"#ffffff\";\r\n        itemName.style.fontWeight = \"normal\";\r\n      }\r\n\r\n      // \"SELECTING\"\r\n      else {\r\n        item.style.background = \"#7500AF30\";\r\n        itemName.style.fontWeight = \"bold\";\r\n      }\r\n\r\n      handleRemoveButtonDisabling();\r\n    }\r\n  }\r\n\r\n  const handleRemoveButton = () => {\r\n    const selectedIds = [];\r\n    const items = document.querySelectorAll(\".window__main__section__large-list__item\");\r\n\r\n    items.forEach(item => {\r\n      const name = item.querySelector(\".window__main__section__large-list__item__name\")\r\n      if(name.style.fontWeight === \"bold\")\r\n        selectedIds.push(Number(item.id));\r\n    });\r\n\r\n    if (selectedIds.length !== 0)\r\n      props.handleRemoving(selectedIds);\r\n  }\r\n\r\n  const handleRemoveButtonDisabling = () => {\r\n    const items = document.querySelectorAll(\".window__main__section__large-list__item\");\r\n    let returnedBoolean = false;\r\n   \r\n    for (let i = 0; i < items.length; i++) {\r\n      const name = items[i].querySelector(\".window__main__section__large-list__item__name\");\r\n      if (name.style.fontWeight === \"bold\") {\r\n        returnedBoolean = false;\r\n        break;\r\n      }\r\n      \r\n      else\r\n        returnedBoolean = true;\r\n    }\r\n    setIsRemoveButtonDisabled(returnedBoolean);\r\n  }\r\n\r\n  const handleRemovingAllButton = () => {\r\n    setRemovingAllButtonPressed(true);\r\n  }\r\n\r\n  const handleRemovingAllCancel = () => {\r\n    setRemovingAllButtonPressed(false);\r\n  }\r\n\r\n  const handleRemovingAllConfirm = () => {\r\n    const selectedIds = [];\r\n    const items = document.querySelectorAll(\".window__main__section__large-list__item\");\r\n\r\n    items.forEach(item => {\r\n      selectedIds.push(Number(item.id))\r\n    });\r\n\r\n    props.handleRemoving(selectedIds);\r\n  }\r\n  \r\n  return ReactDOM.createPortal (\r\n    <>\r\n    <section className=\"window\">\r\n\r\n      <header className=\"window__header\">\r\n        <h1 className=\"window__header__heading\">{ props.type === 'exercises' ? \"Remove serie\" : \"Remove product\" }</h1>\r\n        <button className=\"window__header__back-button\" onClick={ props.handleRemoveWindow }><FaChevronCircleLeft /></button>\r\n        <button \r\n          className={ \r\n            isRemoveButtonDisabled\r\n            ? \"window__header__add-button window__header__add-button--disabled\" \r\n            : \"window__header__add-button\" }\r\n          onClick={ handleRemoveButton }><FaTrashAlt /></button>\r\n\r\n      </header>\r\n\r\n      <main className=\"window__main window__main--list\">\r\n\r\n        <ul className=\"window__main__section__large-list window__main__section__large-list--heading\">\r\n          <li className=\"window__main__section__large-list__item window__main__section__large-list__item--heading\">\r\n              { props.type === 'exercises'\r\n                ? <div className=\"window__main__section__large-list__wrapper\">\r\n                    <span className=\"window__main__section__large-list__item__name\" style={{color: \"white\"}}>Serie</span>\r\n                    <span className=\"window__main__section__large-list__item__nutrition-facts\">\r\n                      <p className=\"window__main__section__large-list__item__nutrition-facts__weight\">Weight</p>\r\n                    </span>\r\n                    <span className=\"window__main__section__large-list__item__calories\">Repetitions</span>\r\n                  </div>\r\n\r\n                : <div className=\"window__main__section__large-list__wrapper\">\r\n                    <span className=\"window__main__section__large-list__item__name\" style={{color: \"white\"}}>Product name</span>\r\n                    <span className=\"window__main__section__large-list__item__nutrition-facts\">\r\n                      <p className=\"window__main__section__large-list__item__nutrition-facts__proteins\" title=\"Proteins\">P</p>\r\n                      <p className=\"window__main__section__large-list__item__nutrition-facts__fats\" title=\"Fats\">F</p>\r\n                      <p className=\"window__main__section__large-list__item__nutrition-facts__carbs\" title=\"Carbohydrates\">C</p>\r\n                    </span>\r\n                    <span className=\"window__main__section__large-list__item__calories\">Calories</span>\r\n                  </div> \r\n              }\r\n          </li>\r\n        </ul>\r\n\r\n        <ul className=\"window__main__section__large-list\">\r\n\r\n          { props.list.map(item => {\r\n            return (\r\n              props.type === 'exercises'\r\n\r\n              ? <li onClick={ handleSelected } id={ item.id } key={ item.id } className=\"window__main__section__large-list__item\">\r\n                  <div className=\"window__main__section__large-list__wrapper\">\r\n                    <span id={ item.id } className=\"window__main__section__large-list__item__name\">Serie { item.serieCount }</span>\r\n                    <span id={ item.id } className=\"window__main__section__large-list__item__nutrition-facts\">\r\n                      <p id={ item.id } className=\"window__main__section__large-list__item__nutrition-facts__weight\" title=\"Weight\">{ item.weight } kg</p>\r\n                    </span>\r\n                    <span id={ item.id } className=\"window__main__section__large-list__item__calories\">{ item.reps } reps</span>\r\n                  </div>\r\n                </li>\r\n\r\n              : <li onClick={ handleSelected } id={ item.id } key={ item.id } className=\"window__main__section__large-list__item\">\r\n                  <div className=\"window__main__section__large-list__wrapper\">\r\n                    <span id={ item.id } className=\"window__main__section__large-list__item__name\">{ item.name }</span>\r\n                    <span id={ item.id } className=\"window__main__section__large-list__item__nutrition-facts\">\r\n                      <p id={ item.id } className=\"window__main__section__large-list__item__nutrition-facts__proteins\" title=\"Proteins\">{ item.proteins } g</p>\r\n                      <p id={ item.id } className=\"window__main__section__large-list__item__nutrition-facts__fats\" title=\"Fats\">{ item.fats } g</p>\r\n                      <p id={ item.id } className=\"window__main__section__large-list__item__nutrition-facts__carbs\" title=\"Carbohydrates\">{ item.carbs } g</p>\r\n                    </span>\r\n                    <span id={ item.id } className=\"window__main__section__large-list__item__calories\">{ item.kcal } kcal</span>\r\n                  </div>\r\n                  <span id={ item.id } className=\"window__main__section__large-list__item__weight\">{ item.weight } g</span>\r\n                </li>\r\n            )})\r\n          }\r\n\r\n        </ul>\r\n\r\n      </main>\r\n\r\n      <section className=\"window__bottom\">\r\n          <button className=\"window__bottom__tertiary-button\" onClick={ handleRemovingAllButton }>Remove all</button>\r\n          <div>\r\n            <button className=\"window__bottom__secondary-button\" onClick={ props.handleRemoveWindow }>Cancel</button>\r\n            <button \r\n            className={ isRemoveButtonDisabled\r\n                        ? \"window__bottom__primary-button window__bottom__primary-button--disabled\" \r\n                        : \"window__bottom__primary-button\" }\r\n              onClick={ handleRemoveButton }>Remove</button>\r\n          </div>\r\n        </section>\r\n\r\n    </section>\r\n\r\n    { isRemovingAllButtonPressed \r\n        ? <section className=\"window window--login\">\r\n\r\n            <header className=\"window__header\">\r\n              <h2 className=\"window__header__heading\">Remove all?</h2> \r\n            </header>\r\n\r\n            <main className=\"window__main\">\r\n              <h3 className=\"window__main__message\">{props.type === 'exercises' ? \"Are you sure you want to remove all series in current exercise?\" : \"Are you sure you want to remove all products in current meal?\"}</h3>\r\n            </main>\r\n\r\n            <section className=\"window__bottom\">\r\n              <button className=\"window__bottom__secondary-button\" onClick={ handleRemovingAllCancel }>Cancel</button>\r\n              <button className=\"window__bottom__primary-button\" onClick={ handleRemovingAllConfirm }>Remove</button>\r\n            </section>\r\n          </section>\r\n        : null }\r\n    </>,\r\n  document.getElementById(\"portal\")\r\n  )\r\n}","// IMPORTS\r\n\r\nimport { React, useState, useEffect, useReducer } from 'react';\r\nimport AddWindow from '../product_adding_window/ProductAddingWindow';\r\nimport RemoveWindow from '../product_removing_window/ProductRemovingWindow';\r\nimport './styles/meal.css';\r\n\r\nexport const warnings = {\r\n  name:   \"Name must be a string of letters only\",\r\n  weight: \"Weight must be a positive number\",\r\n  macros: \"Macronutrient must be a number\"\r\n};\r\n\r\nconst ACTIONS = {\r\n  NEGATE_MEAL_STATE: 'negate-meal-state',\r\n  NEGATE_ADDING_WINDOW_STATE: 'negate-adding-window-state',\r\n  NEGATE_REMOVING_WINDOW_STATE: 'negate-removing-window-state',\r\n  ADD_PRODUCT: 'add-product',\r\n  ENABLE_PLACEHOLDER: 'enable-placeholder',\r\n  DISABLE_PLACEHOLDER: 'disable-placeholder',\r\n  SET_WARNING: 'set-warning',\r\n  CLEAR_WARNING: 'clear-warning',\r\n  REMOVE_PRODUCT: 'remove-product',\r\n  ADD_TO_SUMMARY: 'add-to-summary',\r\n  SUB_FROM_SUMMARY: 'sub-from-summary',\r\n  CLEAR_PRODUCTLIST_BEFORE_DAY_CHANGING: 'clear-productlist-before-day-changing',\r\n  ADD_PRODUCT_TO_PRODUCTLIST: 'add-product-to-productlist'\r\n}\r\n\r\n\r\n// COMPONENTS\r\n\r\nexport default function Meal(props) {\r\n\r\n  // REDUCER STUFF\r\n  const initialState = {\r\n    isMealOpened: false, \r\n    isAddingWindowOpened: false,\r\n    isRemovingWindowOpened: false,\r\n    countIngredients: false,\r\n    productList: [],\r\n    newProduct: { id: 0, mealId: props.mealId, dateIds: { dayId: 0, monthId: 0, yearId: 0 },  name: '', weight: '', proteins: '', fats: '', carbs: '', kcal: '' },\r\n    warning: ['', ''],\r\n    summary: {\r\n      proteins: 0,\r\n      fats: 0,\r\n      carbs: 0,\r\n      kcal: 0\r\n    }\r\n  };\r\n\r\n  const reducer = (state, action) => {\r\n    switch(action.type) {\r\n\r\n      case ACTIONS.NEGATE_MEAL_STATE:\r\n        return {...state, isMealOpened: !state.isMealOpened};\r\n      \r\n      case ACTIONS.NEGATE_ADDING_WINDOW_STATE:\r\n        return {...state, isAddingWindowOpened: !state.isAddingWindowOpened};\r\n\r\n      case ACTIONS.NEGATE_REMOVING_WINDOW_STATE:\r\n        return {...state, isRemovingWindowOpened: !state.isRemovingWindowOpened};\r\n\r\n      case ACTIONS.CHANGE_NEW_PRODUCT_DATA: {\r\n        switch (action.payload.key) {\r\n          case 'name':      return {...state, newProduct: {...state.newProduct, name:     action.payload.value}};\r\n          case 'weight':    return {...state, newProduct: {...state.newProduct, weight:   action.payload.value}};\r\n          case 'proteins':  return {...state, newProduct: {...state.newProduct, proteins: action.payload.value}};\r\n          case 'fats':      return {...state, newProduct: {...state.newProduct, fats:     action.payload.value}};\r\n          case 'carbs':     return {...state, newProduct: {...state.newProduct, carbs:    action.payload.value}};\r\n          case 'kcal':      return {...state, newProduct: {...state.newProduct, kcal:     action.payload.value}};\r\n        }\r\n      }\r\n\r\n      case ACTIONS.ADD_PRODUCT: {\r\n        state.newProduct.id = Date.now();\r\n        state.newProduct.dateIds = props.dateIds;\r\n        state.productList.push(state.newProduct);\r\n        localStorage.setItem(state.newProduct.id, JSON.stringify(state.newProduct));\r\n        return {...state, newProduct: { id: 0, mealId: props.mealId, dateIds: { dayId: 0, monthId: 0, yearId: 0 }, name: '', weight: '', proteins: '', fats: '', carbs: '', kcal: ''}};\r\n      }\r\n\r\n      case ACTIONS.SET_WARNING: {\r\n        switch (action.payload) {\r\n          case 'name':  return { ...state, warning: [warnings.name, action.payload] }\r\n          case 'weight':  return { ...state, warning: [warnings.weight, action.payload] }\r\n          default:  return { ...state, warning: [warnings.macros, action.payload] }\r\n        };\r\n      }\r\n\r\n      case ACTIONS.CLEAR_WARNING: {\r\n        return { ...state, warning: ['', action.payload]};\r\n      }\r\n\r\n      case ACTIONS.REMOVE_PRODUCT: {\r\n        let newProductList = state.productList;\r\n        let checkedIdList = action.payload;\r\n        \r\n        checkedIdList.forEach(checkedId => {\r\n          newProductList.forEach((product, index) => {\r\n            if (Number(product.id) === Number(checkedId)) {\r\n              newProductList.splice(index, 1);\r\n              localStorage.removeItem(product.id);\r\n            }\r\n          });\r\n        });\r\n        return {...state, productList: newProductList};\r\n      }\r\n\r\n      case ACTIONS.ADD_TO_SUMMARY: {\r\n        switch (action.payload.ingredient) {\r\n          case 'proteins': return {...state, summary: {...state.summary, proteins: state.summary.proteins + Number(action.payload.value)}};\r\n          case 'fats':     return {...state, summary: {...state.summary, fats:     state.summary.fats     + Number(action.payload.value)}};\r\n          case 'carbs':    return {...state, summary: {...state.summary, carbs:    state.summary.carbs    + Number(action.payload.value)}};\r\n          case 'kcal':     return {...state, summary: {...state.summary, kcal:     state.summary.kcal     + Number(action.payload.value)}};\r\n        }\r\n      }\r\n      \r\n      case ACTIONS.SUB_FROM_SUMMARY: {\r\n        switch (action.payload.ingredient) {\r\n          case 'proteins': return {...state, summary: {...state.summary, proteins: state.summary.proteins - Number(action.payload.value)}};\r\n          case 'fats':     return {...state, summary: {...state.summary, fats:     state.summary.fats     - Number(action.payload.value)}};\r\n          case 'carbs':    return {...state, summary: {...state.summary, carbs:    state.summary.carbs    - Number(action.payload.value)}};\r\n          case 'kcal':     return {...state, summary: {...state.summary, kcal:     state.summary.kcal     - Number(action.payload.value)}};\r\n        }\r\n      }\r\n\r\n      case ACTIONS.ADD_PRODUCT_TO_PRODUCTLIST: {\r\n        return {...state, productList: [...state.productList, action.payload]};\r\n      }\r\n\r\n      case ACTIONS.CLEAR_PRODUCTLIST_BEFORE_DAY_CHANGING: {\r\n        return {...state, productList: []};\r\n      }\r\n\r\n      default: return console.error(`Unknown action type: ${action.type}`);\r\n    }\r\n  }\r\n\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n  const [isPlaceholderEnabled, setPlaceholderState] = useState(false);\r\n\r\n\r\n  // LOADS DATA FROM LOCAL STORAGE AFTER DAY CHANGE\r\n  useEffect(() => {\r\n    let localStorageKeys = Object.keys(localStorage);\r\n    localStorageKeys.forEach(key => {\r\n      let value = JSON.parse(localStorage.getItem(key));\r\n      if (value.mealId === props.mealId && ((value.dateIds.dayId === props.dateIds.dayId) &&\r\n                                            (value.dateIds.monthId === props.dateIds.monthId) &&\r\n                                            (value.dateIds.yearId === props.dateIds.yearId)))\r\n        dispatch({ type: ACTIONS.ADD_PRODUCT_TO_PRODUCTLIST, payload: value });\r\n    });\r\n\r\n  }, [props.dateIds]);\r\n\r\n\r\n  // CLEARS PRODUCTLIST AFTER DAY CHANGE\r\n  useEffect(() => { \r\n    return () => dispatch({ type: ACTIONS.CLEAR_PRODUCTLIST_BEFORE_DAY_CHANGING });\r\n\r\n  }, [props.dateIds]);\r\n\r\n\r\n  // CLOSES WINDOWS AFTER DAY CHANGE\r\n  useEffect(() => {\r\n    const disableVisibilityIfEnabled = (state, action) => {\r\n      if (state)\r\n        dispatch({type: action});\r\n    }\r\n    \r\n    disableVisibilityIfEnabled(state.isMealOpened, ACTIONS.NEGATE_MEAL_STATE);\r\n    disableVisibilityIfEnabled(state.isAddingWindowOpened, ACTIONS.NEGATE_ADDING_WINDOW_STATE);\r\n    disableVisibilityIfEnabled(state.isRemovingWindowOpened, ACTIONS.NEGATE_REMOVING_WINDOW_STATE);\r\n\r\n  }, [props.dateIds])\r\n\r\n\r\n  // SENDS DATA FROM MEAL TO GAUGES\r\n  useEffect(() => { \r\n    props.updateGauges(state.summary, props.mealId);\r\n\r\n  }, [state.summary]);\r\n\r\n\r\n  // DISABLES POINTER EVENTS WHEN ONE OF FORM WINDOWS IS OPENED \r\n  useEffect(() => {\r\n    const changePointerEvents = (value) => {\r\n      const meals = document.querySelectorAll(\".meal\");\r\n      const wrapper = document.querySelector(\".wrapper\");\r\n      const center = document.querySelector(\".center-section\");\r\n\r\n      meals.forEach(meal => {\r\n        let buttons = meal.querySelector(\".meal__buttons-section\");\r\n        buttons.style.pointerEvents = value;\r\n        wrapper.style.pointerEvents = value;\r\n\r\n        // DISABLING SCROLL AT CENTER SECTION \r\n        value === \"none\" ? center.style.overflowY = \"hidden\" : center.style.overflowY = \"auto\";\r\n      });\r\n    }\r\n\r\n\r\n    state.isAddingWindowOpened || state.isRemovingWindowOpened\r\n    ? changePointerEvents(\"none\")\r\n    : changePointerEvents(\"auto\");\r\n    \r\n  }, [state.isAddingWindowOpened, state.isRemovingWindowOpened]);\r\n\r\n\r\n  const handleMealOpening = () => {\r\n    dispatch( {type: ACTIONS.NEGATE_MEAL_STATE} );\r\n  }\r\n\r\n  const handleAddingToSummary = (object) => {\r\n    Object.keys(object).forEach(key => {\r\n      dispatch({\r\n        type: ACTIONS.ADD_TO_SUMMARY,\r\n        payload: {\r\n          ingredient: key,\r\n          value: object[key]\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  const handleSubstractingFromSummary = (object) => {\r\n    Object.keys(object).forEach(key => {\r\n      dispatch({\r\n        type: ACTIONS.SUB_FROM_SUMMARY,\r\n        payload: {\r\n          ingredient: key,\r\n          value: object[key]\r\n        }\r\n      });\r\n    });\r\n    \r\n  }\r\n\r\n  const handleAddWindow = () => {\r\n    dispatch( {type: ACTIONS.NEGATE_ADDING_WINDOW_STATE} );\r\n  }\r\n\r\n  const handleRemoveWindow = () => {\r\n    dispatch( {type: ACTIONS.NEGATE_REMOVING_WINDOW_STATE} );\r\n  }\r\n\r\n  const handleProductAdding = (e) => {\r\n    e.preventDefault();\r\n    setTimeout(() => { dispatch({ type: ACTIONS.ADD_PRODUCT }) }, 10);\r\n    dispatch({ type: ACTIONS.NEGATE_ADDING_WINDOW_STATE });\r\n  }\r\n\r\n  const handlePredefinedProductsAdding = (selectedProducts) => {\r\n    selectedProducts.forEach(product => {\r\n\r\n      // TIMEOUT TO PREVENT DOUBLED IDS\r\n      setTimeout(() => {\r\n\r\n        Object.keys(product).forEach(key => {\r\n          dispatch({ type: ACTIONS.CHANGE_NEW_PRODUCT_DATA, payload: { key: key, value: product[key] }});\r\n        });\r\n\r\n        dispatch({ type: ACTIONS.ADD_PRODUCT });\r\n\r\n      }, 10);\r\n    });\r\n    \r\n    dispatch({ type: ACTIONS.NEGATE_ADDING_WINDOW_STATE });\r\n  }\r\n\r\n  const handleProductRemoving = (checkedIdsList) => {\r\n    dispatch({ type: ACTIONS.REMOVE_PRODUCT, payload: checkedIdsList });\r\n    dispatch({ type: ACTIONS.NEGATE_REMOVING_WINDOW_STATE });\r\n  }\r\n\r\n  const handleFormClearing = () => {\r\n    dispatch({ type: ACTIONS.CHANGE_NEW_PRODUCT_DATA, payload: { key: 'name', value: '' }});\r\n    dispatch({ type: ACTIONS.CHANGE_NEW_PRODUCT_DATA, payload: { key: 'weight', value: '' }});\r\n    dispatch({ type: ACTIONS.CHANGE_NEW_PRODUCT_DATA, payload: { key: 'proteins', value: '' }});\r\n    dispatch({ type: ACTIONS.CHANGE_NEW_PRODUCT_DATA, payload: { key: 'fats', value: '' }});\r\n    dispatch({ type: ACTIONS.CHANGE_NEW_PRODUCT_DATA, payload: { key: 'carbs', value: '' }});\r\n    dispatch({ type: ACTIONS.CHANGE_NEW_PRODUCT_DATA, payload: { key: 'kcal', value: '' }});\r\n    setPlaceholderState(false);\r\n  }\r\n\r\n  const handleOnChange = (e) => {\r\n    const isNumber = /[0-9]/;\r\n    const isWord = /[a-z\\s]/i;\r\n    const isZero = /^[0]{1}/;\r\n    console.log(state.productList);\r\n\r\n    const setValueAsZero = () => {\r\n      dispatch({ type: ACTIONS.CHANGE_NEW_PRODUCT_DATA, payload: { key: e.target.id, value: '0' }});\r\n      dispatch({ type: ACTIONS.CLEAR_WARNING, payload: e.target.id });\r\n    }\r\n\r\n    const setValueAsNull = () => {\r\n      dispatch({ type: ACTIONS.CHANGE_NEW_PRODUCT_DATA, payload: { key: e.target.id, value: \"\" } });\r\n      dispatch({ type: ACTIONS.SET_WARNING, payload: e.target.id });\r\n    }\r\n\r\n    const setValueAsCorrect = () => {\r\n      dispatch({ type: ACTIONS.CHANGE_NEW_PRODUCT_DATA, payload: { key: e.target.id, value: e.target.value }});\r\n      dispatch({ type: ACTIONS.CLEAR_WARNING, payload: e.target.id });\r\n    }\r\n\r\n    if (e.target.id === 'name') {\r\n\r\n      isWord.test(e.target.value[e.target.value.length - 1]) ? setValueAsCorrect() : setValueAsNull();\r\n\r\n    }\r\n\r\n    else {\r\n\r\n      if (isNumber.test(e.target.value[e.target.value.length - 1])) {\r\n\r\n        if (isZero.test(e.target.value))\r\n          e.target.id === 'weight' ? setValueAsNull() : setValueAsZero();\r\n\r\n        else\r\n          setValueAsCorrect();\r\n      }\r\n\r\n      else {\r\n        setValueAsNull();\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"meal\" style={ (state.isMealOpened && window.innerWidth > 768) ? {left: '-10px'} : {left: '0px'} }>\r\n      <section className=\"meal__top-section\" onClick={ handleMealOpening }>\r\n        \r\n        <h2 className=\"meal__top-section__meal-title\">{props.name}</h2>        \r\n        \r\n        <ul className=\"meal__top-section__meal-stats-list\">                   \r\n          <li className=\"meal__top-section__meal-stats-list__item\">{ state.summary.proteins } g</li>\r\n          <li className=\"meal__top-section__meal-stats-list__item\">{ state.summary.fats } g</li>\r\n          <li className=\"meal__top-section__meal-stats-list__item\">{ state.summary.carbs } g</li>\r\n          <li className=\"meal__top-section__meal-stats-list__item\">{ state.summary.kcal } kcal</li>\r\n        </ul> \r\n\r\n      </section>\r\n\r\n      { state.productList.length !== 0 ? (\r\n        <section className=\"meal__products-section\" style={ state.isMealOpened ? {display: \"flex\"} : {display: \"none\"} }>\r\n       \r\n        { state.productList.map(product => {\r\n          return (\r\n            <Product key={ product.id } \r\n              name={ product.name }\r\n              weight={ product.weight }\r\n              proteins={ product.proteins }\r\n              fats={ product.fats }\r\n              carbs={ product.carbs }\r\n              kcal={ product.kcal }\r\n              addIngredientsFunction={ handleAddingToSummary }\r\n              subIngredientsFunction={ handleSubstractingFromSummary }>\r\n            </Product>\r\n          )\r\n        })}\r\n\r\n        </section>\r\n      ) : null }\r\n      \r\n      <section className=\"meal__buttons-section\" style={ state.isMealOpened ? {display: \"flex\"} : {display: \"none\"} }>\r\n        <div>\r\n        <button \r\n          className={ state.productList.length ? \"meal__buttons-section__remove-button\" : \"meal__buttons-section__remove-button--disabled\" } \r\n          onClick={ state.productList.length ? handleRemoveWindow : null } \r\n          disabled={ state.isAddingWindowOpened || state.isRemovingWindowOpened ? true : false }>\r\n          Remove</button> \r\n\r\n        <button \r\n          className=\"meal__buttons-section__add-button\" \r\n          onClick={ handleAddWindow } \r\n          disabled={ state.isAddingWindowOpened || state.isRemovingWindowOpened ? true : false }>\r\n          Add</button>  \r\n        </div>     \r\n      \r\n      </section>\r\n\r\n      { state.isAddingWindowOpened \r\n        ? <AddWindow \r\n            data={{ \r\n              isPlaceholderEnabled: isPlaceholderEnabled,\r\n              name: state.newProduct.name, \r\n              weight: state.newProduct.weight,\r\n              proteins: state.newProduct.proteins,\r\n              fats: state.newProduct.fats,\r\n              carbs: state.newProduct.carbs,\r\n              kcal: state.newProduct.kcal }}\r\n            warning={ state.warning }\r\n            handleOnChange={ handleOnChange }\r\n            handleFormClearing={ handleFormClearing }\r\n            handleProductAdding={ handleProductAdding }\r\n            handleAddWindow={ handleAddWindow }\r\n            handlePredefinedProductsAdding={ handlePredefinedProductsAdding }\r\n          />\r\n        : null }\r\n\r\n      { state.isRemovingWindowOpened \r\n        ? <RemoveWindow\r\n            list={ state.productList }\r\n            handleRemoving={ handleProductRemoving }\r\n            handleRemoveWindow={ handleRemoveWindow }\r\n          />\r\n        : null }\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction Product(props) {\r\n  useEffect(() => { \r\n    let ingredients = { proteins: props.proteins, fats: props.fats, carbs: props.carbs, kcal: props.kcal };\r\n    props.addIngredientsFunction(ingredients);\r\n\r\n    return () => {\r\n      props.subIngredientsFunction(ingredients);\r\n      }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"meal__products-section__product\">\r\n      <div className=\"meal__products-section__product__info\">\r\n        <h2 className=\"meal__products-section__product__title\">{props.name}</h2>          \r\n        <p className=\"meal__products-section__product__weight\">{props.weight} g</p>           \r\n      </div>\r\n        \r\n      <ul className=\"meal__products-section__product__stats-list\">             \r\n        <li className=\"meal__products-section__product__stats-list__item\">{props.proteins} g</li>\r\n        <li className=\"meal__products-section__product__stats-list__item\">{props.fats} g</li>\r\n        <li className=\"meal__products-section__product__stats-list__item\">{props.carbs} g</li>\r\n        <li className=\"meal__products-section__product__stats-list__item meal__products-section__product__stats-list__item--kcal\">{props.kcal} kcal</li>\r\n      </ul>\r\n    </div>\r\n  )\r\n}","// IMPORTS\r\n\r\nimport React from 'react';\r\nimport './styles/right.css';\r\n\r\n\r\n// PRIMARY COMPONENTS\r\n\r\nexport default function Gauge(props) {\r\n  const handleRotation = () => {\r\n    const rotationDegrees = props.percent * 2.7;\r\n    if (rotationDegrees < 90)\r\n      return {transform: `rotate(${rotationDegrees}deg)`};\r\n    if (rotationDegrees >= 90 && rotationDegrees < 180)\r\n      return {transform: `rotate(${rotationDegrees}deg)`, borderRightColor: `#ffffff80`};  \r\n    if (rotationDegrees >= 180)\r\n      return {transform: `rotate(${rotationDegrees}deg)`, borderRightColor: `#ffffff80`, borderTopColor: '#ffffff80'};\r\n  }\r\n\r\n  return (\r\n\r\n    <div className={ !props.isKcal ? \"right-section__gauge-container\" : \"right-section__gauge-container right-section__gauge-container--kcal\" }>\r\n        \r\n        <div className={ !props.isKcal ? \"right-section__gauge-container__bar\" : \"right-section__gauge-container__bar right-section__gauge-container__bar--kcal\" } \r\n          style={ props.percent < 100 ? handleRotation() : {borderColor: \"#e00000\"}}>    \r\n        </div>\r\n\r\n        <div className={ !props.isKcal ? \"right-section__gauge-container__text\" : \"right-section__gauge-container__text right-section__gauge-container__text--kcal\" }>\r\n           <h4 className={ !props.isKcal ? \"right-section__gauge-container__text__amount\" : \"right-section__gauge-container__text__amount right-section__gauge-container__text__amount--kcal\" }>\r\n             {props.amount} {!props.isKcal ? \"g\" : null}</h4>\r\n           <h6 className={ !props.isKcal ? \"right-section__gauge-container__text__name\" : \"right-section__gauge-container__text__name right-section__gauge-container__text__name--kcal\" }>\r\n             {props.name} </h6>\r\n           <p className={ !props.isKcal ? \"right-section__gauge-container__text__percent\" : \"right-section__gauge-container__text__percent right-section__gauge-container__text__percent--kcal\" }>\r\n             {props.percent} %</p>\r\n           <h5 className={ !props.isKcal ? \"right-section__gauge-container__text__left\" : \"right-section__gauge-container__text__left right-section__gauge-container__text__left--kcal\" }>\r\n             {props.left} {!props.isKcal ? \"g\" : null} left</h5>\r\n        </div>\r\n\r\n    </div>\r\n  )\r\n}","import { React, useEffect } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport '../styles/window/window.css';\r\nimport { FaChevronCircleLeft } from 'react-icons/fa';\r\n \r\nexport default function MoreWindow(props) {\r\n  // BACKGROUND EFFECTS\r\n  useEffect(() => {\r\n    const wrapper = document.querySelector(\"#root\");\r\n    const iframe = document.querySelector(\".window__main__section__iframe\");\r\n\r\n    wrapper.style.filter = \"blur(5px) opacity(40%) grayscale(100%)\";\r\n    wrapper.style.pointerEvents = \"none\";\r\n    setTimeout(() => { iframe.style.opacity = \"1\" }, 500);\r\n  \r\n    return (() => {\r\n      wrapper.style.filter = \"blur(0px) opacity(100%) grayscale(0%)\";\r\n      wrapper.style.pointerEvents = \"auto\";\r\n    })\r\n\r\n  }, []);\r\n\r\n  const handleBackButton = () => {\r\n    props.handleMoreWindow();\r\n  }\r\n\r\n  return ReactDOM.createPortal (\r\n    <div className=\"window window--more\">\r\n\r\n      <header className=\"window__header\">\r\n        <h2 className=\"window__header__heading\">{ props.title }</h2>\r\n        <button className=\"window__header__back-button\" onClick={ handleBackButton }><FaChevronCircleLeft /></button>\r\n      </header>\r\n\r\n      <main className=\"window__main\">\r\n\r\n        <section className=\"window__main__section\"> \r\n          <h3 className=\"window__main__section__title\">Description</h3>\r\n          <p className=\"window__main__section__text\">{ props.description }</p>\r\n        </section>\r\n\r\n        <section className=\"window__main__section window__main__section--halfed\">\r\n          <aside className=\"window__main__section__split-left\">\r\n            <h3 className=\"window__main__section__title\">Difficulty</h3>\r\n            <div className=\"exercise__top-section__grade-container\" style={{ marginBottom: \"15px\" }}>\r\n              <span className=\"exercise__top-section__grade-container__point exercise__top-section__grade-container__point--filled\"></span>\r\n              <span className={ props.difficulty >= 2 ? \"exercise__top-section__grade-container__point exercise__top-section__grade-container__point--filled\" : \"exercise__top-section__grade-container__point\" }></span>\r\n              <span className={ props.difficulty === 3 ? \"exercise__top-section__grade-container__point exercise__top-section__grade-container__point--filled\" : \"exercise__top-section__grade-container__point\" }></span>\r\n            </div>\r\n            <p className=\"window__main__section__text\">{ props.typeOfExercise }</p>\r\n          </aside>\r\n          <aside className=\"window__main__section__split-right\">\r\n            <h3 className=\"window__main__section__title\">Muscles</h3>\r\n            <ul className=\"window__main__section__list\">\r\n              { props.muscles.map((muscle, index) => { return <li key={ index } className=\"window__main__section__list__item\">{ muscle }</li> }) } \r\n            </ul>\r\n          </aside>\r\n        </section>\r\n\r\n        <section className=\"window__main__section\">\r\n          <h3 className=\"window__main__section__title\">Proper form</h3>\r\n          <iframe className=\"window__main__section__iframe\" allowFullScreen width=\"100%\" height=\"300px\" src={ props.properFormLink }></iframe>\r\n        </section>\r\n\r\n      </main>\r\n\r\n      <section className=\"window__bottom\">\r\n        <div></div>\r\n        <button className=\"window__bottom__primary-button\" type=\"button\" onClick={ handleBackButton }>Back</button>\r\n      </section>\r\n\r\n    </div>,\r\n    document.getElementById('portal')\r\n  )\r\n}","// IMPORTS\r\n\r\nimport { React, useEffect, useReducer } from 'react';\r\nimport './style/exercise.css';\r\nimport './../meal/styles/meal.css';\r\nimport '../product_adding_window/styles/productAddingWindow.css';\r\nimport AddWindow from '../product_adding_window/ProductAddingWindow';\r\nimport RemoveWindow from '../product_removing_window/ProductRemovingWindow';\r\nimport MoreWindow from '../MoreWindow/MoreWindow';\r\n\r\nconst ACTIONS = {\r\n  NEGATE_EXERCISE_OPENED: 'negate-exercise-opened',\r\n  NEGATE_ADD_WINDOW_STATE: 'negate-add-window-state',\r\n  NEGATE_REMOVE_WINDOW_STATE: 'negate-remove-window-state',\r\n  NEGATE_MORE_WINDOW_STATE: 'negate-more-window-state',\r\n  SORT_SERIESLIST: 'sort-serieslist',\r\n  CHANGE_NEW_SERIE_DATA: 'change-new-serie-data',\r\n  UPDATE_LASTTIME_DATA: 'update-lasttime-data',\r\n  SET_WARNING: 'set-warning',\r\n  CLEAR_WARNING: 'clear-warning',\r\n  ADD_SERIE: 'add-serie',\r\n  REMOVE_SERIE: 'remove-serie',\r\n  ADD_SERIE_TO_SERIESLIST: 'add-serie-to-serieslist',\r\n  CLEAR_SERIESLIST_BEFORE_DAY_CHANGING: 'clear-serieslist-before-day-change'\r\n}\r\n\r\nexport const warnings = {\r\n  weight: \"Weight must be a positive number\",\r\n  reps: \"Reps must be a positive number\"\r\n};\r\n\r\n// COMPONENT\r\n\r\nexport default function Exercise(props) {\r\n\r\n  const initialState = {\r\n    isExerciseOpened: false,\r\n    isAddWindowOpened: false,\r\n    isRemoveWindowOpened: false,\r\n    isMoreWindowOpened: false,\r\n    lastTimeData: { \r\n      training: { weight: \"First time\", reps: \"First time\" },\r\n      serie: { weight: \"First time\", reps: \"First time\" } \r\n    },\r\n    seriesList: [],\r\n    warning: ['', ''],\r\n    newSerie: { id: 0, exerciseId: props.exerciseId, trainingId: 0, dateIds: { dayId: 0, monthId: 0, yearId: 0 }, serieCount: '', weight: '', reps:'' }\r\n  }\r\n\r\n  const getPreviousTrainingDate = (previousDateIds) => {\r\n    const isLeapYear = () => {\r\n      if (((previousDateIds.yearId % 4 === 0) && (previousDateIds.yearId % 100 !== 0)) || previousDateIds.yearId % 400 === 0)\r\n         return true;\r\n      \r\n      else\r\n         return false;\r\n    }\r\n    const isDayFirstInMonth = () => {\r\n      if(previousDateIds.dayId === 1)\r\n        return true;\r\n      else\r\n        return false;\r\n    }\r\n    const isDayFirstInJanuary = () => {\r\n      if ((previousDateIds.dayId === 1) && (previousDateIds.monthId === 1))\r\n        return true;\r\n      \r\n      else\r\n        return false;\r\n    }\r\n    const isDayFirstInMarch = () => {\r\n      if ((previousDateIds.dayId === 1) && (previousDateIds.monthId === 3))\r\n        return true;\r\n      \r\n      else\r\n        return false;\r\n    }\r\n    const isDayFirstIn30DayMonths = () => {\r\n      if ((previousDateIds.dayId === 1) && ((previousDateIds.monthId === 4) || (previousDateIds.monthId === 6) || (previousDateIds.monthId === 8) || (previousDateIds.monthId === 9) || (previousDateIds.monthId === 11)))\r\n        return true;\r\n      \r\n      else\r\n        return false;\r\n    }\r\n\r\n    let potentialPreviousDateIds = { dayId: 0, monthId: 0, yearId: 0 };\r\n\r\n    if (isDayFirstInJanuary()) {\r\n      potentialPreviousDateIds.dayId = 31;\r\n      potentialPreviousDateIds.monthId = 12;\r\n      potentialPreviousDateIds.yearId = previousDateIds.yearId - 1;\r\n    }\r\n\r\n    else if (isDayFirstInMarch()) {\r\n      if(isLeapYear())\r\n        potentialPreviousDateIds.dayId = 29;\r\n      else\r\n        potentialPreviousDateIds.dayId = 28;\r\n      \r\n      potentialPreviousDateIds.monthId = 2;\r\n      potentialPreviousDateIds.yearId = previousDateIds.yearId;\r\n    }\r\n\r\n    else if (isDayFirstIn30DayMonths()) {\r\n      potentialPreviousDateIds.dayId = 31;\r\n      potentialPreviousDateIds.monthId = previousDateIds.monthId - 1;\r\n      potentialPreviousDateIds.yearId = previousDateIds.yearId;\r\n    }\r\n\r\n    else if (isDayFirstInMonth()) {\r\n      potentialPreviousDateIds.dayId = 30\r\n      potentialPreviousDateIds.monthId = previousDateIds.monthId - 1;\r\n      potentialPreviousDateIds.yearId = previousDateIds.yearId;\r\n    }\r\n    \r\n    else {\r\n      potentialPreviousDateIds.dayId = previousDateIds.dayId - 1;\r\n      potentialPreviousDateIds.monthId = previousDateIds.monthId;\r\n      potentialPreviousDateIds.yearId = previousDateIds.yearId;\r\n    }\r\n\r\n    return potentialPreviousDateIds;\r\n  }\r\n\r\n  const reducer = (state, action) => {\r\n    \r\n    switch(action.type) {\r\n      case ACTIONS.NEGATE_EXERCISE_OPENED: {\r\n        return {...state, isExerciseOpened: !state.isExerciseOpened};\r\n      }\r\n\r\n      case ACTIONS.NEGATE_ADD_WINDOW_STATE: {\r\n        return {...state, isAddWindowOpened: !state.isAddWindowOpened};\r\n      }\r\n\r\n      case ACTIONS.NEGATE_REMOVE_WINDOW_STATE: {\r\n        return {...state, isRemoveWindowOpened: !state.isRemoveWindowOpened};\r\n      }\r\n\r\n      case ACTIONS.NEGATE_MORE_WINDOW_STATE: {\r\n        return {...state, isMoreWindowOpened: !state.isMoreWindowOpened};\r\n      }\r\n\r\n      case ACTIONS.CHANGE_NEW_SERIE_DATA: {\r\n        switch (action.payload.key) {\r\n          case 'weight':      return { ...state, newSerie: { ...state.newSerie, weight: action.payload.value } };\r\n          case 'reps':        return { ...state, newSerie: { ...state.newSerie, reps:   action.payload.value } };\r\n        }\r\n      }\r\n\r\n      case ACTIONS.ADD_SERIE: {\r\n        const updatedSeriesList = state.seriesList;\r\n        let serieCount = 1;\r\n        \r\n        // ADDING SERIE TO SERIESLIST\r\n        state.newSerie.id = Date.now();\r\n        state.newSerie.dateIds = props.dateIds;\r\n        updatedSeriesList.push(state.newSerie);\r\n\r\n        // SERIE ORDER COUNTING\r\n        updatedSeriesList.forEach(serie => {\r\n          serie.serieCount = serieCount;\r\n          serieCount++;\r\n        });\r\n\r\n        // SAVING CHANGES IN LOCAL STORAGE\r\n        localStorage.setItem(state.newSerie.id, JSON.stringify(state.newSerie));\r\n        \r\n        return {\r\n          ...state,\r\n          newSerie: { id: 0, exerciseId: props.exerciseId, dateIds: { dayId: 0, monthId: 0, yearId: 0 }, serieCount: '', weight: '', reps: '' },\r\n          seriesList: updatedSeriesList };\r\n      }\r\n\r\n      case ACTIONS.REMOVE_SERIE: {\r\n        let updatedSeriesList = state.seriesList;\r\n        let checkedIdList = action.payload;\r\n        let serieCount = 1;\r\n        \r\n        checkedIdList.forEach(checkedId => {\r\n\r\n          updatedSeriesList.forEach((serie, index) => {\r\n            localStorage.removeItem(serie.id);\r\n            if (Number(serie.id) === Number(checkedId))\r\n              updatedSeriesList.splice(index, 1);\r\n              \r\n          });\r\n\r\n        });\r\n\r\n        // SERIE ORDER COUNTING\r\n        updatedSeriesList.forEach(serie => {\r\n          serie.serieCount = serieCount;\r\n          localStorage.setItem(serie.id, JSON.stringify(serie));\r\n          serieCount++;\r\n        });\r\n\r\n        return { ...state, seriesList: updatedSeriesList };\r\n      }\r\n\r\n      case ACTIONS.SET_WARNING: {\r\n        switch (action.payload) {\r\n          case 'weight':  return { ...state, warning: [warnings.weight, action.payload] }\r\n          case 'reps':  return { ...state, warning: [warnings.reps, action.payload] }\r\n        };\r\n      }\r\n\r\n      case ACTIONS.CLEAR_WARNING: {\r\n        return { ...state, warning: ['', action.payload]};\r\n      }\r\n\r\n      case ACTIONS.ADD_SERIE_TO_SERIESLIST: {\r\n        return {...state, seriesList: [...state.seriesList, action.payload]};\r\n      }\r\n\r\n      case ACTIONS.SORT_SERIESLIST: {\r\n        let serieCount = 1;\r\n        const updatedSeriesList = [];\r\n\r\n        while (updatedSeriesList.length !== state.seriesList.length) {\r\n\r\n          state.seriesList.forEach(serie => {\r\n            if (serie.serieCount === serieCount)\r\n              updatedSeriesList.push(serie);\r\n          });\r\n\r\n          serieCount++;\r\n        }\r\n   \r\n        return {...state, seriesList: updatedSeriesList };\r\n      }\r\n\r\n      case ACTIONS.CLEAR_SERIESLIST_BEFORE_DAY_CHANGING: {\r\n        return {...state, seriesList: []};\r\n      }\r\n\r\n      case ACTIONS.UPDATE_LASTTIME_DATA: {\r\n\r\n        let currentlyAddingSerieNumber = 0;\r\n        let indexOfLastSerie = 0;\r\n        let updatedLastSerieData = { weight: \"First serie\", reps: \"First serie\" };\r\n        let updatedLastTrainingData = { weight: \"First training\", reps: \"First training\" };\r\n\r\n        // LAST SERIE DATA\r\n\r\n        // SEARCHING FOR LAST SERIE NUMBER\r\n        if (state.seriesList.length !== 0) {\r\n\r\n          state.seriesList.forEach((serie, index) => {\r\n            if (serie.serieCount > currentlyAddingSerieNumber) {\r\n              currentlyAddingSerieNumber = serie.serieCount;\r\n              indexOfLastSerie = index;\r\n            }\r\n          });\r\n\r\n          updatedLastSerieData = { \r\n            weight: state.seriesList[indexOfLastSerie].weight,\r\n            reps: state.seriesList[indexOfLastSerie].reps \r\n          };\r\n        }\r\n      \r\n        // LAST TRAINING DATA\r\n\r\n        const potentialSeries = [];\r\n        let previousTrainingSerie = {};\r\n        let previousDateIds = props.dateIds;\r\n      \r\n        // FILTERING LOCAL STORAGE TO SEARCH A EXERCISE WITH CORRECT EXERCISEID AND NUMBER OF SERIE\r\n        if (Object.keys(localStorage).length !== 0) {\r\n\r\n          Object.keys(localStorage).forEach(key => {\r\n            let value = JSON.parse(localStorage.getItem(key));\r\n\r\n            if (value.exerciseId === props.exerciseId) {\r\n              if (value.serieCount === currentlyAddingSerieNumber + 1) {\r\n                if (\r\n                  (value.dateIds.dayId < props.dateIds.dayId) && (value.dateIds.monthId < props.dateIds.monthId) && (value.dateIds.yearId === props.dateIds.yearId) ||\r\n                  (value.dateIds.dayId < props.dateIds.dayId) && (value.dateIds.monthId === props.dateIds.monthId) && (value.dateIds.yearId === props.dateIds.yearId) ||\r\n                  (value.dateIds.dayId >= props.dateIds.dayId) && (value.dateIds.monthId < props.dateIds.monthId) && (value.dateIds.yearId === props.dateIds.yearId) ||\r\n                  (value.dateIds.dayId >= props.dateIds.dayId) && (value.dateIds.monthId >= props.dateIds.monthId) && (value.dateIds.yearId < props.dateIds.yearId)\r\n                )\r\n                  potentialSeries.push(value);\r\n              }\r\n            }\r\n          });\r\n\r\n          if (potentialSeries.length !== 0) {\r\n            while (true) {\r\n              previousDateIds = getPreviousTrainingDate(previousDateIds);\r\n  \r\n              potentialSeries.forEach(serie => {\r\n                if (JSON.stringify(previousDateIds) === JSON.stringify(serie.dateIds))\r\n                  previousTrainingSerie = serie;\r\n              });\r\n  \r\n              if (previousTrainingSerie.weight !== undefined) {\r\n                updatedLastTrainingData = { \r\n                  weight: previousTrainingSerie.weight,\r\n                  reps: previousTrainingSerie.reps \r\n                };\r\n                break;\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        return {...state, \r\n          lastTimeData: {\r\n            training: updatedLastTrainingData,\r\n            serie: updatedLastSerieData\r\n          }\r\n        }\r\n      }\r\n      \r\n      default: return console.error(`Unknown action type: ${action.type}`);\r\n    }\r\n  }\r\n\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n\r\n  // LOADS DATA FROM LOCAL STORAGE AFTER DAY CHANGE\r\n  useEffect(() => {\r\n    let localStorageKeys = Object.keys(localStorage);\r\n\r\n    localStorageKeys.forEach(key => {\r\n      let value = JSON.parse(localStorage.getItem(key));\r\n      if (value.exerciseId === props.exerciseId && ((value.dateIds.dayId === props.dateIds.dayId) &&\r\n                                            (value.dateIds.monthId === props.dateIds.monthId) &&\r\n                                            (value.dateIds.yearId === props.dateIds.yearId)))\r\n        dispatch({ type: ACTIONS.ADD_SERIE_TO_SERIESLIST, payload: value });\r\n    });\r\n\r\n    dispatch({ type: ACTIONS.SORT_SERIESLIST });\r\n\r\n  }, [props.dateIds]);\r\n\r\n\r\n  // CLEARS SERIESLIST AFTER DAY CHANGE\r\n  useEffect(() => { \r\n    return () => dispatch({ type: ACTIONS.CLEAR_SERIESLIST_BEFORE_DAY_CHANGING });\r\n\r\n  }, [props.dateIds]);\r\n\r\n\r\n  // \r\n  useEffect(() => { \r\n\r\n  }, [props.dateIds]);\r\n\r\n\r\n  // CLOSES WINDOWS AFTER DAY CHANGE\r\n  useEffect(() => {\r\n    const disableVisibilityIfEnabled = (state, action) => {\r\n      if (state)\r\n        dispatch({type: action});\r\n    }\r\n    \r\n    disableVisibilityIfEnabled(state.isExerciseOpened, ACTIONS.NEGATE_EXERCISE_OPENED);\r\n    disableVisibilityIfEnabled(state.isAddWindowOpened, ACTIONS.NEGATE_ADD_WINDOW_STATE);\r\n    disableVisibilityIfEnabled(state.isRemoveWindowOpened, ACTIONS.NEGATE_REMOVE_WINDOW_STATE);\r\n    disableVisibilityIfEnabled(state.isMoreWindowOpened, ACTIONS.NEGATE_MORE_WINDOW_STATE);\r\n\r\n  }, [props.dateIds]);\r\n\r\n\r\n  // DISABLES POINTER EVENTS WHEN ONE OF FORM WINDOWS IS OPENED \r\n  useEffect(() => {\r\n    const changePointerEvents = (value) => {\r\n      const meals = document.querySelectorAll(\".meal\");\r\n      const wrapper = document.querySelector(\".wrapper\");\r\n      const center = document.querySelector(\".center-section\");\r\n\r\n      meals.forEach(meal => {\r\n        let buttons = meal.querySelector(\".meal__buttons-section\");\r\n        buttons.style.pointerEvents = value;\r\n        wrapper.style.pointerEvents = value;\r\n\r\n        // DISABLING SCROLL AT CENTER SECTION \r\n        value === \"none\" ? center.style.overflowY = \"hidden\" : center.style.overflowY = \"auto\";\r\n      });\r\n    }\r\n\r\n\r\n    state.isAddWindowOpened || state.isRemoveWindowOpened || state.isMoreWindowOpened\r\n    ? changePointerEvents(\"none\")\r\n    : changePointerEvents(\"auto\");\r\n    \r\n  }, [state.isAddWindowOpened, state.isRemoveWindowOpened, state.isMoreWindowOpened]);\r\n\r\n\r\n  // UPDATES LAST TIME DATA AFTER OPENING CHANGING WINDOWS\r\n  useEffect(() => {\r\n    if (state.isAddWindowOpened)\r\n      dispatch({ type: ACTIONS.UPDATE_LASTTIME_DATA });\r\n    countProgress();\r\n\r\n  }, [state.isAddWindowOpened]);\r\n\r\n  const handleExerciseOpening = () => {\r\n    dispatch({ type: ACTIONS.NEGATE_EXERCISE_OPENED });\r\n  }\r\n\r\n  const handleAddWindow = () => {\r\n    dispatch({ type: ACTIONS.NEGATE_ADD_WINDOW_STATE });\r\n  }\r\n\r\n  const handleRemoveWindow = () => {\r\n    dispatch({ type: ACTIONS.NEGATE_REMOVE_WINDOW_STATE });\r\n  }\r\n\r\n  const handleMoreWindow = () => {\r\n    dispatch({ type: ACTIONS.NEGATE_MORE_WINDOW_STATE });\r\n  }\r\n\r\n  const countProgress = () => {\r\n    const potentialTrainings = [];\r\n    const lastTrainingData = [];\r\n    let message = {};\r\n    let percentValue = 0;\r\n    let progressValue = 0;\r\n    let previousDateIds = props.dateIds;\r\n  \r\n    // FILTERING LOCAL STORAGE TO SEARCH A EXERCISE WITH CORRECT EXERCISEID AND NUMBER OF SERIE\r\n    if (Object.keys(localStorage).length !== 0) {\r\n\r\n      Object.keys(localStorage).forEach(key => {\r\n        let value = JSON.parse(localStorage.getItem(key));\r\n\r\n        if (value.exerciseId === props.exerciseId) {\r\n          if (\r\n            (value.dateIds.dayId < props.dateIds.dayId) && (value.dateIds.monthId < props.dateIds.monthId) && (value.dateIds.yearId === props.dateIds.yearId) ||\r\n            (value.dateIds.dayId < props.dateIds.dayId) && (value.dateIds.monthId === props.dateIds.monthId) && (value.dateIds.yearId === props.dateIds.yearId) ||\r\n            (value.dateIds.dayId >= props.dateIds.dayId) && (value.dateIds.monthId < props.dateIds.monthId) && (value.dateIds.yearId === props.dateIds.yearId) ||\r\n            (value.dateIds.dayId >= props.dateIds.dayId) && (value.dateIds.monthId >= props.dateIds.monthId) && (value.dateIds.yearId < props.dateIds.yearId)\r\n          )\r\n            potentialTrainings.push(value);\r\n        }\r\n      });\r\n\r\n      if (potentialTrainings.length !== 0) {\r\n        while (true) {\r\n          previousDateIds = getPreviousTrainingDate(previousDateIds);\r\n\r\n          potentialTrainings.forEach(training => {\r\n            if (JSON.stringify(previousDateIds) === JSON.stringify(training.dateIds))\r\n              lastTrainingData.push(training); \r\n          });\r\n\r\n          if (lastTrainingData.length !== 0)\r\n            break;\r\n        }\r\n      }\r\n    }\r\n\r\n    const lastTrainingTotal = countTotalWeight(lastTrainingData);\r\n    const currentTrainingTotal = countTotalWeight(state.seriesList);\r\n  \r\n    progressValue = currentTrainingTotal - lastTrainingTotal;\r\n\r\n    if (lastTrainingTotal)\r\n      percentValue = ((progressValue / lastTrainingTotal) * 100).toFixed(2);\r\n    else \r\n      percentValue = '';\r\n      \r\n    if (lastTrainingTotal > 0) {\r\n\r\n      if (progressValue > 0) {\r\n        message.top = `${progressValue.toFixed(2)} kg more`;\r\n        message.bottom = `${percentValue}% more than last time`;\r\n      }\r\n      else if (progressValue === 0) {\r\n        message.top = \"The same result as last time\";\r\n        message.bottom = \"\";\r\n      }\r\n\r\n      else {\r\n        progressValue *= -1;\r\n        percentValue  *= -1;\r\n        message.top = `${progressValue.toFixed(2)} kg less`;\r\n        message.bottom = `${percentValue}% less than last time`;\r\n      }\r\n    }\r\n\r\n    else {\r\n      message.top = \"First training, don't give up!\";\r\n      message.bottom = \"\";\r\n    }\r\n  \r\n    return message;\r\n  }\r\n\r\n  const handleFormClearing = () => {\r\n    dispatch({ type: ACTIONS.CHANGE_NEW_SERIE_DATA, payload: { key: 'weight', value: '' }});\r\n    dispatch({ type: ACTIONS.CHANGE_NEW_SERIE_DATA, payload: { key: 'reps', value: '' }});\r\n  }\r\n\r\n  const handleOnChange = (e) => {\r\n    // const newReg = /^[1-9]{1,}[.]{1}[0-9]{1,3}/\r\n    const isNumber = /[0-9]/;\r\n    const isZero = /^[0]{1}/;\r\n\r\n    const setValueAsNull = () => {\r\n      dispatch({ type: ACTIONS.CHANGE_NEW_SERIE_DATA, payload: { key: e.target.id, value: \"\" } });\r\n      dispatch({ type: ACTIONS.SET_WARNING, payload: e.target.id });\r\n    }\r\n\r\n    const setValueAsCorrect = () => {\r\n      dispatch({ type: ACTIONS.CHANGE_NEW_SERIE_DATA, payload: { key: e.target.id, value: e.target.value }});\r\n      dispatch({ type: ACTIONS.CLEAR_WARNING, payload: e.target.id });\r\n    }\r\n    \r\n    if (isNumber.test(e.target.value[e.target.value.length - 1])) {\r\n\r\n      if (isZero.test(e.target.value))\r\n        setValueAsNull();\r\n\r\n      else\r\n        setValueAsCorrect();\r\n    }\r\n\r\n    else {\r\n      setValueAsNull();\r\n    }\r\n  }\r\n\r\n  const countTotalWeight = (seriesList) => {\r\n    let totalWeight = 0;\r\n\r\n    seriesList.forEach(serie => {\r\n      totalWeight += Number(serie.weight) * Number(serie.reps);\r\n    });\r\n\r\n    return totalWeight;\r\n  }\r\n\r\n  const countTotalReps = (seriesList) => {\r\n    let totalReps = 0;\r\n\r\n    seriesList.forEach(serie => {\r\n      totalReps += Number(serie.reps);\r\n    });\r\n    \r\n    return totalReps;\r\n  }\r\n\r\n  const countWeightPerRepsRatio = (seriesList) => {\r\n    return (countTotalWeight(seriesList) / countTotalReps(seriesList)).toFixed(2);\r\n  }\r\n\r\n  const handleSerieAdding = (e) => {\r\n    e.preventDefault();\r\n    setTimeout(() => { dispatch({ type: ACTIONS.ADD_SERIE }) }, 10);\r\n    dispatch({ type: ACTIONS.NEGATE_ADD_WINDOW_STATE });\r\n  }\r\n\r\n  const handleSerieRemoving = (checkedIdsList) => {\r\n    dispatch({ type: ACTIONS.REMOVE_SERIE, payload: checkedIdsList });\r\n    dispatch({ type: ACTIONS.NEGATE_REMOVE_WINDOW_STATE });\r\n  }\r\n  \r\n  return (\r\n    <div className=\"meal exercise\" style={ (state.isExerciseOpened && window.innerWidth > 768) ? {left: '-10px'} : {left: '0px'} }>\r\n      \r\n      <section className=\"meal__top-section exercise__top-section\" onClick={ handleExerciseOpening }>\r\n\r\n        <h2 className=\"meal__top-section__meal-title\">{ props.name }</h2>\r\n\r\n        <div className=\"exercise__top-section__grade-container\" title=\"Exercise difficulty\">\r\n          <span className=\"exercise__top-section__grade-container__point exercise__top-section__grade-container__point--filled\"></span>\r\n          <span className={ props.difficulty >= 2 ? \"exercise__top-section__grade-container__point exercise__top-section__grade-container__point--filled\" : \"exercise__top-section__grade-container__point\" }></span>\r\n          <span className={ props.difficulty === 3 ? \"exercise__top-section__grade-container__point exercise__top-section__grade-container__point--filled\" : \"exercise__top-section__grade-container__point\" }></span>\r\n        </div>\r\n\r\n      </section>\r\n\r\n      { state.seriesList.length !== 0 ? (\r\n        <section className=\"meal__products-section exercise__series-section\" style={ state.isExerciseOpened ? {display: \"flex\"} : {display: \"none\"} }>\r\n\r\n          <ul className=\"exercise__series-section__list\">\r\n            { state.seriesList.map(serie => {\r\n              return (\r\n              <li key={ serie.id } className=\"exercise__series-section__list__item\">\r\n                  <p className=\"exercise__series-section__list__item__count\">Serie { serie.serieCount }</p>\r\n                  <p className=\"exercise__series-section__list__item__weight\">{ serie.weight } kg</p>\r\n                  <p className=\"exercise__series-section__list__item__reps\">{ serie.reps } reps</p>\r\n                </li> \r\n              )\r\n              })\r\n            }\r\n          </ul>\r\n\r\n          <ul className=\"exercise__series-section__summary\">\r\n\r\n            <li className=\"exercise__series-section__summary__item\">\r\n              <p className=\"exercise__series-section__summary__item__count\">Total</p>\r\n              <p className=\"exercise__series-section__summary__item__weight\">{ countTotalWeight(state.seriesList) } kg</p>\r\n              <p className=\"exercise__series-section__summary__item__reps\">{ countTotalReps(state.seriesList) } reps</p>\r\n            </li>\r\n\r\n            <li className=\"exercise__series-section__summary__item\">\r\n              <p className=\"exercise__series-section__list__item__count\">\r\n                <span>{ countProgress().top }</span>\r\n                <span>{ countProgress().bottom }</span>\r\n              </p>\r\n              <p className=\"exercise__series-section__list__item__reps exercise__series-section__list__item__reps--stats\">{ countWeightPerRepsRatio(state.seriesList) } kg per rep</p>\r\n            </li>\r\n\r\n          </ul>\r\n          \r\n        </section>\r\n      ) : null }\r\n      \r\n      \r\n      <section className=\"meal__buttons-section exercise__buttons-section\" style={ state.isExerciseOpened ? {display: \"flex\"} : {display: \"none\"} }>\r\n\r\n        <button \r\n          className=\"adding-window__main__form__tertiary\" \r\n          onClick={ handleMoreWindow }>\r\n          More\r\n        </button>\r\n        \r\n        <div>\r\n          <button \r\n            className={ state.seriesList.length ? \"meal__buttons-section__remove-button\" : \"meal__buttons-section__remove-button--disabled\" }\r\n            onClick={ state.seriesList.length ? handleRemoveWindow : null } \r\n            disabled={ state.isAddWindowOpened || state.isRemoveWindowOpened ? true : false }>\r\n            Remove\r\n          </button>\r\n\r\n          <button \r\n            className=\"adding-window__main__form__primary\" \r\n            onClick={ handleAddWindow }\r\n            disabled={ state.isAddWindowOpened || state.isRemoveWindowOpened ? true : false }>\r\n            Add\r\n          </button>\r\n        </div>\r\n\r\n      </section>\r\n        \r\n      { state.isAddWindowOpened \r\n        ? <AddWindow \r\n            type=\"exercises\"\r\n            handleAddWindow={ handleAddWindow }\r\n            data={{\r\n              weight: state.newSerie.weight,\r\n              reps: state.newSerie.reps\r\n            }}\r\n            warning={ state.warning }\r\n            handleOnChange={ handleOnChange }\r\n            handleFormClearing={ handleFormClearing }\r\n            handleSerieAdding={ handleSerieAdding }\r\n            lastTimeData={ state.lastTimeData }\r\n          />\r\n        : null }\r\n\r\n      { state.isRemoveWindowOpened \r\n        ? <RemoveWindow \r\n            type=\"exercises\"\r\n            list={ state.seriesList }\r\n            handleRemoving={ handleSerieRemoving }\r\n            handleRemoveWindow={ handleRemoveWindow }\r\n          />\r\n        : null }\r\n\r\n      { state.isMoreWindowOpened \r\n        ? <MoreWindow\r\n            type=\"exercises\"\r\n            title={ props.name }\r\n            description={ props.description }\r\n            difficulty={ props.difficulty }\r\n            typeOfExercise= { props.typeOfExercise}\r\n            muscles={ props.muscles }\r\n            properFormLink={ props.properFormLink }\r\n            handleMoreWindow={ handleMoreWindow }\r\n          />\r\n        : null }\r\n\r\n    </div>\r\n\r\n  )\r\n}","export const exercises = [\r\n  { id: 0,\r\n    name: \"Bench Press\",\r\n    description: `The bench press is an upper-body weight training exercise in which the trainee\r\n                  presses a weight upwards while lying on a weight training bench. \r\n                  The exercise uses the pectoralis major, the anterior deltoids, and the triceps,\r\n                  among other stabilizing muscles. A barbell is generally used to hold the weight, \r\n                  but a pair of dumbbells can also be used.`,\r\n    difficulty: 2, \r\n    typeOfExercise: \"Compound exercise\",\r\n    muscles: [\"Chest\", \"Shoulders\", \"Arms\"],\r\n    properFormLink: \"https://www.youtube.com/embed/XSza8hVTlmM\" \r\n  },\r\n\r\n  { id: 1,\r\n    name: \"Deadlift\",\r\n    description: `Deadlift refers to the lifting of dead weight (weight without momentum),\r\n                  such as weights lying on the ground. It is one of the few standard weight training exercises\r\n                  in which all repetitions begin with dead weight. In most other lifts, there is an eccentric \r\n                  (lowering of the weight) phase followed by the concentric (lifting of the weight) phase. \r\n                  During these exercises, a small amount of energy is stored in the stretched muscles and \r\n                  tendons in the eccentric phase if the lifter is not flexible beyond the range of motion.\r\n                  Although this exercise uses the legs and hips as the primary movers, it can also be considered a back exercise.`,\r\n    difficulty: 3, \r\n    typeOfExercise: \"Compound exercise\",\r\n    muscles: [\"Legs\", \"Back\", \"Core\"],\r\n    properFormLink: \"https://www.youtube.com/embed/op9kVnSso6Q\" \r\n  },\r\n\r\n  { id: 2,\r\n    name: \"Squat\",\r\n    description: `A squat is a strength exercise in which the trainee lowers their hips from a standing position\r\n                  and then stands back up. During the descent of a squat, the hip and knee joints flex while\r\n                  the ankle joint dorsiflexes; conversely the hip and knee joints extend and the ankle joint\r\n                  plantarflexes when standing up. Squats are considered a vital exercise for increasing the strength and size of the lower body\r\n                  muscles as well as developing core strength. The primary agonist muscles used during the squat are\r\n                  the quadriceps femoris, the adductor magnus, and the gluteus maximus.`,\r\n    difficulty: 3, \r\n    typeOfExercise: \"Compound exercise\",\r\n    muscles: [\"Legs\", \"Core\"],\r\n    properFormLink: \"https://www.youtube.com/embed/ultWZbUMPL8\"\r\n  },\r\n\r\n  { id: 3,\r\n    name: \"Pull-up\",\r\n    description: `A pull-up is an upper-body strength exercise. The pull-up is a closed-chain movement where \r\n                  the body is suspended by the hands and pulls up. As this happens, the elbows \r\n                  flex and the shoulders adduct and extend to bring the elbows to the torso.`,\r\n    difficulty: 2, \r\n    typeOfExercise: \"Compound exercise\",\r\n    muscles: [\"Upper back\", \"Arms\"],\r\n    properFormLink: \"https://www.youtube.com/embed/HRV5YKKaeVw\"\r\n  },\r\n\r\n  { id: 4,\r\n    name: \"Push-up\",\r\n    description: `A push-up is a common calisthenics exercise beginning from the prone position. \r\n                  By raising and lowering the body using the arms, push-ups exercise the pectoral muscles, \r\n                  triceps, and anterior deltoids, with ancillary benefits to the rest of the deltoids, \r\n                  serratus anterior, coracobrachialis and the midsection as a whole. Push-ups are a basic \r\n                  exercise used in civilian athletic training or physical education and commonly in military \r\n                  physical training.`,\r\n    difficulty: 1, \r\n    typeOfExercise: \"Compound exercise\",\r\n    muscles: [\"Chest\", \"Shoulders\", \"Arms\", \"Core\"],\r\n    properFormLink: \"https://www.youtube.com/embed/0pkjOk0EiAk\"\r\n  },\r\n\r\n  { id: 5,\r\n    name: \"Overhead Press\",\r\n    description: `The overhead press (abbreviated OHP), also referred to as a shoulder press, military press,\r\n                  or simply the press, is a weight training exercise with many variations. It is typically performed\r\n                  while either standing or sitting sometimes also when squatting, in which a weight is pressed straight\r\n                  upwards from racking position until the arms are locked out overhead, while the legs, lower back and\r\n                  abs maintain balance. The exercise helps build muscular shoulders with bigger arms, and is one\r\n                  of the most difficult compound upper-body exercises.`,\r\n    difficulty: 2, \r\n    typeOfExercise: \"Compound exercise\",\r\n    muscles: [\"Shoulders\", \"Arms\", \"Core\"],\r\n    properFormLink: \"https://www.youtube.com/embed/2yjwXTZQDDI\"\r\n  },\r\n\r\n  { id: 6,\r\n    name: \"Bent-over Row\",\r\n    description: `A bent-over row (or barbell row) is a weight training exercise \r\n                  that targets a variety of back muscles. Which ones are targeted varies on form. \r\n                  The bent over row is often used for both bodybuilding and powerlifting. \r\n                  It is a good exercise for increasing strength and size`,\r\n    difficulty: 2, \r\n    typeOfExercise: \"Compound exercise\",\r\n    muscles: [\"Back\", \"Arms\", \"Core\"],\r\n    properFormLink: \"https://www.youtube.com/embed/kBWAon7ItDw\"\r\n  },\r\n\r\n  { id: 7,\r\n    name: \"Biceps Curl\",\r\n    description: `Biceps curl is a general term for a series of strength exercises \r\n                  that involve brachioradialis, front deltoid and the main target on biceps brachii.\r\n                  Includes variations using barbell, dumbbell and resistance band, etc. The common point\r\n                  amongst them is the trainee lifting a certain amount of weight to contracting the biceps\r\n                  brachii, and tuck in their arms to the torso during the concentric phase. Once the biceps brachii\r\n                  is fully contracted, then return the weight to starting position during the eccentric phase.`,\r\n    difficulty: 1, \r\n    typeOfExercise: \"Isolated exercise\",\r\n    muscles: [\"Biceps\", \"Arms\"],\r\n    properFormLink: \"https://www.youtube.com/embed/ykJmrZ5v0Oo\"\r\n  },\r\n\r\n  { id: 8,\r\n    name: \"French Press\",\r\n    description: `Lying triceps extensions, also known as skull crushers and French extensions\r\n                  or French presses, are a strength exercise used in many different forms of strength training.\r\n                  Lying triceps extensions are one of the most stimulating exercises to the entire triceps muscle\r\n                  group in the upper arm. It works the triceps from the elbow all the way to the latissimus dorsi.\r\n                  Due to its full use of the Triceps muscle group, the lying triceps extensions are used by many\r\n                  as part of their training regimen.`,\r\n    difficulty: 1, \r\n    typeOfExercise: \"Isolated exercise\",\r\n    muscles: [\"Triceps\", \"Arms\"],\r\n    properFormLink: \"https://www.youtube.com/embed/JImgCWzCHwI\"\r\n  },\r\n\r\n  { id: 9,\r\n    name: \"Running\",\r\n    description: `Running is a method of terrestrial locomotion allowing humans and other animals\r\n                  to move rapidly on foot. Running is a type of gait characterized by an aerial phase in which\r\n                  all feet are above the ground (though there are exceptions). A feature of a running\r\n                  body from the viewpoint of spring-mass mechanics is that changes in kinetic and potential energy\r\n                  within a stride occur simultaneously, with energy storage accomplished by springy tendons and\r\n                  passive muscle elasticity. The term running can refer to any of a variety of speeds ranging from jogging to sprinting. `,\r\n    difficulty: 1, \r\n    typeOfExercise: \"Aerobic exercise\",\r\n    muscles: [\"Legs\", \"Core\"],\r\n    properFormLink: \"https://www.youtube.com/embed/brFHyOtTwH4\"\r\n  }\r\n]","import { React, useReducer, useEffect, useState } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { FaChevronCircleLeft, FaSave } from 'react-icons/fa';\r\nimport { exercises } from '../../exercisesList';\r\nimport '../../components/product_removing_window/styles/productRemovingWindow.css';\r\nimport '../../components/product_adding_window/styles/productAddingWindow.css';\r\n\r\n\r\nconst initialState = {\r\n  isCategoryOpened: false,\r\n  isAccountCategory: false,\r\n  isNutritionCategory: true,\r\n  isTrainingCategory: false,\r\n  settingsData: {\r\n    account: {\r\n\r\n    },\r\n\r\n    nutrition: {\r\n      dailyDemand: { kcal: 2000, proteins: 120, fats: 55, carbs: 240 },\r\n      namesOfMeals: { 0: \"Breakfast\", 1: \"II Breakfast\", 2: \"Lunch\", 3: \"Snack\", 4: \"Dinner\", 5: \"\", 6: \"\", 7: \"\", 8: \"\", 9: \"\" },\r\n      numberOfMeals: 5\r\n    },\r\n\r\n    training: {\r\n      selectedExercises: [0, 1, 2, 3, 5]\r\n    }\r\n  },\r\n  clearAllProducts: false,\r\n  clearAllSeries: false,\r\n  isSettingsChanged: false\r\n};\r\n\r\nconst ACTIONS = {\r\n  NEGATE_CATEGORY_OPENED: 'negate-category-opened',\r\n  CHANGE_SETTINGS_DATA: 'change-settings-data',\r\n  LOAD_SETTINGS: 'load-settings',\r\n  SET_CLEAR_ALL_PRODUCTS: 'set-clear-all-products',\r\n  SET_CLEAR_ALL_SERIES: 'set-clear-all-series',\r\n  ADD_EXERCISE_TO_SELECTEDEXERCISES: 'add-exercise-to-selectedexercises',\r\n  REMOVE_EXERCISE_FROM_SELECTEDEXERCISES: 'remove-exercise-from-selectedexercises',\r\n  SET_SETTINGS_CHANGED_STATE: 'set-settings-changed-state',\r\n  RESET_NUTRITION_SETTINGS_TO_INITIAL: 'reset-nutrition-settings-to-initial',\r\n  RESET_TRAINING_SETTINGS_TO_INITIAL: 'reset-training-settings-to-initial',\r\n  SET_CATEGORY: 'set-category'\r\n}\r\n\r\nexport default function Settings(props) {\r\n  const reducer = (state, action) => {\r\n    switch (action.type) {\r\n\r\n      case ACTIONS.NEGATE_CATEGORY_OPENED: {\r\n        return { ...state, isCategoryOpened: !state.isCategoryOpened }\r\n      }\r\n\r\n      case ACTIONS.CHANGE_SETTINGS_DATA: {\r\n        switch (action.payload.key) {\r\n\r\n          case 'editMealName': {\r\n            return {...state, \r\n              settingsData: { ...state.settingsData, \r\n              nutrition: {...state.settingsData.nutrition,\r\n              namesOfMeals: {...state.settingsData.nutrition.namesOfMeals, [action.payload.index]: action.payload.value }}}\r\n            };\r\n          };\r\n\r\n          case 'setMealsNumber': {\r\n            return {...state, \r\n              settingsData: { ...state.settingsData, \r\n              nutrition: {...state.settingsData.nutrition,\r\n              numberOfMeals: action.payload.value }}\r\n            };\r\n          };\r\n\r\n          default: return {...state, \r\n                           settingsData: { ...state.settingsData, \r\n                           nutrition: {...state.settingsData.nutrition, \r\n                           dailyDemand: {...state.settingsData.nutrition.dailyDemand, \r\n                           [action.payload.key]: action.payload.value }}}};\r\n        }\r\n      }\r\n\r\n      case ACTIONS.LOAD_SETTINGS: {\r\n        let newSettings = JSON.parse(localStorage.getItem(\"settings\"));\r\n        return {...state, settingsData: newSettings }\r\n      }\r\n\r\n      case ACTIONS.SET_CLEAR_ALL_PRODUCTS: {\r\n        return { ...state, clearAllProducts: action.payload };\r\n      }\r\n\r\n      case ACTIONS.SET_CLEAR_ALL_SERIES: {\r\n        return { ...state, clearAllSeries: action.payload };\r\n      }\r\n\r\n      case ACTIONS.ADD_EXERCISE_TO_SELECTEDEXERCISES: {\r\n        const updatedSelectedExercises = state.settingsData.training.selectedExercises;\r\n        updatedSelectedExercises.push(action.payload);\r\n\r\n        return {...state, \r\n          settingsData: { ...state.settingsData, \r\n          training: {...state.settingsData.training,\r\n          selectedExercises: updatedSelectedExercises }}\r\n        };\r\n      }\r\n\r\n      case ACTIONS.REMOVE_EXERCISE_FROM_SELECTEDEXERCISES: {\r\n        const updatedSelectedExercises = state.settingsData.training.selectedExercises;\r\n        const indexOfExerciseToRemoving = updatedSelectedExercises.indexOf(action.payload);\r\n        updatedSelectedExercises.splice(indexOfExerciseToRemoving, 1);\r\n\r\n        return {...state, \r\n          settingsData: { ...state.settingsData, \r\n          training: {...state.settingsData.training,\r\n          selectedExercises: updatedSelectedExercises }}\r\n        }\r\n      }\r\n\r\n      case ACTIONS.SET_SETTINGS_CHANGED_STATE: {\r\n        return { ...state, isSettingsChanged: action.payload };\r\n      }\r\n\r\n      case ACTIONS.RESET_NUTRITION_SETTINGS_TO_INITIAL: {\r\n        return { ...state, settingsData: { ...state.settingsData, nutrition: props.initialData.nutrition }};\r\n      }\r\n\r\n      case ACTIONS.RESET_TRAINING_SETTINGS_TO_INITIAL: {\r\n        console.log(state.settingsData.training.selectedExercises);\r\n        return { ...state, settingsData: { ...state.settingsData, training: props.initialData.training }};\r\n      }\r\n\r\n      case ACTIONS.SET_CATEGORY: {\r\n        let category = action.payload.category;\r\n        return { ...state, [category]: action.payload.value };\r\n      }\r\n\r\n      default: return console.error(`Unknown action type: ${action.type}`);\r\n    }\r\n  }\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n  const initialOptionsStates = {\r\n    'clear-all-products': false,\r\n    'reset-nutrition-to-initial': false,\r\n    'clear-all-series': false,\r\n    'reset-training-to-initial': false\r\n  };\r\n\r\n  const [optionsStates, setOptionsStates] = useState(initialOptionsStates);\r\n\r\n  // EFFECT WHICH CHECKS IS SETTINGS ARE SAVED IN LOCAL STORAGE\r\n  useEffect(() => {\r\n    if (Object.keys(localStorage).length !== 0)\r\n      dispatch({ type: ACTIONS.LOAD_SETTINGS });   \r\n    else\r\n      saveSettingsToLocalStorage(); \r\n\r\n  }, []);\r\n\r\n  // BACKGROUND EFFECTS\r\n  useEffect(() => {\r\n    const wrapper = document.querySelector(\"#root\");\r\n\r\n    wrapper.style.filter = \"blur(5px) opacity(40%) grayscale(100%)\";\r\n    wrapper.style.pointerEvents = \"none\";\r\n  \r\n    return (() => {\r\n      wrapper.style.filter = \"blur(0px) opacity(100%) grayscale(0%)\";\r\n      wrapper.style.pointerEvents = \"auto\";\r\n    })\r\n\r\n  }, []);\r\n\r\n  // WINDOW EFFECTS\r\n  useEffect(() => {\r\n    const settingsWindow = document.querySelector(\".window\");\r\n\r\n    if (state.clearAllProducts || state.clearAllSeries) {\r\n      settingsWindow.style.filter = \"blur(5px) opacity(40%) grayscale(100%)\";\r\n      settingsWindow.style.pointerEvents = \"none\";\r\n    }\r\n    else {\r\n      settingsWindow.style.filter = \"blur(0px) opacity(100%) grayscale(0%)\";\r\n      settingsWindow.style.pointerEvents = \"auto\";\r\n    }\r\n  }, [state.clearAllProducts, state.clearAllSeries]);\r\n\r\n  // DISABLES POINTER EVENTS WHEN ONE OF FORM WINDOWS IS OPENED \r\n  /*useEffect(() => {\r\n    const changePointerEvents = (value) => {\r\n      const meals = document.querySelectorAll(\".meal\");\r\n      const wrapper = document.querySelector(\".wrapper\");\r\n      const center = document.querySelector(\".center-section\");\r\n\r\n      meals.forEach(meal => {\r\n        let buttons = meal.querySelector(\".meal__buttons-section\");\r\n        buttons.style.pointerEvents = value;\r\n        wrapper.style.pointerEvents = value;\r\n\r\n        // DISABLING SCROLL AT CENTER SECTION \r\n        value === \"none\" ? center.style.overflowY = \"hidden\" : center.style.overflowY = \"auto\";\r\n      });\r\n    }\r\n\r\n    (state.clearAllProducts || state.clearAllSeries)\r\n    ? changePointerEvents(\"none\")\r\n    : changePointerEvents(\"auto\");\r\n    \r\n  }, [ state.clearAllProducts, state.clearAllSeries ]);\r\n*/\r\n  // EFFECT WHICH CHECKS IS SETTINGS ARE CHANGED\r\n  useEffect(() => {\r\n    const localStorageSettings = localStorage.getItem(\"settings\");\r\n    const currentSettings = JSON.stringify(state.settingsData);\r\n    if (localStorageSettings === currentSettings)\r\n      dispatch({ type: ACTIONS.SET_SETTINGS_CHANGED_STATE, payload: false });\r\n    else\r\n      dispatch({ type: ACTIONS.SET_SETTINGS_CHANGED_STATE, payload: true});\r\n\r\n  }, [ state.settingsData ]);\r\n\r\n  useEffect(() => {\r\n    for (let i = 0; i < Object.keys(optionsStates).length; i++) {\r\n      if (Object.values(optionsStates)[i] === true) {\r\n        dispatch({ type: ACTIONS.SET_SETTINGS_CHANGED_STATE, payload: true });\r\n        break;\r\n      }\r\n      else {\r\n        dispatch({ type: ACTIONS.SET_SETTINGS_CHANGED_STATE, payload: false });\r\n      }\r\n    };\r\n  }, [optionsStates]);\r\n\r\n\r\n  const handleOpening = () => {\r\n    dispatch({ type: ACTIONS.NEGATE_CATEGORY_OPENED });\r\n  }\r\n\r\n  const resetOptionsStates = () => {\r\n    Object.keys(optionsStates).forEach(key => {\r\n      optionsStates[key] = false;\r\n    });\r\n  }\r\n\r\n  const saveSettingsToLocalStorage = () => {\r\n    localStorage.setItem(\"settings\", JSON.stringify(state.settingsData));\r\n  }\r\n\r\n  const restoreSettingFromLocalStorage = () => {\r\n    dispatch({ type: ACTIONS.LOAD_SETTINGS });\r\n  }\r\n\r\n  const confirmClearAllProducts = () => {\r\n    dispatch({ type: ACTIONS.SET_CLEAR_ALL_PRODUCTS, payload: false });\r\n\r\n    Object.keys(localStorage).forEach(key => {\r\n      let value = JSON.parse(localStorage.getItem(key));\r\n      if (value.mealId >= 0)\r\n        localStorage.removeItem(key);\r\n    });\r\n  }\r\n\r\n  const cancelClearAllProducts = () => {\r\n    dispatch({ type: ACTIONS.SET_CLEAR_ALL_PRODUCTS, payload: false });\r\n  }\r\n\r\n  const confirmClearAllSeries = () => {\r\n    dispatch({ type: ACTIONS.SET_CLEAR_ALL_SERIES, payload: false });\r\n\r\n    Object.keys(localStorage).forEach(key => {\r\n      let value = JSON.parse(localStorage.getItem(key));\r\n      if (value.exerciseId >= 0)\r\n        localStorage.removeItem(key);\r\n    });\r\n  }\r\n\r\n  const cancelClearAllSeries = () => {\r\n    dispatch({ type: ACTIONS.SET_CLEAR_ALL_SERIES, payload: false });\r\n  }\r\n\r\n  const handleBackToPreviousPage = () => {\r\n    props.changePageTitle(props.previousPage);\r\n  }\r\n\r\n  const handleSettingsSaved = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (optionsStates['clear-all-products'])\r\n      dispatch({ type: ACTIONS.SET_CLEAR_ALL_PRODUCTS, payload: true });\r\n    if (optionsStates['reset-nutrition-to-initial'])\r\n      dispatch({ type: ACTIONS.RESET_NUTRITION_SETTINGS_TO_INITIAL });\r\n    if (optionsStates['clear-all-series'])\r\n      dispatch({ type: ACTIONS.SET_CLEAR_ALL_SERIES, payload: true });\r\n    if (optionsStates['reset-training-to-initial'])\r\n      dispatch({ type: ACTIONS.RESET_TRAINING_SETTINGS_TO_INITIAL });\r\n\r\n    dispatch({ type: ACTIONS.SET_SETTINGS_CHANGED_STATE, payload: false });\r\n    saveSettingsToLocalStorage();\r\n    resetOptionsStates();\r\n    props.updateGauges();\r\n  }\r\n\r\n  const handleSettingsCanceled = (e) => {\r\n    e.preventDefault();\r\n    restoreSettingFromLocalStorage();\r\n    resetOptionsStates();\r\n    props.updateGauges();\r\n    handleBackToPreviousPage();\r\n  }\r\n\r\n  const handleSettingsReset = (e) => {\r\n    e.preventDefault();\r\n    restoreSettingFromLocalStorage();\r\n    resetOptionsStates();\r\n    props.updateGauges();\r\n  }\r\n\r\n  const handleExerciseChoosing = (e) => {\r\n    if (e.target.style.backgroundColor) {\r\n      if (e.target.style.backgroundColor === \"transparent\")\r\n        dispatch({ type: ACTIONS.ADD_EXERCISE_TO_SELECTEDEXERCISES, payload: Number(e.target.id[e.target.id.length - 1]) });\r\n      else\r\n        dispatch({ type: ACTIONS.REMOVE_EXERCISE_FROM_SELECTEDEXERCISES, payload: Number(e.target.id[e.target.id.length - 1]) });\r\n    }\r\n\r\n    else {\r\n      if (e.target.children[0].style.backgroundColor === \"transparent\")\r\n        dispatch({ type: ACTIONS.ADD_EXERCISE_TO_SELECTEDEXERCISES, payload: Number(e.target.id[e.target.id.length - 1]) });\r\n      else\r\n        dispatch({ type: ACTIONS.REMOVE_EXERCISE_FROM_SELECTEDEXERCISES, payload: Number(e.target.id[e.target.id.length - 1]) });\r\n    }\r\n  }\r\n\r\n  const handleSettingOnChange = (e) => {\r\n    const isNumber = /[0-9]/;\r\n    const isZero = /^[0]{1}/;\r\n\r\n    e.preventDefault();\r\n  \r\n    if (e.target.id === 'editMealName') {\r\n      dispatch({ type: ACTIONS.CHANGE_SETTINGS_DATA, payload: { key: e.target.id, index: Number(e.target.attributes[\"data-key\"].value), value: e.target.value }})\r\n    }\r\n    \r\n    if (isNumber.test(e.target.value[e.target.value.length - 1])) {\r\n\r\n      if (isZero.test(e.target.value))\r\n        dispatch({ type: ACTIONS.CHANGE_SETTINGS_DATA, payload: { key: e.target.id, value: 1 }});\r\n      else\r\n        dispatch({ type: ACTIONS.CHANGE_SETTINGS_DATA, payload: { key: e.target.id, value: e.target.value }});\r\n    }\r\n\r\n    else\r\n      dispatch({ type: ACTIONS.CHANGE_SETTINGS_DATA, payload: { key: e.target.id, value: \"\" }});\r\n\r\n    props.updateGauges();\r\n  }\r\n\r\n  const handleCheckboxOnClick = (e) => {\r\n    setOptionsStates(prevOptions => { return {...prevOptions, [e.target.id]: !optionsStates[e.target.id]} });\r\n  }\r\n  \r\n  const handleCategorySwitch = (e) => {\r\n    e.preventDefault();\r\n    dispatch({type: ACTIONS.SET_CATEGORY, payload: { category: 'isAccountCategory', value: false }});\r\n    dispatch({type: ACTIONS.SET_CATEGORY, payload: { category: 'isNutritionCategory', value: false }});\r\n    dispatch({type: ACTIONS.SET_CATEGORY, payload: { category: 'isTrainingCategory', value: false }});\r\n    dispatch({type: ACTIONS.SET_CATEGORY, payload: { category: e.target.id, value: true }});\r\n    restoreSettingFromLocalStorage();\r\n    resetOptionsStates();\r\n  }\r\n\r\n  return ReactDOM.createPortal (\r\n    <>\r\n    <div className=\"window\">\r\n      <header className=\"window__header\">\r\n          \r\n        <h2 className=\"window__header__heading\">Settings</h2>\r\n\r\n        <button className=\"window__header__back-button\" onClick={ handleSettingsCanceled }><FaChevronCircleLeft /></button>        \r\n        <button className=\"window__header__switch\">\r\n          <h3 \r\n            className={ state.isAccountCategory \r\n                        ? \"window__header__switch__left window__header__switch__left--selected\"\r\n                        : \"window__header__switch__left\" }\r\n            id=\"isAccountCategory\"\r\n            onClick={ handleCategorySwitch }>\r\n            Account\r\n          </h3>\r\n\r\n          <h3 \r\n            className={ state.isNutritionCategory\r\n                        ? \"window__header__switch__center window__header__switch__center--selected\"  \r\n                        : \"window__header__switch__center\" }\r\n            id=\"isNutritionCategory\"\r\n            onClick={ handleCategorySwitch }>\r\n            Nutrition        \r\n          </h3>\r\n          \r\n          <h3 \r\n            className={ state.isTrainingCategory  \r\n                        ? \"window__header__switch__right window__header__switch__right--selected\"  \r\n                        : \"window__header__switch__right\" }\r\n            id=\"isTrainingCategory\"\r\n            onClick={ handleCategorySwitch }>\r\n            Training\r\n          </h3>\r\n        </button>\r\n\r\n      </header>\r\n\r\n      <main className=\"window__form\">\r\n        { state.isAccountCategory &&\r\n          <form className=\"window__main window__main--add\" onSubmit={ handleSettingsSaved }>\r\n          \r\n            <button \r\n              className={ state.isSettingsChanged\r\n                          ? \"window__header__add-button\"\r\n                          : \"window__header__add-button window__header__add-button--disabled\" }\r\n              type=\"submit\"\r\n              style={{ zIndex: 11 }}\r\n              disabled={ state.isSettingsChanged ? false : true }><FaSave />\r\n            </button>\r\n            \r\n            <section className=\"window__main__section window__main__section--form\">\r\n              <h3 className=\"window__main__section__title\">Account</h3> \r\n            </section>\r\n\r\n            <section className=\"window__bottom\">\r\n\r\n              <button \r\n                  className={\r\n                    state.isSettingsChanged\r\n                    ? \"window__bottom__tertiary-button\"\r\n                    : \"window__bottom__tertiary-button window__bottom__tertiary-button--disabled\"\r\n                  } \r\n                  type=\"button\"\r\n                  onClick={ handleSettingsReset }\r\n                  disabled={ state.isSettingsChanged ? false : true }>\r\n                  Reset\r\n              </button>\r\n\r\n              <div>\r\n                <button \r\n                  className=\"window__bottom__secondary-button\"\r\n                  type=\"button\" \r\n                  onClick={ handleSettingsCanceled }>\r\n                  Cancel\r\n                </button>\r\n\r\n                <button \r\n                  className={\r\n                    state.isSettingsChanged\r\n                    ? \"window__bottom__primary-button\"\r\n                    : \"window__bottom__primary-button window__bottom__primary-button--disabled\" \r\n                  }\r\n                  type=\"submit\"\r\n                  id=\"saveSettings\"\r\n                  value=\"Save\"\r\n                  disabled={ state.isSettingsChanged ? false : true }>\r\n                  Save\r\n                </button>\r\n              </div>\r\n\r\n          </section>\r\n          </form>\r\n        }\r\n\r\n        { state.isNutritionCategory &&\r\n          <form className=\"window__main window__main--add\" onSubmit={ handleSettingsSaved }>\r\n            \r\n            <button \r\n              className={ state.isSettingsChanged\r\n                          ? \"window__header__add-button\"\r\n                          : \"window__header__add-button window__header__add-button--disabled\" }\r\n              type=\"submit\"\r\n              style={{ zIndex: 11 }}\r\n              disabled={ state.isSettingsChanged ? false : true }><FaSave />\r\n            </button>\r\n            \r\n            <section className=\"window__main__section window__main__section--form\">\r\n              <h3 className=\"window__main__section__title\">Daily demand</h3>\r\n\r\n              <div className=\"window__main__input-line\">\r\n                <label className=\"window__main__input-line__label\" htmlFor=\"proteins\">Proteins</label>\r\n                <input\r\n                  className=\"window__main__input-line__input\"  \r\n                  type=\"text\" \r\n                  id=\"proteins\"\r\n                  value={ state.settingsData.nutrition.dailyDemand.proteins } \r\n                  onChange={ handleSettingOnChange }\r\n                  //placeholder={ props.warning[1] === 'proteins' ? props.warning[0] : null }\r\n                  maxLength=\"4\">\r\n                </input>\r\n                <span className=\"window__main__input-line__unit\">g</span>\r\n              </div>\r\n\r\n              <div className=\"window__main__input-line\">\r\n                <label className=\"window__main__input-line__label\" htmlFor=\"fats\">Fats</label>\r\n                <input\r\n                  className=\"window__main__input-line__input\"  \r\n                  type=\"text\" \r\n                  id=\"fats\"\r\n                  value={ state.settingsData.nutrition.dailyDemand.fats } \r\n                  onChange={ handleSettingOnChange }\r\n                  //placeholder={ props.warning[1] === 'fats' ? props.warning[0] : null }\r\n                  maxLength=\"4\">\r\n                </input>\r\n                <span className=\"window__main__input-line__unit\">g</span>\r\n              </div>\r\n\r\n              <div className=\"window__main__input-line\">\r\n                <label className=\"window__main__input-line__label\" htmlFor=\"carbs\">Carbohydrates</label>\r\n                <input\r\n                  className=\"window__main__input-line__input\"  \r\n                  type=\"text\" \r\n                  id=\"carbs\"\r\n                  value={ state.settingsData.nutrition.dailyDemand.carbs } \r\n                  onChange={ handleSettingOnChange }\r\n                  //placeholder={ props.warning[1] === 'carbs' ? props.warning[0] : null }\r\n                  maxLength=\"4\">\r\n                </input>\r\n                <span className=\"window__main__input-line__unit\">g</span>\r\n              </div>\r\n\r\n              <div className=\"window__main__input-line\">\r\n                <label className=\"window__main__input-line__label\" htmlFor=\"kcal\">Calories</label>\r\n                <input\r\n                  className=\"window__main__input-line__input\"  \r\n                  type=\"text\" \r\n                  id=\"kcal\"\r\n                  value={ state.settingsData.nutrition.dailyDemand.kcal } \r\n                  onChange={ handleSettingOnChange }\r\n                  //placeholder={ props.warning[1] === 'kcal' ? props.warning[0] : null }\r\n                  maxLength=\"4\">\r\n                </input>\r\n                <span className=\"window__main__input-line__unit\">kcal</span>\r\n              </div>\r\n            </section>\r\n\r\n            <section className=\"window__main__section window__main__section--form\">\r\n              <h3 className=\"window__main__section__title\">Meals</h3>\r\n\r\n              <div className=\"window__main__input-line\">\r\n                <label className=\"window__main__input-line__label\" htmlFor=\"setMealsNumber\">Number of meals</label>\r\n                <input\r\n                  className=\"window__main__input-line__input\"  \r\n                  type=\"text\" \r\n                  id=\"setMealsNumber\"\r\n                  value={ state.settingsData.nutrition.numberOfMeals } \r\n                  onChange={ handleSettingOnChange }\r\n                  //placeholder={ props.warning[1] === 'proteins' ? props.warning[0] : null }\r\n                  maxLength=\"1\">\r\n                </input>\r\n                <span className=\"window__main__input-line__unit\">meals</span>\r\n              </div>\r\n              \r\n              { Object.values(state.settingsData.nutrition.namesOfMeals).map((meal, index) => {\r\n                if (state.settingsData.nutrition.numberOfMeals > index) {\r\n                  return (\r\n                    <div key={ index } className=\"window__main__input-line\">\r\n                      <label className=\"window__main__input-line__label\" htmlFor=\"editMealName\">{`Set meal nr ${ index + 1 } name`}</label>\r\n                      <input \r\n                        className=\"window__main__input-line__input\"\r\n                        data-key={ index } \r\n                        type=\"text\" \r\n                        id=\"editMealName\"\r\n                        value={ state.settingsData.nutrition.namesOfMeals[index] } \r\n                        onChange={ handleSettingOnChange }\r\n                        required>\r\n                      </input>\r\n                    </div>\r\n                  ) \r\n                }\r\n\r\n                else {\r\n                  return (\r\n                    null\r\n                  )\r\n                }\r\n              })}\r\n            </section>\r\n\r\n            <section className=\"window__main__section window__main__section--form\">\r\n              <h3 className=\"window__main__section__title\">Options</h3>\r\n\r\n              <div className=\"window__main__input-line\">\r\n                <label className=\"window__main__input-line__label window__main__input-line__label--checkbox\" htmlFor=\"clearAllProducts\">Clear all products</label>\r\n                <button \r\n                  className=\"window__main__input-line__checkbox\"\r\n                  id=\"clear-all-products\"\r\n                  type=\"button\"\r\n                  onClick={ handleCheckboxOnClick }>\r\n                  <div \r\n                    className=\"window__main__input-line__checkbox__background\" \r\n                    id=\"clear-all-products\"\r\n                    style={ optionsStates[\"clear-all-products\"] ? {backgroundColor: \"#7500AF\"} : {backgroundColor: \"transparent\"} }>\r\n                  </div>\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"window__main__input-line\">\r\n                <label className=\"window__main__input-line__label window__main__input-line__label--checkbox\" htmlFor=\"resetNutritionSettingsToInitial\">Reset nutrition settings to initial</label>\r\n                <button \r\n                  className=\"window__main__input-line__checkbox\"\r\n                  id=\"reset-nutrition-to-initial\"\r\n                  type=\"button\"\r\n                  onClick={ handleCheckboxOnClick }>\r\n                  <div \r\n                    className=\"window__main__input-line__checkbox__background\" \r\n                    id=\"reset-nutrition-to-initial\"\r\n                    style={ optionsStates[\"reset-nutrition-to-initial\"] ? {backgroundColor: \"#7500AF\"} : {backgroundColor: \"transparent\"} }>\r\n                  </div>\r\n                </button>\r\n              </div>\r\n            \r\n            </section>\r\n\r\n            <section className=\"window__bottom\">\r\n\r\n              <button \r\n                  className={\r\n                    state.isSettingsChanged\r\n                    ? \"window__bottom__tertiary-button\"\r\n                    : \"window__bottom__tertiary-button window__bottom__tertiary-button--disabled\"\r\n                  } \r\n                  type=\"button\"\r\n                  onClick={ handleSettingsReset }\r\n                  disabled={ state.isSettingsChanged ? false : true }>\r\n                  Reset\r\n              </button>\r\n\r\n              <div>\r\n                <button \r\n                  className=\"window__bottom__secondary-button\"\r\n                  type=\"button\" \r\n                  onClick={ handleSettingsCanceled }>\r\n                  Cancel\r\n                </button>\r\n\r\n                <button \r\n                  className={\r\n                    state.isSettingsChanged\r\n                    ? \"window__bottom__primary-button\"\r\n                    : \"window__bottom__primary-button window__bottom__primary-button--disabled\" \r\n                  }\r\n                  type=\"submit\"\r\n                  id=\"saveSettings\"\r\n                  value=\"Save\"\r\n                  disabled={ state.isSettingsChanged ? false : true }>\r\n                  Save\r\n                </button>\r\n              </div>\r\n\r\n          </section>\r\n          </form>\r\n        }\r\n\r\n        { state.isTrainingCategory &&\r\n          <form className=\"window__main window__main--add\" onSubmit={ handleSettingsSaved }>\r\n          \r\n            <button \r\n              className={ state.isSettingsChanged\r\n                          ? \"window__header__add-button\"\r\n                          : \"window__header__add-button window__header__add-button--disabled\" }\r\n              type=\"submit\"\r\n              style={{ zIndex: 11 }}\r\n              disabled={ state.isSettingsChanged ? false : true }><FaSave />\r\n            </button>\r\n            \r\n            <section className=\"window__main__section window__main__section--form\">\r\n              \r\n              <h3 className=\"window__main__section__title\">Exercises</h3>\r\n              \r\n              { exercises.map(exercise => {\r\n                  return (\r\n                    <div key={ exercise.id } className=\"window__main__input-line\">\r\n                      <label className=\"window__main__input-line__label window__main__input-line__label--checkbox\" htmlFor={\"exercise\"+ exercise.id }>{ exercise.name }</label>\r\n                      <button \r\n                        className=\"window__main__input-line__checkbox\"\r\n                        id={\"exercise\"+ exercise.id }\r\n                        type=\"button\"\r\n                        onClick={ handleExerciseChoosing }>\r\n                        <div \r\n                          className=\"window__main__input-line__checkbox__background\" \r\n                          id={\"exercise\"+ exercise.id }\r\n                          style={ state.settingsData.training.selectedExercises.includes(exercise.id) ? {backgroundColor: \"#7500AF\"} : {backgroundColor: \"transparent\"} }>\r\n                        </div>\r\n                      </button>\r\n                    </div>\r\n                  )}) \r\n                }\r\n\r\n            </section>\r\n\r\n            <section className=\"window__main__section window__main__section--form\">\r\n              <h3 className=\"window__main__section__title\">Options</h3>\r\n\r\n              <div className=\"window__main__input-line\">\r\n                <label className=\"window__main__input-line__label window__main__input-line__label--checkbox\" htmlFor=\"clear-all-series\">Clear all series</label>\r\n                <button \r\n                  className=\"window__main__input-line__checkbox\"\r\n                  id=\"clear-all-series\"\r\n                  type=\"button\"\r\n                  onClick={ handleCheckboxOnClick }>\r\n                  <div \r\n                    className=\"window__main__input-line__checkbox__background\" \r\n                    id=\"clear-all-series\"\r\n                    style={ optionsStates[\"clear-all-series\"] ? {backgroundColor: \"#7500AF\"} : {backgroundColor: \"transparent\"} }>\r\n                  </div>\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"window__main__input-line\">\r\n                <label className=\"window__main__input-line__label window__main__input-line__label--checkbox\" htmlFor=\"reset-training-to-initial\">Reset training settings to initial</label>\r\n                <button \r\n                  className=\"window__main__input-line__checkbox\"\r\n                  id=\"reset-training-to-initial\"\r\n                  type=\"button\"\r\n                  onClick={ handleCheckboxOnClick }>\r\n                  <div \r\n                    className=\"window__main__input-line__checkbox__background\" \r\n                    id=\"reset-training-to-initial\"\r\n                    style={ optionsStates[\"reset-training-to-initial\"] ? {backgroundColor: \"#7500AF\"} : {backgroundColor: \"transparent\"} }>\r\n                  </div>\r\n                </button>\r\n              </div>\r\n            \r\n            </section>\r\n\r\n            <section className=\"window__bottom\">\r\n\r\n              <button \r\n                  className={\r\n                    state.isSettingsChanged\r\n                    ? \"window__bottom__tertiary-button\"\r\n                    : \"window__bottom__tertiary-button window__bottom__tertiary-button--disabled\"\r\n                  } \r\n                  type=\"button\"\r\n                  onClick={ handleSettingsReset }\r\n                  disabled={ state.isSettingsChanged ? false : true }>\r\n                  Reset\r\n              </button>\r\n\r\n              <div>\r\n                <button \r\n                  className=\"window__bottom__secondary-button\"\r\n                  type=\"button\" \r\n                  onClick={ handleSettingsCanceled }>\r\n                  Cancel\r\n                </button>\r\n\r\n                <button \r\n                  className={\r\n                    state.isSettingsChanged\r\n                    ? \"window__bottom__primary-button\"\r\n                    : \"window__bottom__primary-button window__bottom__primary-button--disabled\" \r\n                  }\r\n                  type=\"submit\"\r\n                  id=\"saveSettings\"\r\n                  value=\"Save\"\r\n                  disabled={ state.isSettingsChanged ? false : true }>\r\n                  Save\r\n                </button>\r\n              </div>\r\n\r\n          </section>\r\n          </form>\r\n        }\r\n      </main>\r\n    </div>\r\n\r\n    { state.clearAllSeries && \r\n      <section className=\"window window--login\">\r\n        <header className=\"window__header\">\r\n          <h2 className=\"window__header__heading\">Clear all?</h2> \r\n        </header>\r\n\r\n        <main className=\"window__main\">\r\n          <h3 className=\"window__main__message\">Are you sure you want to clear all series?</h3>\r\n        </main>\r\n\r\n        <section className=\"window__bottom\">\r\n          <button className=\"window__bottom__secondary-button\" onClick={ cancelClearAllSeries }>Cancel</button>\r\n          <button className=\"window__bottom__primary-button\" onClick={ confirmClearAllSeries }>Remove</button>\r\n        </section>\r\n      </section>\r\n    }\r\n\r\n    { state.clearAllProducts &&\r\n      <section className=\"window window--login\">\r\n        <header className=\"window__header\">\r\n          <h2 className=\"window__header__heading\">Clear all?</h2> \r\n        </header>\r\n\r\n        <main className=\"window__main\">\r\n          <h3 className=\"window__main__message\">Are you sure you want to clear all products?</h3>\r\n        </main>\r\n\r\n        <section className=\"window__bottom\">\r\n          <button className=\"window__bottom__secondary-button\" onClick={ cancelClearAllProducts }>Cancel</button>\r\n          <button className=\"window__bottom__primary-button\" onClick={ confirmClearAllProducts }>Remove</button>\r\n        </section>\r\n      </section>\r\n    }\r\n\r\n    </>,\r\n    document.getElementById(\"portal\")\r\n  )\r\n}","export default __webpack_public_path__ + \"static/media/logo.92f8fff8.png\";","import { React, useEffect} from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { FaChevronCircleLeft } from 'react-icons/fa';\r\nimport logo from '../../logo.png';\r\n\r\nexport default function About({ previousPage, changePageTitle }) {\r\n\r\n  // BACKGROUND EFFECTS\r\n  useEffect(() => {\r\n    const wrapper = document.querySelector(\"#root\");\r\n\r\n    wrapper.style.filter = \"blur(5px) opacity(40%) grayscale(100%)\";\r\n    wrapper.style.pointerEvents = \"none\";\r\n\r\n    return (() => {\r\n      wrapper.style.filter = \"blur(0px) opacity(100%) grayscale(0%)\";\r\n      wrapper.style.pointerEvents = \"auto\";\r\n    })\r\n\r\n  }, []);\r\n\r\n  const handleBackToPreviousPage = (e) => {\r\n    e.preventDefault();\r\n    changePageTitle(previousPage);\r\n  }\r\n\r\n  return ReactDOM.createPortal (\r\n    <div className=\"window\">\r\n\r\n      <header className=\"window__header\">\r\n        <h2 className=\"window__header__heading\">About</h2>\r\n        <button className=\"window__header__back-button\" onClick={ handleBackToPreviousPage }><FaChevronCircleLeft /></button>\r\n      </header>\r\n\r\n      <main className=\"window__main\">\r\n        <section className=\"window__main__section\">\r\n          <img className=\"window__main__section__logo\" src={ logo } alt=\"Dietapp logo\"></img>\r\n          <h1 className=\"left-section__logo-container__title\">Diet\r\n            <span className=\"left-section__logo-container__title__right\">app</span>\r\n          </h1>\r\n        </section>\r\n        <section className=\"window__main__section\"> \r\n          <h3 className=\"window__main__section__title\">Info</h3>\r\n          <p className=\"window__main__section__text\">The Dietapp is a complex nutrition and training organizer.\r\n           Made to improve my skills in creating web apps using React,\r\n           React Hooks, SCSS and Firebase.</p>\r\n        </section>\r\n\r\n        <section className=\"window__main__section\"> \r\n          <h3 className=\"window__main__section__title\">Features</h3>\r\n          <p className=\"window__main__section__text\">You can manually set your daily demand as well as your exercises\r\n           which you are doing on training. An app saves data you entered\r\n           and makes a several operations on these like counting macronutrients,\r\n           progression made in training, or just storing these for any time you want.</p>\r\n        </section>\r\n\r\n        <section className=\"window__main__section\"> \r\n          <h3 className=\"window__main__section__title\">Idea</h3>\r\n          <p className=\"window__main__section__text\">Whole idea of the app is about my main hobby which are dietetics and\r\n           bodybuilding. After 3 years of being a fit, I have included the most useful\r\n           features to control your fit life.</p>\r\n        </section>\r\n\r\n        <section className=\"window__main__section\" style={{ marginTop: \"40px\" }}>\r\n          <h3 className=\"window__main__section__title\">© 2021 Karol Jurczyński</h3>\r\n        </section>\r\n      </main>\r\n\r\n      <section className=\"window__bottom\">\r\n        <div></div>\r\n        <button className=\"window__bottom__primary-button\" type=\"button\" onClick={ handleBackToPreviousPage }>Back</button>\r\n      </section>\r\n    </div>,\r\n\r\n    document.getElementById('portal')\r\n  )\r\n}","import { React, useReducer } from 'react';\r\nimport '../styles/window/window.css';\r\nimport '../styles/confirm_window/confirm_window.css';\r\nimport { FaChevronCircleLeft, FaChevronCircleRight } from 'react-icons/fa';\r\n\r\nconst initialState = {\r\n  isSignUpWindow: false\r\n}\r\n\r\nconst ACTIONS = {\r\n  NEGATE_SIGN_UP_WINDOW: 'negate-sign-up-window'\r\n}\r\n\r\nexport default function Login({ isLogout, setUserStatus, disableLoginWindows }) {\r\n  const reducer = (state, action) => {\r\n\r\n    switch (action.type) {\r\n      case ACTIONS.NEGATE_SIGN_UP_WINDOW: {\r\n        return { ...state, isSignUpWindow: !state.isSignUpWindow }\r\n      }\r\n    }\r\n  }\r\n  \r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  const handleFormTypeChanging = (e) => {\r\n    e.preventDefault();\r\n    dispatch({ type: ACTIONS.NEGATE_SIGN_UP_WINDOW });\r\n  }\r\n\r\n  const handleTryAsGuest = (e) => {\r\n    e.preventDefault();\r\n    setUserStatus(\"Guest\");\r\n    disableLoginWindows();\r\n  }\r\n\r\n  const handleLoginUser = (e) => {\r\n    e.preventDefault();\r\n    setUserStatus(\"Logged\");\r\n    disableLoginWindows();\r\n  }\r\n\r\n  const handleLogoutUser = (e) => {\r\n    e.preventDefault();\r\n    setUserStatus(\"Log in\");\r\n    disableLoginWindows();\r\n  }\r\n\r\n  const handleCancel = (e) => {\r\n    e.preventDefault();\r\n    disableLoginWindows();\r\n  }\r\n\r\n  return (\r\n    <>\r\n    { isLogout \r\n      ? <div className=\"window window--logout\">\r\n          <header className=\"window__header\">\r\n\r\n            <h2 className=\"window__header__heading\">Log out?</h2>\r\n\r\n            <button \r\n              className=\"window__header__back-button\"\r\n              type=\"button\"\r\n              onClick={ handleLoginUser}\r\n              style={{ zIndex: 11 }}><FaChevronCircleLeft />\r\n            </button>\r\n\r\n            <button \r\n              className=\"window__header__add-button\"\r\n              type=\"button\"\r\n              onClick={ handleLogoutUser }\r\n              style={{ zIndex: 11 }}><FaChevronCircleRight />\r\n            </button>\r\n\r\n\r\n          </header>\r\n\r\n          <main className=\"window__main\">\r\n\r\n            <h3 className=\"window__main__section__title\">Confirm</h3>\r\n            <p className=\"window__main__message\">Are you sure you want to log out?</p>\r\n\r\n          </main>\r\n\r\n          <section className=\"window__bottom\">\r\n\r\n            <button className=\"window__bottom__secondary-button\" type=\"button\" onClick={ handleLoginUser }>Cancel</button>\r\n            <button className=\"window__bottom__primary-button\" type=\"button\" onClick={ handleLogoutUser }>Log out</button>\r\n\r\n          </section>\r\n        </div>\r\n\r\n      : <div className=\"window window--login\">\r\n          <header className=\"window__header\">\r\n\r\n            <h2 className=\"window__header__heading\">{ state.isSignUpWindow ? \"Sign up\" : \"Log in\"}</h2>\r\n            \r\n            <button \r\n              className=\"window__header__back-button\"\r\n              type=\"button\"\r\n              onClick={ handleCancel }\r\n              style={{ zIndex: 11 }}><FaChevronCircleLeft />\r\n            </button>\r\n\r\n            <button \r\n              className=\"window__header__add-button\"\r\n              type=\"submit\"\r\n              onClick={ handleLoginUser }\r\n              style={{ zIndex: 11 }}><FaChevronCircleRight />\r\n            </button>\r\n          \r\n          </header>\r\n\r\n          { state.isSignUpWindow\r\n            ? <main className=\"window__main\">\r\n\r\n                <span className=\"window__main__input-line\">\r\n                  <label className=\"window__main__input-line__label\" htmlFor=\"login\">Login</label>\r\n                  <input className=\"window__main__input-line__input\" type=\"text\" id=\"login\" placeholder=\"Login\"></input>\r\n                </span>\r\n\r\n                <span className=\"window__main__input-line\">\r\n                  <label className=\"window__main__input-line__label\" htmlFor=\"email\">Email</label>\r\n                  <input className=\"window__main__input-line__input\" type=\"email\" id=\"email\" placeholder=\"Email\"></input>\r\n                </span>\r\n\r\n                <span className=\"window__main__input-line\">\r\n                  <label className=\"window__main__input-line__label\" htmlFor=\"password\">Password</label>\r\n                  <input className=\"window__main__input-line__input\" type=\"password\" id=\"password\" placeholder=\"Password\"></input>\r\n                </span>\r\n\r\n                <span className=\"window__main__input-line\">\r\n                  <label className=\"window__main__input-line__label\" htmlFor=\"confirmPassword\">Confirm Password</label>\r\n                  <input className=\"window__main__input-line__input\" type=\"password\" id=\"confirmPassword\" placeholder=\"Password\"></input>\r\n                </span>\r\n\r\n                <section className=\"window__main__login-options\">\r\n                  <span className=\"window__main__login-options__line\">{`Already had an account? `}\r\n                    <a className=\"window__main__login-options__line__link\" onClick={ handleFormTypeChanging } href=\"\">Log in</a>\r\n                  </span>\r\n\r\n                  <span className=\"window__main__login-options__line\">{`or `}\r\n                    <a className=\"window__main__login-options__line__link\" onClick={ handleTryAsGuest } href=\"\">Try as guest</a>\r\n                  </span>\r\n                </section>\r\n\r\n                </main>\r\n\r\n            : <main className=\"window__main\">\r\n\r\n                <span className=\"window__main__input-line\">\r\n                  <label className=\"window__main__input-line__label\" htmlFor=\"login\">Login</label>\r\n                  <input className=\"window__main__input-line__input\" type=\"text\" id=\"login\" placeholder=\"Login\"></input>\r\n                </span>\r\n\r\n                <span className=\"window__main__input-line\">\r\n                  <label className=\"window__main__input-line__label\" htmlFor=\"password\">Password</label>\r\n                  <input className=\"window__main__input-line__input\" type=\"password\" id=\"password\" placeholder=\"Password\"></input>\r\n                  <a className=\"window__main__input-line__link\" href=\"\">Forgot your password?</a>\r\n                </span>\r\n\r\n                <section className=\"window__main__login-options\">\r\n                  <span className=\"window__main__login-options__line\">{`Don't have an account? `}\r\n                    <a className=\"window__main__login-options__line__link\" onClick={ handleFormTypeChanging } href=\"\">Sign up</a>\r\n                  </span>\r\n\r\n                  <span className=\"window__main__login-options__line\">{`or `}\r\n                    <a className=\"window__main__login-options__line__link\" onClick={ handleTryAsGuest } href=\"\">Try as guest</a>\r\n                  </span>\r\n                </section>\r\n\r\n                </main>\r\n          }\r\n          \r\n          <section className=\"window__bottom\">\r\n            <button className=\"window__bottom__secondary-button\" type=\"button\" onClick={ handleCancel }>Cancel</button>\r\n            <button className=\"window__bottom__primary-button\" type=\"submit\" onClick={ handleLoginUser }>{ state.isSignUpWindow ? \"Sign up\" : \"Log in\"}</button>\r\n          </section>\r\n        </div>\r\n    }\r\n    </>\r\n  )\r\n}","// IMPORTS\n\nimport { React, useReducer, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { Logo, Title, Hamburger, MenuItem, Quotation } from './components/left/left';\nimport DateChanger from './components/center/DateChanger';\nimport Meal from './components/meal/Meal';\nimport Gauge from './components/right/Gauge';\nimport Exercise from './components/exercise/Exercise';\nimport Settings from './components/settings/Settings';\nimport About from './components/about/About';\nimport Login from './components/login/Login';\nimport { exercises } from './exercisesList';\n\nimport './styles/index/index.css';\nimport './components/left/styles/left.css';\nimport './components/center/styles/center.css';\nimport './components/right/styles/right.css';\n\n\n// GLOBALS\n\nconst ACTIONS = {\n  UPDATE_MEALS_INGREDIENTS_SUMMARY: 'update-meals-ingredients-summary',\n  UPDATE_DAILY_INGREDIENTS_SUMMARY: 'update-daily-ingredients-summary',\n  COUNT_GAUGES_DATA: 'count-gauges-data',\n  CHANGE_DATE: 'change-date',\n  CHANGE_PAGE_TITLE: 'change-page-title',\n  LOAD_SETTINGS: 'load-settings',\n  SET_LOGIN_WINDOW: 'set-login-window',\n  SET_USER_STATUS: 'set-user-status',\n  CHANGE_HAMBURGER_STATE: 'change-hamburger-state'\n}\n\n\n// FUNCTIONS\n\nconst countPercentOfEatenIngredient = (eatenAmount, maxAmount) => {\n  if (Number.isNaN((Math.round(eatenAmount / maxAmount * 100))))\n    return 0;\n  else\n   return Math.round(eatenAmount / maxAmount * 100);\n}\n\nconst countAmountOfIngredientLeft = (eatenAmount, maxAmount) => {\n  if (eatenAmount >= maxAmount)\n    return 0;\n  else\n    return maxAmount - eatenAmount;\n}\n\n\n// COMPONENTS\n\nfunction App() {\n\n  const reducer = (state, action) => {\n    switch (action.type) {\n\n      case ACTIONS.UPDATE_MEALS_INGREDIENTS_SUMMARY: {\n        const newMealsIngredientsSummary = [...state.mealsIngredientsSummary];\n\n        newMealsIngredientsSummary[action.payload.mealId] = {\n                                                              proteins: action.payload.data.proteins,\n                                                              fats: action.payload.data.fats, \n                                                              carbs: action.payload.data.carbs, \n                                                              kcal: action.payload.data.kcal };\n\n        return {...state, mealsIngredientsSummary: newMealsIngredientsSummary};                                                                 \n      }\n\n      case ACTIONS.UPDATE_DAILY_INGREDIENTS_SUMMARY: {\n        let dailyIngredientsSum = { proteins: 0, fats: 0, carbs: 0, kcal: 0 };\n        let mealsIngredientsSum = { proteins: 0, fats: 0, carbs: 0, kcal: 0 };\n\n        state.mealsIngredientsSummary.forEach(meal => {\n          mealsIngredientsSum = {\n                                  proteins: meal.proteins,\n                                  fats:     meal.fats,\n                                  carbs:    meal.carbs,\n                                  kcal:     meal.kcal };\n\n          dailyIngredientsSum = {\n                                  proteins: dailyIngredientsSum.proteins + mealsIngredientsSum.proteins,\n                                  fats:     dailyIngredientsSum.fats     + mealsIngredientsSum.fats,\n                                  carbs:    dailyIngredientsSum.carbs    + mealsIngredientsSum.carbs,\n                                  kcal:     dailyIngredientsSum.kcal     + mealsIngredientsSum.kcal };\n\n          mealsIngredientsSum = { proteins: 0,\n                                  fats: 0,\n                                  carbs: 0,\n                                  kcalS: 0 };\n        });\n\n        return {...state, dailyIngredientsSummary: dailyIngredientsSum };\n      }\n\n      case ACTIONS.COUNT_GAUGES_DATA: {\n        const ingredient = action.payload.typeOfIngredient;\n\n        return {...state, gaugesData: {...state.gaugesData, \n          [ingredient]: { \n            eaten: state.dailyIngredientsSummary[ingredient], \n            left: countAmountOfIngredientLeft(state.dailyIngredientsSummary[ingredient], state.settingsData.nutrition.dailyDemand[ingredient]), \n            max: state.settingsData.nutrition.dailyDemand[ingredient], \n            percent: countPercentOfEatenIngredient(state.dailyIngredientsSummary[ingredient], state.settingsData.nutrition.dailyDemand[ingredient]) }\n          }\n        }\n      }\n\n      case ACTIONS.CHANGE_DATE: {\n        return {...state, dateIds: { dayId: action.payload.currentDay,  \n                                     monthId: action.payload.currentMonth,\n                                     yearId: action.payload.currentYear }};\n      }\n\n      case ACTIONS.CHANGE_PAGE_TITLE: {\n        return {...state, previousPageTitle: state.pageTitle, pageTitle: action.payload};\n      }\n      \n      case ACTIONS.LOAD_SETTINGS: {\n        let newSettings = JSON.parse(localStorage.getItem(\"settings\"));\n        return {...state, settingsData: newSettings }\n      }\n\n      case ACTIONS.SET_LOGIN_WINDOW: {\n        return {...state, isLoginWindowsEnabled: action.payload}\n      }\n\n      case ACTIONS.SET_USER_STATUS: {\n        return {...state, userStatus: action.payload}\n      }\n\n      case ACTIONS.CHANGE_HAMBURGER_STATE: {\n        return {...state, hamburgerState: !state.hamburgerState}\n      }\n\n      default: return console.error(`Unknown action type: ${action.type}`);\n    }\n  }\n\n  const initialState = {\n    dateIds: { dayId: 0, monthId: 0, yearId: 0 },\n    pageTitle: 'Dashboard',\n    previousPageTitle: 'Dashboard',\n    isLoginWindowsEnabled: false,\n    isAddWindowsEnabled: false,\n    isRemoveWindowsEnabled: false,\n    isMoreWindowsEnabled: false,\n    hamburgerState: false,\n    userStatus: \"Log in\",\n    mealsIngredientsSummary: [],\n    dailyIngredientsSummary: { kcal: 0, proteins: 0, fats: 0, carbs: 0 },\n    gaugesData: {\n      kcal: { eaten: 0, left: 0, max: 0, percent: 0 },\n      proteins: { eaten: 0, left: 0, max: 0, percent: 0 },\n      fats: { eaten: 0, left: 0, max: 0, percent: 0 },\n      carbs: { eaten: 0, left: 0, max: 0, percent: 0 }\n    },\n\n    settingsData: {\n      main: {\n  \n      },\n  \n      nutrition: {\n        dailyDemand: { kcal: 2000, proteins: 120, fats: 55, carbs: 240 },\n        namesOfMeals: { 0: \"Breakfast\", 1: \"II Breakfast\", 2: \"Lunch\", 3: \"Snack\", 4: \"Dinner\", 5: \"\", 6: \"\", 7: \"\", 8: \"\", 9: \"\" },\n        numberOfMeals: 5\n      },\n  \n      training: {\n        selectedExercises: [0, 1, 2, 3, 5]\n      }\n    },\n    clearAllProducts: false,\n    clearAllSeries: false,\n    isSettingsChanged: false\n  }\n\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const MENU_CATEGORIES = [state.userStatus, \"Nutrition\", \"Training\", \"Settings\", \"About\"];\n\n  useEffect(() => { updateGauges() }, [ state.dateIds ]);\n\n  // EFFECT WHICH CHECKS IS SETTINGS ARE SAVED IN LOCAL STORAGE\n  useEffect(() => {\n\n    if (localStorage.getItem(\"settings\"))\n      dispatch({ type: ACTIONS.LOAD_SETTINGS });   \n    else\n      saveSettingsToLocalStorage(); \n\n    updateGauges();\n  }, []);\n\n  useEffect(() => {\n    const wrapper = document.querySelector(\".wrapper\");\n    if (state.isLoginWindowsEnabled) {\n      wrapper.style.filter = \"blur(5px) opacity(40%) grayscale(100%)\";\n      wrapper.style.pointerEvents = \"none\";\n    }\n\n    else {\n      wrapper.style.filter = \"blur(0px) opacity(100%) grayscale(0%)\";\n      wrapper.style.pointerEvents = \"auto\";\n    }\n\n  }, [state.isLoginWindowsEnabled]);\n\n  useEffect(() => {\n    const menu = document.querySelector(\".left-section__menu-container\");\n    if (state.hamburgerState ) {\n      menu.style.display = \"none\";\n    }\n    else {\n      menu.style.display = \"flex\";\n    }\n\n  }, [state.hamburgerState]);\n\n  const updateMealSummary = (object, mealId) => {\n    dispatch({ type: ACTIONS.UPDATE_MEALS_INGREDIENTS_SUMMARY, payload: {data: object, mealId: mealId} });\n    updateDailySummary();\n  } \n\n  const updateDailySummary = () => {\n    dispatch({ type: ACTIONS.UPDATE_DAILY_INGREDIENTS_SUMMARY });\n    updateGauges();\n  }\n\n  const updateGauges = () => {\n    Object.keys(state.settingsData.nutrition.dailyDemand).forEach(ingredient => {\n      dispatch({ type: ACTIONS.COUNT_GAUGES_DATA, payload: { typeOfIngredient: ingredient} });\n    });\n  }\n\n  const updateDateIds = (newDateIds) => {\n    dispatch({type: ACTIONS.CHANGE_DATE, payload: newDateIds })\n  }\n\n  const changePageTitle = (categoryTitle) => {\n    let newPageTitle = '';\n\n    if (categoryTitle === 'Nutrition')\n      newPageTitle = 'Dashboard';\n    else\n      newPageTitle = categoryTitle;\n\n    dispatch({type: ACTIONS.CHANGE_PAGE_TITLE, payload: newPageTitle });\n    dispatch({ type: ACTIONS.LOAD_SETTINGS });\n    updateGauges();\n  }\n\n  const handleMenu = (categoryTitle) => {\n    if (categoryTitle === state.userStatus) {\n      dispatch({ type: ACTIONS.SET_LOGIN_WINDOW, payload: true });\n    }\n\n    else {\n      changePageTitle(categoryTitle);\n    }\n\n    if (window.innerWidth < 768) {\n      dispatch({ type: ACTIONS.CHANGE_HAMBURGER_STATE })\n    }\n  }\n\n  const saveSettingsToLocalStorage = () => {\n    localStorage.setItem(\"settings\", JSON.stringify(state.settingsData));\n  }\n\n  const disableLoginWindows = () => {\n    dispatch({ type: ACTIONS.SET_LOGIN_WINDOW, payload: false }); \n  }\n\n  const setUserStatus = (newStatus) => {\n    dispatch({ type: ACTIONS.SET_USER_STATUS, payload: newStatus });\n  }\n\n  const handleHamburger = () => {\n    dispatch({ type: ACTIONS.CHANGE_HAMBURGER_STATE });\n  }\n\n  return (\n    <>\n\n    { state.isLoginWindowsEnabled &&\n          <Login \n            setUserStatus={ setUserStatus } \n            disableLoginWindows={ disableLoginWindows } \n            isLogout={ state.userStatus === \"Logged\" ? true : false }\n          /> \n    }\n\n    <div className=\"wrapper\">\n\n      <aside className=\"left-section\">\n\n        <header className=\"left-section__logo-container\">\n          <Logo />\n          <Title />\n        </header>\n\n        <Hamburger handleHamburger={ handleHamburger } />\n\n        <ul className=\"left-section__menu-container\">\n\n          { MENU_CATEGORIES.map((category, index) => {\n              return <MenuItem key={ index } value={ category } href=\"\" isActive={ false } linkTo={ handleMenu } />\n            })\n          }\n\n        </ul>\n\n        <h2 className=\"left-section__quotation-container\">\n          <Quotation />\n        </h2>\n        \n      </aside>\n\n\n      <main className=\"center-section\">\n\n        <section className=\"center-section__top\">\n        \n          <h3 className=\"center-section__top__title\">{ state.pageTitle }</h3>\n\n          { ((state.pageTitle === 'Dashboard') || (state.pageTitle === 'Training')) && \n            <DateChanger changeDate={ updateDateIds } />\n          }\n\n        </section>\n\n      \n        <section className=\"center-section__main\">\n\n        { state.pageTitle === 'Training' &&\n\n          state.settingsData.training.selectedExercises.map(selectedExerciseId => {\n            return (\n              <Exercise\n                key={ selectedExerciseId } \n                exerciseId={ selectedExerciseId } \n                dateIds={ state.dateIds } \n                name={ exercises[selectedExerciseId].name } \n                difficulty={ exercises[selectedExerciseId].difficulty } \n                description={ exercises[selectedExerciseId].description } \n                muscles={ exercises[selectedExerciseId].muscles } \n                typeOfExercise={ exercises[selectedExerciseId].typeOfExercise } \n                properFormLink={ exercises[selectedExerciseId].properFormLink }>\n              </Exercise>\n            )})\n        }\n\n        { state.pageTitle === 'Dashboard' && \n\n          Object.values(state.settingsData.nutrition.namesOfMeals).map((meal, index) => {\n            if (state.settingsData.nutrition.numberOfMeals > index)\n              return <Meal key={ index } name={ meal } mealId={ index } dateIds={ state.dateIds } updateGauges={ updateMealSummary } />\n            })\n\n        }\n\n        { state.pageTitle === 'Settings' &&\n\n          <>\n          <Settings \n            initialData={ initialState.settingsData }\n            updateGauges={ updateGauges } \n            pageTitle={ state.pageTitle } \n            previousPage={ state.previousPageTitle }\n            changePageTitle={ changePageTitle } />\n          </>\n\n        }\n\n        { state.pageTitle === 'About' &&\n\n          <About previousPage={ state.previousPageTitle } changePageTitle={ changePageTitle } />\n        \n        }\n\n        </section>\n\n\n      </main>\n\n\n      <aside className=\"right-section\">\n\n        <Gauge \n          amount={ state.gaugesData.kcal.eaten }\n          name=\"kcal\"\n          percent={ state.gaugesData.kcal.percent }\n          left={ state.gaugesData.kcal.left }\n          isKcal={true} />\n\n        <Gauge \n          amount={ state.gaugesData.proteins.eaten }\n          name=\"proteins\" \n          percent={ state.gaugesData.proteins.percent }\n          left={ state.gaugesData.proteins.left } />\n        \n        <Gauge \n          amount={ state.gaugesData.fats.eaten }\n          name=\"fats\" \n          percent={ state.gaugesData.fats.percent }\n          left={ state.gaugesData.fats.left } />\n        \n        <Gauge \n          amount={ state.gaugesData.carbs.eaten }   \n          name=\"carbohydrates\" \n          percent={ state.gaugesData.carbs.percent }\n          left={ state.gaugesData.carbs.left } />\n\n      </aside>\n\n\n    </div>\n    </>\n  )\n}\n\n\n// RENDERING\n\nReactDOM.render(<App />, document.querySelector(\"#root\"));"],"sourceRoot":""}