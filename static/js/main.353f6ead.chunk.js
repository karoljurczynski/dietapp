(this.webpackJsonpDietapp=this.webpackJsonpDietapp||[]).push([[0],[,,,,,,,function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(3),i=a(6),s=a(1),c=a(8),o=a(2),r=a(5),l=a.n(r),d=(a(13),a.p+"static/media/logo.92f8fff8.png"),_=a(0);function u(){return Object(_.jsx)("img",{className:"left-section__logo-container__logo",src:d,alt:"Dietapp logo"})}function m(){return Object(_.jsxs)("h1",{className:"left-section__logo-container__title",children:["Diet",Object(_.jsx)("span",{className:"left-section__logo-container__title__right",children:"app"})]})}function b(e){return Object(_.jsxs)("button",{className:"left-section__hamburger",onClick:e.handleHamburger,children:[Object(_.jsx)("span",{className:"left-section__hamburger__line"}),Object(_.jsx)("span",{className:"left-section__hamburger__line"}),Object(_.jsx)("span",{className:"left-section__hamburger__line"})]})}function p(){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("span",{className:"left-section__quotation-container__top",children:"Be healthy,"}),Object(_.jsx)("span",{className:"left-section__quotation-container__bottom",children:"be happy!"})]})}function w(e){return Object(_.jsx)("li",{className:"left-section__menu-container__list-item",children:Object(_.jsx)("a",{className:e.isActive?"left-section__menu-container__list-item__content left-section__menu-container__list-item__content--active":"left-section__menu-container__list-item__content",onClick:function(t){t.preventDefault(),e.linkTo(t.target.title)},href:e.href,title:e.value,children:e.value})})}a(14);var h=a(4);function j(e){var t=new Date,a=Object(o.useState)(t.getDate()),i=Object(n.a)(a,2),s=i[0],c=i[1],r=Object(o.useState)(t.getMonth()+1),l=Object(n.a)(r,2),d=l[0],u=l[1],m=Object(o.useState)(t.getFullYear()),b=Object(n.a)(m,2),p=b[0],w=b[1],j=function(){return p%4===0&&p%100!==0||p%400===0},g=function(){29===s&&2===d&&j()||28===s&&2===d&&!j()||30===s&&(4===d||6===d||9===d||11===d)||31===s?31===s&&12===d?(c(1),u(1),w((function(e){return e+1}))):(c(1),u((function(e){return e+1}))):c((function(e){return e+1}))},O=function(){1===s&&1===d?(c(31),u(12),w((function(e){return e-1}))):1===s&&3===d?(j()?c(29):c(28),u(2)):1!==s||4!==d&&6!==d&&8!==d&&9!==d&&11!==d?1===s?(c(30),u((function(e){return e-1}))):c((function(e){return e-1})):(c(31),u((function(e){return e-1})))};return Object(o.useEffect)((function(){e.changeDate({currentDay:s,currentMonth:d,currentYear:p})}),[s,d,p]),Object(_.jsxs)("div",{className:"center-section__top__date-changer",children:[Object(_.jsx)("button",{className:"center-section__top__date-changer__previous-button",onClick:function(){O()},children:Object(_.jsx)(h.a,{})}),Object(_.jsx)("h4",{className:"center-section__top__date-changer__current-date",children:"".concat(function(){switch(d){case 1:return"January";case 2:return"February";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"November";case 12:return"December"}}()," ").concat(s)}),Object(_.jsx)("button",{className:"center-section__top__date-changer__next-button",onClick:function(){g()},children:Object(_.jsx)(h.b,{})})]})}a(12),a(7);function g(e){var t={"list-saving":!1},a=Object(o.useState)(t),c=Object(n.a)(a,2),r=c[0],l=c[1],d=Object(o.useState)(!1),u=Object(n.a)(d,2),m=u[0],b=u[1],p=Object(o.useState)(!0),w=Object(n.a)(p,2),j=w[0],g=w[1],O=function(){l(t),e.handleFormClearing(),g(!0)},y=function(){e.handleAddWindow()};Object(o.useEffect)((function(){f(),Object.keys(r).forEach((function(e){g(!0),r[e]!==t[e]&&g(!1)})),Object.keys(e.data).forEach((function(t){e.data[t]&&g(!1)}))}),[e,r]);var f=function(){if("nutrition"===e.type){var t=document.querySelector("#name").value,a=document.querySelector("#weight").value,n=document.querySelector("#proteins").value,i=document.querySelector("#fats").value,s=document.querySelector("#carbs").value,c=document.querySelector("#kcal").value;b(!!(t&&a&&n&&i&&s&&c))}else{var o=document.querySelector("#weight").value,r=document.querySelector("#reps").value;b(!(!o||!r))}},x=function(e){var t=JSON.parse(localStorage.getItem("predefined"));t.push(e),localStorage.setItem("predefined",JSON.stringify(t))};return Object(_.jsx)(_.Fragment,{children:"nutrition"!==e.type?Object(_.jsxs)("form",{className:"window__main window__main--add",onSubmit:function(t){e.handleSerieAdding(t)},children:[Object(_.jsxs)("section",{className:"window__main__section window__main__section--form",children:[Object(_.jsx)("h3",{className:"window__main__section__title",children:"Last time"}),Object(_.jsxs)("div",{className:"window__main__input-line",children:[Object(_.jsx)("label",{className:"window__main__input-line__label",htmlFor:"oldWeight",children:"Weight: "}),Object(_.jsx)("p",{className:"window__main__input-line__input",id:"oldWeight",children:"last-training"===e.type?e.lastTimeData.training.weight:e.lastTimeData.serie.weight}),Object(_.jsx)("span",{className:"window__main__input-line__unit",children:"kg"})]}),Object(_.jsxs)("div",{className:"window__main__input-line",children:[Object(_.jsx)("label",{className:"window__main__input-line__label",htmlFor:"oldReps",children:"Reps: "}),Object(_.jsx)("p",{className:"window__main__input-line__input",id:"oldReps",children:"last-training"===e.type?e.lastTimeData.training.reps:e.lastTimeData.serie.reps}),Object(_.jsx)("span",{className:"window__main__input-line__unit",children:"reps"})]})]}),Object(_.jsxs)("section",{className:"window__main__section window__main__section--form",children:[Object(_.jsx)("h3",{className:"window__main__section__title",children:"New serie"}),Object(_.jsxs)("div",{className:"window__main__input-line",children:[Object(_.jsx)("label",{className:"window__main__input-line__label",htmlFor:"weight",children:"Weight: "}),Object(_.jsx)("input",{className:"window__main__input-line__input",type:"text",id:"weight",value:e.data.weight,onChange:e.handleOnChange,placeholder:"weight"===e.warning[1]?e.warning[0]:null,maxLength:"3"}),Object(_.jsx)("span",{className:"window__main__input-line__unit",children:"kg"})]}),Object(_.jsxs)("div",{className:"window__main__input-line",children:[Object(_.jsx)("label",{className:"window__main__input-line__label",htmlFor:"reps",children:"Reps: "}),Object(_.jsx)("input",{className:"window__main__input-line__input",type:"text",id:"reps",value:e.data.reps,onChange:e.handleOnChange,placeholder:"reps"===e.warning[1]?e.warning[0]:null,maxLength:"2"}),Object(_.jsx)("span",{className:"window__main__input-line__unit",children:"reps"})]})]}),Object(_.jsx)("button",{className:m?"window__header__add-button":"window__header__add-button window__header__add-button--disabled",type:"submit",disabled:!m,children:Object(_.jsx)(h.c,{})}),Object(_.jsxs)("section",{className:"window__bottom",children:[Object(_.jsx)("button",{className:j?"window__bottom__tertiary-button window__bottom__tertiary-button--disabled":"window__bottom__tertiary-button",disabled:!!j,type:"button",onClick:O,children:"Clear"}),Object(_.jsxs)("div",{children:[Object(_.jsx)("button",{className:"window__bottom__secondary-button",type:"button",onClick:y,children:"Cancel"}),Object(_.jsx)("button",{className:m?"window__bottom__primary-button":"window__bottom__primary-button window__bottom__primary-button--disabled",type:"submit",disabled:!m,children:"Add"})]})]}),Object(_.jsx)("button",{className:m?"window__header__add-button":"window__header__add-button window__header__add-button--disabled",type:"submit",style:{zIndex:11},disabled:!m,children:Object(_.jsx)(h.c,{})})]}):Object(_.jsxs)("form",{className:"window__main window__main--add",onSubmit:function(t){e.handleProductAdding(t),function(e){var t=[];return e.forEach((function(e){r[e]&&t.push(e)})),t}(Object.keys(r)).forEach((function(e){switch(e){case"list-saving":var t={id:Date.now(),name:document.querySelector("#name").value,weight:Number(document.querySelector("#weight").value),proteins:Number(document.querySelector("#proteins").value),fats:Number(document.querySelector("#fats").value),carbs:Number(document.querySelector("#carbs").value),kcal:Number(document.querySelector("#kcal").value)};x(t)}}))},children:[Object(_.jsxs)("section",{className:"window__main__section window__main__section--form",children:[Object(_.jsx)("h3",{className:"window__main__section__title",children:"Product info"}),Object(_.jsxs)("div",{className:"window__main__input-line",children:[Object(_.jsx)("label",{className:"window__main__input-line__label",htmlFor:"name",children:"Product name: "}),Object(_.jsx)("input",{className:"window__main__input-line__input",type:"text",id:"name",value:e.data.name,onChange:e.handleOnChange,placeholder:"name"===e.warning[1]?e.warning[0]:null,maxLength:"32"})]}),Object(_.jsxs)("div",{className:"window__main__input-line",children:[Object(_.jsx)("label",{className:"window__main__input-line__label",htmlFor:"weight",children:"Product weight: "}),Object(_.jsx)("input",{className:"window__main__input-line__input",type:"text",id:"weight",value:e.data.weight,onChange:e.handleOnChange,placeholder:"weight"===e.warning[1]?e.warning[0]:null,maxLength:"4"}),Object(_.jsx)("span",{className:"window__main__input-line__unit",children:"g"})]})]}),Object(_.jsxs)("section",{className:"window__main__section window__main__section--form",children:[Object(_.jsx)("h3",{className:"window__main__section__title",children:"Nutrition facts"}),Object(_.jsxs)("div",{className:"window__main__input-line",children:[Object(_.jsx)("label",{className:"window__main__input-line__label",htmlFor:"proteins",children:"Proteins: "}),Object(_.jsx)("input",{className:"window__main__input-line__input",type:"text",id:"proteins",value:e.data.proteins,onChange:e.handleOnChange,placeholder:"proteins"===e.warning[1]?e.warning[0]:null,maxLength:"4"}),Object(_.jsx)("span",{className:"window__main__input-line__unit",children:"g"})]}),Object(_.jsxs)("div",{className:"window__main__input-line",children:[Object(_.jsx)("label",{className:"window__main__input-line__label",htmlFor:"fats",children:"Fats: "}),Object(_.jsx)("input",{className:"window__main__input-line__input",type:"text",id:"fats",value:e.data.fats,onChange:e.handleOnChange,placeholder:"fats"===e.warning[1]?e.warning[0]:null,maxLength:"4"}),Object(_.jsx)("span",{className:"window__main__input-line__unit",children:"g"})]}),Object(_.jsxs)("div",{className:"window__main__input-line",children:[Object(_.jsx)("label",{className:"window__main__input-line__label",htmlFor:"carbs",children:"Carbs: "}),Object(_.jsx)("input",{className:"window__main__input-line__input",type:"text",id:"carbs",value:e.data.carbs,onChange:e.handleOnChange,placeholder:"carbs"===e.warning[1]?e.warning[0]:null,maxLength:"4"}),Object(_.jsx)("span",{className:"window__main__input-line__unit",children:"g"})]}),Object(_.jsxs)("div",{className:"window__main__input-line",children:[Object(_.jsx)("label",{className:"window__main__input-line__label",htmlFor:"kcal",children:"Calories: "}),Object(_.jsx)("input",{className:"window__main__input-line__input",type:"text",id:"kcal",value:e.data.kcal,onChange:e.handleOnChange,placeholder:"kcal"===e.warning[1]?e.warning[0]:null,maxLength:"4"}),Object(_.jsx)("span",{className:"window__main__input-line__unit",children:"kcal"})]})]}),Object(_.jsxs)("section",{className:"window__main__section window__main__section--form",children:[Object(_.jsx)("h3",{className:"window__main__section__title",children:"Options"}),Object(_.jsxs)("div",{className:"window__main__input-line",children:[Object(_.jsx)("label",{className:"window__main__input-line__label window__main__input-line__label--checkbox",htmlFor:"list-saving",children:"Save to list"}),Object(_.jsx)("button",{className:"window__main__input-line__checkbox",id:"list-saving",type:"button",onClick:function(e){l((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(i.a)({},e.target.id,!r[e.target.id]))}))},children:Object(_.jsx)("div",{className:"window__main__input-line__checkbox__background",id:"list-saving",style:r["list-saving"]?{backgroundColor:"#7500AF"}:{backgroundColor:"transparent"}})})]})]}),Object(_.jsx)("button",{className:m?"window__header__add-button":"window__header__add-button window__header__add-button--disabled",type:"submit",style:{zIndex:11},disabled:!m,children:Object(_.jsx)(h.c,{})}),Object(_.jsxs)("section",{className:"window__bottom",children:[Object(_.jsx)("button",{className:j?"window__bottom__tertiary-button window__bottom__tertiary-button--disabled":"window__bottom__tertiary-button",disabled:!!j,type:"button",onClick:O,children:"Clear"}),Object(_.jsxs)("div",{children:[Object(_.jsx)("button",{className:"window__bottom__secondary-button",type:"button",onClick:y,children:"Cancel"}),Object(_.jsx)("button",{className:m?"window__bottom__primary-button":"window__bottom__primary-button window__bottom__primary-button--disabled",type:"submit",disabled:!m,children:"Add"})]})]})]})})}var O="update-product-data",y="reset-form",f="set-warning",x="clear-warning";function N(e){var t=Object(o.useState)(!1),a=Object(n.a)(t,2),i=a[0],c=a[1],r=Object(o.useState)(!0),d=Object(n.a)(r,2),u=d[0],m=d[1],b={productData:{id:e.data.id,name:e.data.name,weight:e.data.weight,proteins:e.data.proteins,fats:e.data.fats,carbs:e.data.carbs,kcal:e.data.kcal},warning:["",""]},p=Object(o.useReducer)((function(t,a){switch(a.type){case O:switch(a.payload.key){case"name":return Object(s.a)(Object(s.a)({},t),{},{productData:Object(s.a)(Object(s.a)({},t.productData),{},{name:a.payload.value})});case"weight":return Object(s.a)(Object(s.a)({},t),{},{productData:Object(s.a)(Object(s.a)({},t.productData),{},{weight:a.payload.value})});case"proteins":return Object(s.a)(Object(s.a)({},t),{},{productData:Object(s.a)(Object(s.a)({},t.productData),{},{proteins:a.payload.value})});case"fats":return Object(s.a)(Object(s.a)({},t),{},{productData:Object(s.a)(Object(s.a)({},t.productData),{},{fats:a.payload.value})});case"carbs":return Object(s.a)(Object(s.a)({},t),{},{productData:Object(s.a)(Object(s.a)({},t.productData),{},{carbs:a.payload.value})});case"kcal":return Object(s.a)(Object(s.a)({},t),{},{productData:Object(s.a)(Object(s.a)({},t.productData),{},{kcal:a.payload.value})});default:return console.error("Unknown action type: ".concat(a.type))}case y:return Object(s.a)(Object(s.a)({},t),{},{productData:{id:e.data.id,name:e.data.name,weight:e.data.weight,proteins:e.data.proteins,fats:e.data.fats,carbs:e.data.carbs,kcal:e.data.kcal}});case f:return"name"===a.payload?Object(s.a)(Object(s.a)({},t),{},{warning:[W.name,a.payload]}):Object(s.a)(Object(s.a)({},t),{},{warning:[W.weight,a.payload]});case x:return Object(s.a)(Object(s.a)({},t),{},{warning:["",a.payload]});default:return console.error("Unknown action type: ".concat(a.type))}}),b),w=Object(n.a)(p,2),j=w[0],g=w[1];Object(o.useEffect)((function(){var e=document.querySelector(".window--add");return e.style.filter="blur(5px) opacity(40%) grayscale(100%)",e.style.pointerEvents="none",function(){e.style.filter="blur(0px) opacity(100%) grayscale(0%)",e.style.pointerEvents="auto"}}),[]),Object(o.useEffect)((function(){N(),v()}),[j.productData]);var N=function(){var e=document.querySelector("#name").value,t=document.querySelector("#weight").value;c(!(!e||!t))},v=function(){Object.keys(e.data).forEach((function(t){e.data[t]!==j.productData[t]&&m(!1)}))},k=function(){var t=e.data.id;e.handleEditingWindow(t)},I=function(t){t.preventDefault(),e.handleProductEditing(j.productData)};return l.a.createPortal(Object(_.jsxs)("form",{className:"window window--edit",onSubmit:I,children:[Object(_.jsxs)("header",{className:"window__header",children:[Object(_.jsx)("h3",{className:"window__header__heading",children:"Edit product"}),Object(_.jsx)("button",{className:"window__header__back-button",onClick:k,children:Object(_.jsx)(h.a,{})}),Object(_.jsx)("button",{className:i?"window__header__add-button":"window__header__add-button window__header__add-button--disabled",disabled:!i,onClick:I,children:Object(_.jsx)(h.d,{})})]}),Object(_.jsxs)("main",{className:"window__form",children:[Object(_.jsxs)("section",{className:"window__main__section window__main__section--form",children:[Object(_.jsx)("h3",{className:"window__main__section__title",children:"Product info"}),Object(_.jsxs)("div",{className:"window__main__input-line",children:[Object(_.jsx)("label",{className:"window__main__input-line__label",htmlFor:"name",children:"Product name: "}),Object(_.jsx)("input",{className:"window__main__input-line__input",type:"text",id:"name",value:j.productData.name,onChange:function(e){e.preventDefault(),/[a-z\s]/i.test(e.target.value[e.target.value.length-1])?(g({type:O,payload:{key:"name",value:e.target.value}}),g({type:x,payload:"name"})):(g({type:O,payload:{key:"name",value:""}}),g({type:f,payload:"name"}))},placeholder:"name"===j.warning[1]?j.warning[0]:null,maxLength:"32"})]}),Object(_.jsxs)("div",{className:"window__main__input-line",children:[Object(_.jsx)("label",{className:"window__main__input-line__label",htmlFor:"weight",children:"Product weight: "}),Object(_.jsx)("input",{className:"window__main__input-line__input",type:"text",id:"weight",value:j.productData.weight,onChange:function(t){var a=Number(e.data.proteins)/Number(e.data.weight),n=Number(e.data.fats)/Number(e.data.weight),i=Number(e.data.carbs)/Number(e.data.weight),s=Number(e.data.kcal)/Number(e.data.weight),c=function(){g({type:O,payload:{key:"weight",value:""}}),g({type:O,payload:{key:"proteins",value:0}}),g({type:O,payload:{key:"fats",value:0}}),g({type:O,payload:{key:"carbs",value:0}}),g({type:O,payload:{key:"kcal",value:0}}),g({type:f,payload:"weight"})};/[0-9]/.test(t.target.value[t.target.value.length-1])?/^[0]{1}/.test(t.target.value)?c():(g({type:O,payload:{key:"weight",value:Number(t.target.value)}}),g({type:O,payload:{key:"proteins",value:Math.round(t.target.value*a)}}),g({type:O,payload:{key:"fats",value:Math.round(t.target.value*n)}}),g({type:O,payload:{key:"carbs",value:Math.round(t.target.value*i)}}),g({type:O,payload:{key:"kcal",value:Math.round(t.target.value*s)}}),g({type:x,payload:"weight"})):c()},placeholder:"weight"===j.warning[1]?j.warning[0]:null,maxLength:"32"}),Object(_.jsx)("span",{className:"window__main__input-line__unit",children:"g"})]})]}),Object(_.jsxs)("section",{className:"window__main__section window__main__section--form",children:[Object(_.jsx)("h3",{className:"window__main__section__title",children:"Nutrition facts"}),Object(_.jsxs)("div",{className:"window__main__input-line",children:[Object(_.jsx)("label",{className:"window__main__input-line__label",htmlFor:"proteins",children:"Proteins: "}),Object(_.jsx)("p",{className:"window__main__input-line__input",id:"proteins",children:j.productData.proteins}),Object(_.jsx)("span",{className:"window__main__input-line__unit",children:"g"})]}),Object(_.jsxs)("div",{className:"window__main__input-line",children:[Object(_.jsx)("label",{className:"window__main__input-line__label",htmlFor:"fats",children:"Fats: "}),Object(_.jsx)("p",{className:"window__main__input-line__input",id:"fats",children:j.productData.fats}),Object(_.jsx)("span",{className:"window__main__input-line__unit",children:"g"})]}),Object(_.jsxs)("div",{className:"window__main__input-line",children:[Object(_.jsx)("label",{className:"window__main__input-line__label",htmlFor:"carbs",children:"Carbs: "}),Object(_.jsx)("p",{className:"window__main__input-line__input",id:"carbs",children:j.productData.carbs}),Object(_.jsx)("span",{className:"window__main__input-line__unit",children:"g"})]}),Object(_.jsxs)("div",{className:"window__main__input-line",children:[Object(_.jsx)("label",{className:"window__main__input-line__label",htmlFor:"kcal",children:"Calories: "}),Object(_.jsx)("p",{className:"window__main__input-line__input",id:"kcal",children:j.productData.kcal}),Object(_.jsx)("span",{className:"window__main__input-line__unit",children:"kcal"})]})]})]}),Object(_.jsxs)("section",{className:"window__bottom",children:[Object(_.jsx)("button",{className:u?"window__bottom__tertiary-button window__bottom__tertiary-button--disabled":"window__bottom__tertiary-button",disabled:!!u,type:"button",onClick:function(e){e.preventDefault(),g({type:y}),g({type:x}),m(!0)},children:"Reset"}),Object(_.jsxs)("div",{children:[Object(_.jsx)("button",{className:"window__bottom__secondary-button",type:"button",onClick:k,children:"Cancel"}),Object(_.jsx)("button",{className:i?"window__bottom__primary-button":"window__bottom__primary-button window__bottom__primary-button--disabled",type:"submit",disabled:!i,children:"Save"})]})]})]}),document.getElementById("portal"))}var v="set-product-send-for-edit",k="negate-edit-window-state",I="update-saved-products-list",C="load-predefined-products-list-from-local-storage",S="set-is-add-button-disabled",E={savedProductList:[{id:0,name:"Cottage cheese",weight:100,proteins:20,fats:10,carbs:15,kcal:250},{id:1,name:"Skyr",weight:100,proteins:20,fats:0,carbs:12,kcal:100},{id:2,name:"Potatos",weight:100,proteins:9,fats:2,carbs:80,kcal:126},{id:3,name:"Coca Cola",weight:100,proteins:0,fats:0,carbs:100,kcal:400},{id:4,name:"Banana",weight:100,proteins:5,fats:3,carbs:52,kcal:173},{id:5,name:"Cottage cheese",weight:100,proteins:20,fats:10,carbs:15,kcal:250},{id:6,name:"Skyr",weight:100,proteins:20,fats:0,carbs:12,kcal:100},{id:7,name:"Potatos",weight:100,proteins:9,fats:2,carbs:80,kcal:126},{id:8,name:"Coca Cola",weight:100,proteins:0,fats:0,carbs:100,kcal:400},{id:9,name:"Banana",weight:100,proteins:5,fats:3,carbs:52,kcal:173}],productSendForEdit:{id:0,name:"",weight:0,proteins:0,fats:0,carbs:0,kcal:0},isEditWindowOpened:!1,isAddButtonDisabled:!1};function D(e){var t=Object(o.useReducer)((function(e,t){switch(t.type){case C:return Object(s.a)(Object(s.a)({},e),{},{savedProductList:t.payload});case k:return Object(s.a)(Object(s.a)({},e),{},{isEditWindowOpened:!e.isEditWindowOpened});case v:return Object(s.a)(Object(s.a)({},e),{},{productSendForEdit:{id:t.payload.id,name:t.payload.name,weight:t.payload.weight,proteins:t.payload.proteins,fats:t.payload.fats,carbs:t.payload.carbs,kcal:t.payload.kcal}});case I:var a=e.savedProductList;return a[t.payload.index]=t.payload.newProduct,Object(s.a)(Object(s.a)({},e),{},{savedProductList:a});case S:return Object(s.a)(Object(s.a)({},e),{},{isAddButtonDisabled:t.payload});default:return console.error("Unknown action type: ".concat(t.type))}}),E),a=Object(n.a)(t,2),i=a[0],c=a[1];Object(o.useEffect)((function(){var e=[];Object.keys(localStorage).includes("predefined")?(e=JSON.parse(localStorage.getItem("predefined")),c({type:C,payload:e})):(e=i.savedProductList,localStorage.setItem("predefined",JSON.stringify(e)))}),[]),Object(o.useEffect)((function(){u()}),[]);var r=function(e){var t=document.getElementById(e.currentTarget.id);if(e.currentTarget.id){var a=t.querySelector(".window__main__section__large-list__item__name");"bold"===a.style.fontWeight?(t.style.background="#ffffff",a.style.fontWeight="normal",u()):(t.style.background="#7500AF30",a.style.fontWeight="bold",l(i.savedProductList[b(e.currentTarget.id)]),d())}},l=function(e){c({type:v,payload:e})},d=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(Number.isInteger(e)){var t=document.getElementById(e),a=t.querySelector(".window__main__section__large-list__item__name");t.style.background="#ffffff",a.style.fontWeight="normal"}c({type:k}),u()},u=function(){for(var e=document.querySelectorAll(".window__main__section__large-list__item"),t=!1,a=0;a<e.length;a++){if("bold"===e[a].querySelector(".window__main__section__large-list__item__name").style.fontWeight){t=!1;break}t=!0}c({type:S,payload:t})},m=function(){var t=[];document.querySelectorAll(".window__main__section__large-list__item").forEach((function(e,a){"bold"===e.querySelector(".window__main__section__large-list__item__name").style.fontWeight&&t.push({name:i.savedProductList[a-1].name,weight:i.savedProductList[a-1].weight,proteins:i.savedProductList[a-1].proteins,fats:i.savedProductList[a-1].fats,carbs:i.savedProductList[a-1].carbs,kcal:i.savedProductList[a-1].kcal})})),0!==t.length&&e.handlePredefinedProductsAdding(t)},b=function(e){var t=i.savedProductList,a=0;return t.forEach((function(t,n){t.id===Number(e)&&(a=n)})),a};return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("button",{className:i.isAddButtonDisabled?"window__header__add-button window__header__add-button--disabled":"window__header__add-button",type:"button",style:{zIndex:11},onClick:m,disabled:!!i.isAddButtonDisabled,children:Object(_.jsx)(h.c,{})}),i.isEditWindowOpened?Object(_.jsx)(N,{data:{id:i.productSendForEdit.id,name:i.productSendForEdit.name,weight:i.productSendForEdit.weight,proteins:i.productSendForEdit.proteins,fats:i.productSendForEdit.fats,carbs:i.productSendForEdit.carbs,kcal:i.productSendForEdit.kcal},warning:e.warning,handleProductEditing:function(e){var t=b(e.id);c({type:I,payload:{index:t,newProduct:e}});var a=i.savedProductList;localStorage.setItem("predefined",JSON.stringify(a)),d()},handleEditingWindow:d}):null,Object(_.jsx)("ul",{className:"window__main__section__large-list window__main__section__large-list--heading",children:Object(_.jsx)("li",{className:"window__main__section__large-list__item window__main__section__large-list__item--heading",children:Object(_.jsxs)("div",{className:"window__main__section__large-list__wrapper",children:[Object(_.jsx)("span",{className:"window__main__section__large-list__item__name",style:{color:"white"},children:"Product name"}),Object(_.jsxs)("span",{className:"window__main__section__large-list__item__nutrition-facts",children:[Object(_.jsx)("p",{className:"window__main__section__large-list__item__nutrition-facts__proteins",title:"Proteins",children:"P"}),Object(_.jsx)("p",{className:"window__main__section__large-list__item__nutrition-facts__fats",title:"Fats",children:"F"}),Object(_.jsx)("p",{className:"window__main__section__large-list__item__nutrition-facts__carbs",title:"Carbohydrates",children:"C"})]}),Object(_.jsx)("span",{className:"window__main__section__large-list__item__calories",children:"Calories"})]})})}),Object(_.jsx)("ul",{className:"window__main__section__large-list",children:i.savedProductList.map((function(e){return Object(_.jsxs)("li",{id:e.id,className:"window__main__section__large-list__item",onClick:r,children:[Object(_.jsxs)("div",{className:"window__main__section__large-list__wrapper",children:[Object(_.jsx)("span",{id:e.id,className:"window__main__section__large-list__item__name",children:e.name}),Object(_.jsxs)("span",{id:e.id,className:"window__main__section__large-list__item__nutrition-facts",children:[Object(_.jsxs)("p",{id:e.id,className:"window__main__section__large-list__item__nutrition-facts__proteins",title:"Proteins",children:[e.proteins," g"]}),Object(_.jsxs)("p",{id:e.id,className:"window__main__section__large-list__item__nutrition-facts__fats",title:"Fats",children:[e.fats," g"]}),Object(_.jsxs)("p",{id:e.id,className:"window__main__section__large-list__item__nutrition-facts__carbs",title:"Carbohydrates",children:[e.carbs," g"]})]}),Object(_.jsxs)("span",{id:e.id,className:"window__main__section__large-list__item__calories",children:[e.kcal," kcal"]})]}),Object(_.jsxs)("span",{id:e.id,className:"window__main__section__large-list__item__weight",children:[e.weight," g"]})]},e.id)}))}),Object(_.jsxs)("section",{className:"window__bottom",children:[Object(_.jsx)("div",{}),Object(_.jsxs)("div",{children:[Object(_.jsx)("button",{className:"window__bottom__secondary-button",onClick:e.handleAddWindow,children:"Cancel"}),Object(_.jsx)("button",{className:i.isAddButtonDisabled?"window__bottom__primary-button window__bottom__primary-button--disabled":"window__bottom__primary-button",onClick:m,children:"Add"})]})]})]})}function A(e){var t=Object(o.useState)(!0),a=Object(n.a)(t,2),i=a[0],s=a[1];Object(o.useEffect)((function(){var e=document.querySelector("#root");return e.style.filter="blur(5px) opacity(40%) grayscale(100%)",e.style.pointerEvents="none",function(){e.style.filter="blur(0px) opacity(100%) grayscale(0%)",e.style.pointerEvents="auto"}}),[]),Object(o.useEffect)((function(){e.handleFormClearing()}),[i]);return l.a.createPortal(Object(_.jsxs)("div",{className:"window window--add",children:[Object(_.jsxs)("header",{className:"window__header",children:[Object(_.jsx)("h2",{className:"window__header__heading",children:"exercises"===e.type?"Add serie":"Add product"}),Object(_.jsx)("button",{className:"window__header__back-button",onClick:e.handleAddWindow,children:Object(_.jsx)(h.a,{})}),Object(_.jsxs)("button",{className:"window__header__switch",onClick:function(){s(!i)},children:[Object(_.jsx)("h3",{className:i?"window__header__switch__left window__header__switch__left--selected":"window__header__switch__left",children:"exercises"===e.type?"Last training":"From list"}),Object(_.jsx)("h3",{className:i?"window__header__switch__right":"window__header__switch__right window__header__switch__right--selected",children:"exercises"===e.type?"Last serie":"Your own"})]})]}),"exercises"===e.type?Object(_.jsx)("main",{className:"window__form",children:i?Object(_.jsx)(g,{type:"last-training",data:{weight:e.data.weight,reps:e.data.reps},warning:e.warning,handleOnChange:e.handleOnChange,handleSerieAdding:e.handleSerieAdding,handleFormClearing:e.handleFormClearing,handleAddWindow:e.handleAddWindow,lastTimeData:e.lastTimeData}):Object(_.jsx)(g,{type:"last-serie",data:{weight:e.data.weight,reps:e.data.reps},warning:e.warning,handleOnChange:e.handleOnChange,handleSerieAdding:e.handleSerieAdding,handleFormClearing:e.handleFormClearing,handleAddWindow:e.handleAddWindow,lastTimeData:e.lastTimeData})}):Object(_.jsx)("main",{className:"window__form",children:i?Object(_.jsx)(D,{warning:e.warning,handleAddWindow:e.handleAddWindow,handlePredefinedProductsAdding:e.handlePredefinedProductsAdding}):Object(_.jsx)(g,{type:"nutrition",data:{isPlaceholderEnabled:e.data.isPlaceholderEnabled,name:e.data.name,weight:e.data.weight,proteins:e.data.proteins,fats:e.data.fats,carbs:e.data.carbs,kcal:e.data.kcal},warning:e.warning,handleOnChange:e.handleOnChange,handleFormClearing:e.handleFormClearing,handleProductAdding:e.handleProductAdding,handleAddWindow:e.handleAddWindow})})]}),document.getElementById("portal"))}function T(e){var t=Object(o.useState)(!1),a=Object(n.a)(t,2),i=a[0],s=a[1],c=Object(o.useState)(!1),r=Object(n.a)(c,2),d=r[0],u=r[1];Object(o.useEffect)((function(){var e=document.querySelector(".window");i?(e.style.filter="blur(5px) opacity(40%) grayscale(100%)",e.style.pointerEvents="none"):(e.style.filter="blur(0px) opacity(100%) grayscale(0%)",e.style.pointerEvents="auto")}),[i]),Object(o.useEffect)((function(){var e=document.querySelector("#root");return e.style.filter="blur(5px) opacity(40%) grayscale(100%)",e.style.pointerEvents="none",function(){e.style.filter="blur(0px) opacity(100%) grayscale(0%)",e.style.pointerEvents="auto"}}),[]),Object(o.useEffect)((function(){p()}),[]);var m=function(e){var t=document.getElementById(e.currentTarget.id);if(e.currentTarget.id){var a=t.querySelector(".window__main__section__large-list__item__name");"bold"===a.style.fontWeight?(t.style.background="#ffffff",a.style.fontWeight="normal"):(t.style.background="#7500AF30",a.style.fontWeight="bold"),p()}},b=function(){var t=[];document.querySelectorAll(".window__main__section__large-list__item").forEach((function(e){"bold"===e.querySelector(".window__main__section__large-list__item__name").style.fontWeight&&t.push(Number(e.id))})),0!==t.length&&e.handleRemoving(t)},p=function(){for(var e=document.querySelectorAll(".window__main__section__large-list__item"),t=!1,a=0;a<e.length;a++){if("bold"===e[a].querySelector(".window__main__section__large-list__item__name").style.fontWeight){t=!1;break}t=!0}u(t)};return l.a.createPortal(Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("section",{className:"window",children:[Object(_.jsxs)("header",{className:"window__header",children:[Object(_.jsx)("h1",{className:"window__header__heading",children:"exercises"===e.type?"Remove serie":"Remove product"}),Object(_.jsx)("button",{className:"window__header__back-button",onClick:e.handleRemoveWindow,children:Object(_.jsx)(h.a,{})}),Object(_.jsx)("button",{className:d?"window__header__add-button window__header__add-button--disabled":"window__header__add-button",onClick:b,children:Object(_.jsx)(h.e,{})})]}),Object(_.jsxs)("main",{className:"window__main window__main--list",children:[Object(_.jsx)("ul",{className:"window__main__section__large-list window__main__section__large-list--heading",children:Object(_.jsx)("li",{className:"window__main__section__large-list__item window__main__section__large-list__item--heading",children:"exercises"===e.type?Object(_.jsxs)("div",{className:"window__main__section__large-list__wrapper",children:[Object(_.jsx)("span",{className:"window__main__section__large-list__item__name",style:{color:"white"},children:"Serie"}),Object(_.jsx)("span",{className:"window__main__section__large-list__item__nutrition-facts",children:Object(_.jsx)("p",{className:"window__main__section__large-list__item__nutrition-facts__weight",children:"Weight"})}),Object(_.jsx)("span",{className:"window__main__section__large-list__item__calories",children:"Repetitions"})]}):Object(_.jsxs)("div",{className:"window__main__section__large-list__wrapper",children:[Object(_.jsx)("span",{className:"window__main__section__large-list__item__name",style:{color:"white"},children:"Product name"}),Object(_.jsxs)("span",{className:"window__main__section__large-list__item__nutrition-facts",children:[Object(_.jsx)("p",{className:"window__main__section__large-list__item__nutrition-facts__proteins",title:"Proteins",children:"P"}),Object(_.jsx)("p",{className:"window__main__section__large-list__item__nutrition-facts__fats",title:"Fats",children:"F"}),Object(_.jsx)("p",{className:"window__main__section__large-list__item__nutrition-facts__carbs",title:"Carbohydrates",children:"C"})]}),Object(_.jsx)("span",{className:"window__main__section__large-list__item__calories",children:"Calories"})]})})}),Object(_.jsx)("ul",{className:"window__main__section__large-list",children:e.list.map((function(t){return"exercises"===e.type?Object(_.jsx)("li",{onClick:m,id:t.id,className:"window__main__section__large-list__item",children:Object(_.jsxs)("div",{className:"window__main__section__large-list__wrapper",children:[Object(_.jsxs)("span",{id:t.id,className:"window__main__section__large-list__item__name",children:["Serie ",t.serieCount]}),Object(_.jsx)("span",{id:t.id,className:"window__main__section__large-list__item__nutrition-facts",children:Object(_.jsxs)("p",{id:t.id,className:"window__main__section__large-list__item__nutrition-facts__weight",title:"Weight",children:[t.weight," kg"]})}),Object(_.jsxs)("span",{id:t.id,className:"window__main__section__large-list__item__calories",children:[t.reps," reps"]})]})},t.id):Object(_.jsxs)("li",{onClick:m,id:t.id,className:"window__main__section__large-list__item",children:[Object(_.jsxs)("div",{className:"window__main__section__large-list__wrapper",children:[Object(_.jsx)("span",{id:t.id,className:"window__main__section__large-list__item__name",children:t.name}),Object(_.jsxs)("span",{id:t.id,className:"window__main__section__large-list__item__nutrition-facts",children:[Object(_.jsxs)("p",{id:t.id,className:"window__main__section__large-list__item__nutrition-facts__proteins",title:"Proteins",children:[t.proteins," g"]}),Object(_.jsxs)("p",{id:t.id,className:"window__main__section__large-list__item__nutrition-facts__fats",title:"Fats",children:[t.fats," g"]}),Object(_.jsxs)("p",{id:t.id,className:"window__main__section__large-list__item__nutrition-facts__carbs",title:"Carbohydrates",children:[t.carbs," g"]})]}),Object(_.jsxs)("span",{id:t.id,className:"window__main__section__large-list__item__calories",children:[t.kcal," kcal"]})]}),Object(_.jsxs)("span",{id:t.id,className:"window__main__section__large-list__item__weight",children:[t.weight," g"]})]},t.id)}))})]}),Object(_.jsxs)("section",{className:"window__bottom",children:[Object(_.jsx)("button",{className:"window__bottom__tertiary-button",onClick:function(){s(!0)},children:"Remove all"}),Object(_.jsxs)("div",{children:[Object(_.jsx)("button",{className:"window__bottom__secondary-button",onClick:e.handleRemoveWindow,children:"Cancel"}),Object(_.jsx)("button",{className:d?"window__bottom__primary-button window__bottom__primary-button--disabled":"window__bottom__primary-button",onClick:b,children:"Remove"})]})]})]}),i?Object(_.jsxs)("section",{className:"window window--login",children:[Object(_.jsx)("header",{className:"window__header",children:Object(_.jsx)("h2",{className:"window__header__heading",children:"Remove all?"})}),Object(_.jsx)("main",{className:"window__main",children:Object(_.jsx)("h3",{className:"window__main__message",children:"exercises"===e.type?"Are you sure you want to remove all series in current exercise?":"Are you sure you want to remove all products in current meal?"})}),Object(_.jsxs)("section",{className:"window__bottom",children:[Object(_.jsx)("button",{className:"window__bottom__secondary-button",onClick:function(){s(!1)},children:"Cancel"}),Object(_.jsx)("button",{className:"window__bottom__primary-button",onClick:function(){var t=[];document.querySelectorAll(".window__main__section__large-list__item").forEach((function(e){t.push(Number(e.id))})),e.handleRemoving(t)},children:"Remove"})]})]}):null]}),document.getElementById("portal"))}a(15);var W={name:"Name must be a string of letters only",weight:"Weight must be a positive number",macros:"Macronutrient must be a number"},P={NEGATE_MEAL_STATE:"negate-meal-state",NEGATE_ADDING_WINDOW_STATE:"negate-adding-window-state",NEGATE_REMOVING_WINDOW_STATE:"negate-removing-window-state",ADD_PRODUCT:"add-product",ENABLE_PLACEHOLDER:"enable-placeholder",DISABLE_PLACEHOLDER:"disable-placeholder",SET_WARNING:"set-warning",CLEAR_WARNING:"clear-warning",REMOVE_PRODUCT:"remove-product",ADD_TO_SUMMARY:"add-to-summary",SUB_FROM_SUMMARY:"sub-from-summary",CLEAR_PRODUCTLIST_BEFORE_DAY_CHANGING:"clear-productlist-before-day-changing",ADD_PRODUCT_TO_PRODUCTLIST:"add-product-to-productlist"};function L(e){var t={isMealOpened:!1,isAddingWindowOpened:!1,isRemovingWindowOpened:!1,countIngredients:!1,productList:[],newProduct:{id:0,mealId:e.mealId,dateIds:{dayId:0,monthId:0,yearId:0},name:"",weight:"",proteins:"",fats:"",carbs:"",kcal:""},warning:["",""],summary:{proteins:0,fats:0,carbs:0,kcal:0}},a=Object(o.useReducer)((function(t,a){switch(a.type){case P.NEGATE_MEAL_STATE:return Object(s.a)(Object(s.a)({},t),{},{isMealOpened:!t.isMealOpened});case P.NEGATE_ADDING_WINDOW_STATE:return Object(s.a)(Object(s.a)({},t),{},{isAddingWindowOpened:!t.isAddingWindowOpened});case P.NEGATE_REMOVING_WINDOW_STATE:return Object(s.a)(Object(s.a)({},t),{},{isRemovingWindowOpened:!t.isRemovingWindowOpened});case P.CHANGE_NEW_PRODUCT_DATA:switch(a.payload.key){case"name":return Object(s.a)(Object(s.a)({},t),{},{newProduct:Object(s.a)(Object(s.a)({},t.newProduct),{},{name:a.payload.value})});case"weight":return Object(s.a)(Object(s.a)({},t),{},{newProduct:Object(s.a)(Object(s.a)({},t.newProduct),{},{weight:a.payload.value})});case"proteins":return Object(s.a)(Object(s.a)({},t),{},{newProduct:Object(s.a)(Object(s.a)({},t.newProduct),{},{proteins:a.payload.value})});case"fats":return Object(s.a)(Object(s.a)({},t),{},{newProduct:Object(s.a)(Object(s.a)({},t.newProduct),{},{fats:a.payload.value})});case"carbs":return Object(s.a)(Object(s.a)({},t),{},{newProduct:Object(s.a)(Object(s.a)({},t.newProduct),{},{carbs:a.payload.value})});case"kcal":return Object(s.a)(Object(s.a)({},t),{},{newProduct:Object(s.a)(Object(s.a)({},t.newProduct),{},{kcal:a.payload.value})})}case P.ADD_PRODUCT:return t.newProduct.id=Date.now(),t.newProduct.dateIds=e.dateIds,t.productList.push(t.newProduct),localStorage.setItem(t.newProduct.id,JSON.stringify(t.newProduct)),Object(s.a)(Object(s.a)({},t),{},{newProduct:{id:0,mealId:e.mealId,dateIds:{dayId:0,monthId:0,yearId:0},name:"",weight:"",proteins:"",fats:"",carbs:"",kcal:""}});case P.SET_WARNING:switch(a.payload){case"name":return Object(s.a)(Object(s.a)({},t),{},{warning:[W.name,a.payload]});case"weight":return Object(s.a)(Object(s.a)({},t),{},{warning:[W.weight,a.payload]});default:return Object(s.a)(Object(s.a)({},t),{},{warning:[W.macros,a.payload]})}case P.CLEAR_WARNING:return Object(s.a)(Object(s.a)({},t),{},{warning:["",a.payload]});case P.REMOVE_PRODUCT:var n=t.productList;return a.payload.forEach((function(e){n.forEach((function(t,a){Number(t.id)===Number(e)&&(n.splice(a,1),localStorage.removeItem(t.id))}))})),Object(s.a)(Object(s.a)({},t),{},{productList:n});case P.ADD_TO_SUMMARY:switch(a.payload.ingredient){case"proteins":return Object(s.a)(Object(s.a)({},t),{},{summary:Object(s.a)(Object(s.a)({},t.summary),{},{proteins:t.summary.proteins+Number(a.payload.value)})});case"fats":return Object(s.a)(Object(s.a)({},t),{},{summary:Object(s.a)(Object(s.a)({},t.summary),{},{fats:t.summary.fats+Number(a.payload.value)})});case"carbs":return Object(s.a)(Object(s.a)({},t),{},{summary:Object(s.a)(Object(s.a)({},t.summary),{},{carbs:t.summary.carbs+Number(a.payload.value)})});case"kcal":return Object(s.a)(Object(s.a)({},t),{},{summary:Object(s.a)(Object(s.a)({},t.summary),{},{kcal:t.summary.kcal+Number(a.payload.value)})})}case P.SUB_FROM_SUMMARY:switch(a.payload.ingredient){case"proteins":return Object(s.a)(Object(s.a)({},t),{},{summary:Object(s.a)(Object(s.a)({},t.summary),{},{proteins:t.summary.proteins-Number(a.payload.value)})});case"fats":return Object(s.a)(Object(s.a)({},t),{},{summary:Object(s.a)(Object(s.a)({},t.summary),{},{fats:t.summary.fats-Number(a.payload.value)})});case"carbs":return Object(s.a)(Object(s.a)({},t),{},{summary:Object(s.a)(Object(s.a)({},t.summary),{},{carbs:t.summary.carbs-Number(a.payload.value)})});case"kcal":return Object(s.a)(Object(s.a)({},t),{},{summary:Object(s.a)(Object(s.a)({},t.summary),{},{kcal:t.summary.kcal-Number(a.payload.value)})})}case P.ADD_PRODUCT_TO_PRODUCTLIST:return Object(s.a)(Object(s.a)({},t),{},{productList:[].concat(Object(c.a)(t.productList),[a.payload])});case P.CLEAR_PRODUCTLIST_BEFORE_DAY_CHANGING:return Object(s.a)(Object(s.a)({},t),{},{productList:[]});default:return console.error("Unknown action type: ".concat(a.type))}}),t),i=Object(n.a)(a,2),r=i[0],l=i[1],d=Object(o.useState)(!1),u=Object(n.a)(d,2),m=u[0],b=u[1];Object(o.useEffect)((function(){Object.keys(localStorage).forEach((function(t){var a=JSON.parse(localStorage.getItem(t));a.mealId===e.mealId&&a.dateIds.dayId===e.dateIds.dayId&&a.dateIds.monthId===e.dateIds.monthId&&a.dateIds.yearId===e.dateIds.yearId&&l({type:P.ADD_PRODUCT_TO_PRODUCTLIST,payload:a})}))}),[e.dateIds]),Object(o.useEffect)((function(){return function(){return l({type:P.CLEAR_PRODUCTLIST_BEFORE_DAY_CHANGING})}}),[e.dateIds]),Object(o.useEffect)((function(){var e=function(e,t){e&&l({type:t})};e(r.isMealOpened,P.NEGATE_MEAL_STATE),e(r.isAddingWindowOpened,P.NEGATE_ADDING_WINDOW_STATE),e(r.isRemovingWindowOpened,P.NEGATE_REMOVING_WINDOW_STATE)}),[e.dateIds]),Object(o.useEffect)((function(){e.updateGauges(r.summary,e.mealId)}),[r.summary]),Object(o.useEffect)((function(){var e=function(e){var t=document.querySelectorAll(".meal"),a=document.querySelector(".wrapper"),n=document.querySelector(".center-section");t.forEach((function(t){t.querySelector(".meal__buttons-section").style.pointerEvents=e,a.style.pointerEvents=e,n.style.overflowY="none"===e?"hidden":"auto"}))};r.isAddingWindowOpened||r.isRemovingWindowOpened?e("none"):e("auto")}),[r.isAddingWindowOpened,r.isRemovingWindowOpened]);var p=function(e){Object.keys(e).forEach((function(t){l({type:P.ADD_TO_SUMMARY,payload:{ingredient:t,value:e[t]}})}))},w=function(e){Object.keys(e).forEach((function(t){l({type:P.SUB_FROM_SUMMARY,payload:{ingredient:t,value:e[t]}})}))},h=function(){l({type:P.NEGATE_ADDING_WINDOW_STATE})},j=function(){l({type:P.NEGATE_REMOVING_WINDOW_STATE})};return Object(_.jsxs)("div",{className:"meal",style:r.isMealOpened&&window.innerWidth>768?{left:"-10px"}:{left:"0px"},children:[Object(_.jsxs)("section",{className:"meal__top-section",onClick:function(){l({type:P.NEGATE_MEAL_STATE})},children:[Object(_.jsx)("h2",{className:"meal__top-section__meal-title",children:e.name}),Object(_.jsxs)("ul",{className:"meal__top-section__meal-stats-list",children:[Object(_.jsxs)("li",{className:"meal__top-section__meal-stats-list__item",children:[r.summary.proteins," g"]}),Object(_.jsxs)("li",{className:"meal__top-section__meal-stats-list__item",children:[r.summary.fats," g"]}),Object(_.jsxs)("li",{className:"meal__top-section__meal-stats-list__item",children:[r.summary.carbs," g"]}),Object(_.jsxs)("li",{className:"meal__top-section__meal-stats-list__item",children:[r.summary.kcal," kcal"]})]})]}),0!==r.productList.length?Object(_.jsx)("section",{className:"meal__products-section",style:r.isMealOpened?{display:"flex"}:{display:"none"},children:r.productList.map((function(e){return Object(_.jsx)(R,{name:e.name,weight:e.weight,proteins:e.proteins,fats:e.fats,carbs:e.carbs,kcal:e.kcal,addIngredientsFunction:p,subIngredientsFunction:w},e.id)}))}):null,Object(_.jsx)("section",{className:"meal__buttons-section",style:r.isMealOpened?{display:"flex"}:{display:"none"},children:Object(_.jsxs)("div",{children:[Object(_.jsx)("button",{className:r.productList.length?"meal__buttons-section__remove-button":"meal__buttons-section__remove-button--disabled",onClick:r.productList.length?j:null,disabled:!(!r.isAddingWindowOpened&&!r.isRemovingWindowOpened),children:"Remove"}),Object(_.jsx)("button",{className:"meal__buttons-section__add-button",onClick:h,disabled:!(!r.isAddingWindowOpened&&!r.isRemovingWindowOpened),children:"Add"})]})}),r.isAddingWindowOpened?Object(_.jsx)(A,{data:{isPlaceholderEnabled:m,name:r.newProduct.name,weight:r.newProduct.weight,proteins:r.newProduct.proteins,fats:r.newProduct.fats,carbs:r.newProduct.carbs,kcal:r.newProduct.kcal},warning:r.warning,handleOnChange:function(e){console.log(r.productList);var t=function(){l({type:P.CHANGE_NEW_PRODUCT_DATA,payload:{key:e.target.id,value:""}}),l({type:P.SET_WARNING,payload:e.target.id})},a=function(){l({type:P.CHANGE_NEW_PRODUCT_DATA,payload:{key:e.target.id,value:e.target.value}}),l({type:P.CLEAR_WARNING,payload:e.target.id})};"name"===e.target.id?/[a-z\s]/i.test(e.target.value[e.target.value.length-1])?a():t():/[0-9]/.test(e.target.value[e.target.value.length-1])?/^[0]{1}/.test(e.target.value)?"weight"===e.target.id?t():(l({type:P.CHANGE_NEW_PRODUCT_DATA,payload:{key:e.target.id,value:"0"}}),l({type:P.CLEAR_WARNING,payload:e.target.id})):a():t()},handleFormClearing:function(){l({type:P.CHANGE_NEW_PRODUCT_DATA,payload:{key:"name",value:""}}),l({type:P.CHANGE_NEW_PRODUCT_DATA,payload:{key:"weight",value:""}}),l({type:P.CHANGE_NEW_PRODUCT_DATA,payload:{key:"proteins",value:""}}),l({type:P.CHANGE_NEW_PRODUCT_DATA,payload:{key:"fats",value:""}}),l({type:P.CHANGE_NEW_PRODUCT_DATA,payload:{key:"carbs",value:""}}),l({type:P.CHANGE_NEW_PRODUCT_DATA,payload:{key:"kcal",value:""}}),b(!1)},handleProductAdding:function(e){e.preventDefault(),setTimeout((function(){l({type:P.ADD_PRODUCT})}),10),l({type:P.NEGATE_ADDING_WINDOW_STATE})},handleAddWindow:h,handlePredefinedProductsAdding:function(e){e.forEach((function(e){setTimeout((function(){Object.keys(e).forEach((function(t){l({type:P.CHANGE_NEW_PRODUCT_DATA,payload:{key:t,value:e[t]}})})),l({type:P.ADD_PRODUCT})}),10)})),l({type:P.NEGATE_ADDING_WINDOW_STATE})}}):null,r.isRemovingWindowOpened?Object(_.jsx)(T,{list:r.productList,handleRemoving:function(e){l({type:P.REMOVE_PRODUCT,payload:e}),l({type:P.NEGATE_REMOVING_WINDOW_STATE})},handleRemoveWindow:j}):null]})}function R(e){return Object(o.useEffect)((function(){var t={proteins:e.proteins,fats:e.fats,carbs:e.carbs,kcal:e.kcal};return e.addIngredientsFunction(t),function(){e.subIngredientsFunction(t)}}),[]),Object(_.jsxs)("div",{className:"meal__products-section__product",children:[Object(_.jsxs)("div",{className:"meal__products-section__product__info",children:[Object(_.jsx)("h2",{className:"meal__products-section__product__title",children:e.name}),Object(_.jsxs)("p",{className:"meal__products-section__product__weight",children:[e.weight," g"]})]}),Object(_.jsxs)("ul",{className:"meal__products-section__product__stats-list",children:[Object(_.jsxs)("li",{className:"meal__products-section__product__stats-list__item",children:[e.proteins," g"]}),Object(_.jsxs)("li",{className:"meal__products-section__product__stats-list__item",children:[e.fats," g"]}),Object(_.jsxs)("li",{className:"meal__products-section__product__stats-list__item",children:[e.carbs," g"]}),Object(_.jsxs)("li",{className:"meal__products-section__product__stats-list__item meal__products-section__product__stats-list__item--kcal",children:[e.kcal," kcal"]})]})]})}a(16);function F(e){return Object(_.jsxs)("div",{className:e.isKcal?"right-section__gauge-container right-section__gauge-container--kcal":"right-section__gauge-container",children:[Object(_.jsx)("div",{className:e.isKcal?"right-section__gauge-container__bar right-section__gauge-container__bar--kcal":"right-section__gauge-container__bar",style:e.percent<100?function(){var t=2.7*e.percent;return t<90?{transform:"rotate(".concat(t,"deg)")}:t>=90&&t<180?{transform:"rotate(".concat(t,"deg)"),borderRightColor:"#ffffff80"}:t>=180?{transform:"rotate(".concat(t,"deg)"),borderRightColor:"#ffffff80",borderTopColor:"#ffffff80"}:void 0}():{borderColor:"#e00000"}}),Object(_.jsxs)("div",{className:e.isKcal?"right-section__gauge-container__text right-section__gauge-container__text--kcal":"right-section__gauge-container__text",children:[Object(_.jsxs)("h4",{className:e.isKcal?"right-section__gauge-container__text__amount right-section__gauge-container__text__amount--kcal":"right-section__gauge-container__text__amount",children:[e.amount," ",e.isKcal?null:"g"]}),Object(_.jsxs)("h6",{className:e.isKcal?"right-section__gauge-container__text__name right-section__gauge-container__text__name--kcal":"right-section__gauge-container__text__name",children:[e.name," "]}),Object(_.jsxs)("p",{className:e.isKcal?"right-section__gauge-container__text__percent right-section__gauge-container__text__percent--kcal":"right-section__gauge-container__text__percent",children:[e.percent," %"]}),Object(_.jsxs)("h5",{className:e.isKcal?"right-section__gauge-container__text__left right-section__gauge-container__text__left--kcal":"right-section__gauge-container__text__left",children:[e.left," ",e.isKcal?null:"g"," left"]})]})]})}a(22);function M(e){Object(o.useEffect)((function(){var e=document.querySelector("#root"),t=document.querySelector(".window__main__section__iframe");return e.style.filter="blur(5px) opacity(40%) grayscale(100%)",e.style.pointerEvents="none",setTimeout((function(){t.style.opacity="1"}),500),function(){e.style.filter="blur(0px) opacity(100%) grayscale(0%)",e.style.pointerEvents="auto"}}),[]);var t=function(){e.handleMoreWindow()};return l.a.createPortal(Object(_.jsxs)("div",{className:"window window--more",children:[Object(_.jsxs)("header",{className:"window__header",children:[Object(_.jsx)("h2",{className:"window__header__heading",children:e.title}),Object(_.jsx)("button",{className:"window__header__back-button",onClick:t,children:Object(_.jsx)(h.a,{})})]}),Object(_.jsxs)("main",{className:"window__main",children:[Object(_.jsxs)("section",{className:"window__main__section",children:[Object(_.jsx)("h3",{className:"window__main__section__title",children:"Description"}),Object(_.jsx)("p",{className:"window__main__section__text",children:e.description})]}),Object(_.jsxs)("section",{className:"window__main__section window__main__section--halfed",children:[Object(_.jsxs)("aside",{className:"window__main__section__split-left",children:[Object(_.jsx)("h3",{className:"window__main__section__title",children:"Difficulty"}),Object(_.jsxs)("div",{className:"exercise__top-section__grade-container",style:{marginBottom:"15px"},children:[Object(_.jsx)("span",{className:"exercise__top-section__grade-container__point exercise__top-section__grade-container__point--filled"}),Object(_.jsx)("span",{className:e.difficulty>=2?"exercise__top-section__grade-container__point exercise__top-section__grade-container__point--filled":"exercise__top-section__grade-container__point"}),Object(_.jsx)("span",{className:3===e.difficulty?"exercise__top-section__grade-container__point exercise__top-section__grade-container__point--filled":"exercise__top-section__grade-container__point"})]}),Object(_.jsx)("p",{className:"window__main__section__text",children:e.typeOfExercise})]}),Object(_.jsxs)("aside",{className:"window__main__section__split-right",children:[Object(_.jsx)("h3",{className:"window__main__section__title",children:"Muscles"}),Object(_.jsx)("ul",{className:"window__main__section__list",children:e.muscles.map((function(e,t){return Object(_.jsx)("li",{className:"window__main__section__list__item",children:e},t)}))})]})]}),Object(_.jsxs)("section",{className:"window__main__section",children:[Object(_.jsx)("h3",{className:"window__main__section__title",children:"Proper form"}),Object(_.jsx)("iframe",{className:"window__main__section__iframe",allowFullScreen:!0,width:"100%",height:"300px",src:e.properFormLink})]})]}),Object(_.jsxs)("section",{className:"window__bottom",children:[Object(_.jsx)("div",{}),Object(_.jsx)("button",{className:"window__bottom__primary-button",type:"button",onClick:t,children:"Back"})]})]}),document.getElementById("portal"))}var q="negate-exercise-opened",G="negate-add-window-state",U="negate-remove-window-state",B="negate-more-window-state",J="sort-serieslist",H="change-new-serie-data",z="update-lasttime-data",Y="set-warning",K="clear-warning",V="add-serie",Z="remove-serie",Q="add-serie-to-serieslist",X="clear-serieslist-before-day-change",$="Weight must be a positive number",ee="Reps must be a positive number";function te(e){var t={isExerciseOpened:!1,isAddWindowOpened:!1,isRemoveWindowOpened:!1,isMoreWindowOpened:!1,lastTimeData:{training:{weight:"First time",reps:"First time"},serie:{weight:"First time",reps:"First time"}},seriesList:[],warning:["",""],newSerie:{id:0,exerciseId:e.exerciseId,trainingId:0,dateIds:{dayId:0,monthId:0,yearId:0},serieCount:"",weight:"",reps:""}},a=function(e){var t={dayId:0,monthId:0,yearId:0};return 1===e.dayId&&1===e.monthId?(t.dayId=31,t.monthId=12,t.yearId=e.yearId-1):1===e.dayId&&3===e.monthId?(e.yearId%4===0&&e.yearId%100!==0||e.yearId%400===0?t.dayId=29:t.dayId=28,t.monthId=2,t.yearId=e.yearId):1!==e.dayId||4!==e.monthId&&6!==e.monthId&&8!==e.monthId&&9!==e.monthId&&11!==e.monthId?1===e.dayId?(t.dayId=30,t.monthId=e.monthId-1,t.yearId=e.yearId):(t.dayId=e.dayId-1,t.monthId=e.monthId,t.yearId=e.yearId):(t.dayId=31,t.monthId=e.monthId-1,t.yearId=e.yearId),t},i=Object(o.useReducer)((function(t,n){switch(n.type){case q:return Object(s.a)(Object(s.a)({},t),{},{isExerciseOpened:!t.isExerciseOpened});case G:return Object(s.a)(Object(s.a)({},t),{},{isAddWindowOpened:!t.isAddWindowOpened});case U:return Object(s.a)(Object(s.a)({},t),{},{isRemoveWindowOpened:!t.isRemoveWindowOpened});case B:return Object(s.a)(Object(s.a)({},t),{},{isMoreWindowOpened:!t.isMoreWindowOpened});case H:switch(n.payload.key){case"weight":return Object(s.a)(Object(s.a)({},t),{},{newSerie:Object(s.a)(Object(s.a)({},t.newSerie),{},{weight:n.payload.value})});case"reps":return Object(s.a)(Object(s.a)({},t),{},{newSerie:Object(s.a)(Object(s.a)({},t.newSerie),{},{reps:n.payload.value})})}case V:var i=t.seriesList,o=1;return t.newSerie.id=Date.now(),t.newSerie.dateIds=e.dateIds,i.push(t.newSerie),i.forEach((function(e){e.serieCount=o,o++})),localStorage.setItem(t.newSerie.id,JSON.stringify(t.newSerie)),Object(s.a)(Object(s.a)({},t),{},{newSerie:{id:0,exerciseId:e.exerciseId,dateIds:{dayId:0,monthId:0,yearId:0},serieCount:"",weight:"",reps:""},seriesList:i});case Z:var r=t.seriesList,l=n.payload,d=1;return l.forEach((function(e){r.forEach((function(t,a){localStorage.removeItem(t.id),Number(t.id)===Number(e)&&r.splice(a,1)}))})),r.forEach((function(e){e.serieCount=d,localStorage.setItem(e.id,JSON.stringify(e)),d++})),Object(s.a)(Object(s.a)({},t),{},{seriesList:r});case Y:switch(n.payload){case"weight":return Object(s.a)(Object(s.a)({},t),{},{warning:[$,n.payload]});case"reps":return Object(s.a)(Object(s.a)({},t),{},{warning:[ee,n.payload]})}case K:return Object(s.a)(Object(s.a)({},t),{},{warning:["",n.payload]});case Q:return Object(s.a)(Object(s.a)({},t),{},{seriesList:[].concat(Object(c.a)(t.seriesList),[n.payload])});case J:var _=function(){for(var e=1,a=[];a.length!==t.seriesList.length;)t.seriesList.forEach((function(t){t.serieCount===e&&a.push(t)})),e++;return{v:Object(s.a)(Object(s.a)({},t),{},{seriesList:a})}}();if("object"===typeof _)return _.v;case X:return Object(s.a)(Object(s.a)({},t),{},{seriesList:[]});case z:var u=function(){var n=0,i=0,c={weight:"First serie",reps:"First serie"},o={weight:"First training",reps:"First training"};0!==t.seriesList.length&&(t.seriesList.forEach((function(e,t){e.serieCount>n&&(n=e.serieCount,i=t)})),c={weight:t.seriesList[i].weight,reps:t.seriesList[i].reps});var r=[],l={},d=e.dateIds;if(0!==Object.keys(localStorage).length&&(Object.keys(localStorage).forEach((function(t){var a=JSON.parse(localStorage.getItem(t));a.exerciseId===e.exerciseId&&a.serieCount===n+1&&(a.dateIds.dayId<e.dateIds.dayId&&a.dateIds.monthId<e.dateIds.monthId&&a.dateIds.yearId===e.dateIds.yearId||a.dateIds.dayId<e.dateIds.dayId&&a.dateIds.monthId===e.dateIds.monthId&&a.dateIds.yearId===e.dateIds.yearId||a.dateIds.dayId>=e.dateIds.dayId&&a.dateIds.monthId<e.dateIds.monthId&&a.dateIds.yearId===e.dateIds.yearId||a.dateIds.dayId>=e.dateIds.dayId&&a.dateIds.monthId>=e.dateIds.monthId&&a.dateIds.yearId<e.dateIds.yearId)&&r.push(a)})),0!==r.length))for(;;)if(d=a(d),r.forEach((function(e){JSON.stringify(d)===JSON.stringify(e.dateIds)&&(l=e)})),void 0!==l.weight){o={weight:l.weight,reps:l.reps};break}return{v:Object(s.a)(Object(s.a)({},t),{},{lastTimeData:{training:o,serie:c}})}}();if("object"===typeof u)return u.v;default:return console.error("Unknown action type: ".concat(n.type))}}),t),r=Object(n.a)(i,2),l=r[0],d=r[1];Object(o.useEffect)((function(){Object.keys(localStorage).forEach((function(t){var a=JSON.parse(localStorage.getItem(t));a.exerciseId===e.exerciseId&&a.dateIds.dayId===e.dateIds.dayId&&a.dateIds.monthId===e.dateIds.monthId&&a.dateIds.yearId===e.dateIds.yearId&&d({type:Q,payload:a})})),d({type:J})}),[e.dateIds]),Object(o.useEffect)((function(){return function(){return d({type:X})}}),[e.dateIds]),Object(o.useEffect)((function(){}),[e.dateIds]),Object(o.useEffect)((function(){var e=function(e,t){e&&d({type:t})};e(l.isExerciseOpened,q),e(l.isAddWindowOpened,G),e(l.isRemoveWindowOpened,U),e(l.isMoreWindowOpened,B)}),[e.dateIds]),Object(o.useEffect)((function(){var e=function(e){var t=document.querySelectorAll(".meal"),a=document.querySelector(".wrapper"),n=document.querySelector(".center-section");t.forEach((function(t){t.querySelector(".meal__buttons-section").style.pointerEvents=e,a.style.pointerEvents=e,n.style.overflowY="none"===e?"hidden":"auto"}))};l.isAddWindowOpened||l.isRemoveWindowOpened||l.isMoreWindowOpened?e("none"):e("auto")}),[l.isAddWindowOpened,l.isRemoveWindowOpened,l.isMoreWindowOpened]),Object(o.useEffect)((function(){l.isAddWindowOpened&&d({type:z}),w()}),[l.isAddWindowOpened]);var u,m=function(){d({type:G})},b=function(){d({type:U})},p=function(){d({type:B})},w=function(){var t=[],n=[],i={},s=0,c=0,o=e.dateIds;if(0!==Object.keys(localStorage).length&&(Object.keys(localStorage).forEach((function(a){var n=JSON.parse(localStorage.getItem(a));n.exerciseId===e.exerciseId&&(n.dateIds.dayId<e.dateIds.dayId&&n.dateIds.monthId<e.dateIds.monthId&&n.dateIds.yearId===e.dateIds.yearId||n.dateIds.dayId<e.dateIds.dayId&&n.dateIds.monthId===e.dateIds.monthId&&n.dateIds.yearId===e.dateIds.yearId||n.dateIds.dayId>=e.dateIds.dayId&&n.dateIds.monthId<e.dateIds.monthId&&n.dateIds.yearId===e.dateIds.yearId||n.dateIds.dayId>=e.dateIds.dayId&&n.dateIds.monthId>=e.dateIds.monthId&&n.dateIds.yearId<e.dateIds.yearId)&&t.push(n)})),0!==t.length))for(;o=a(o),t.forEach((function(e){JSON.stringify(o)===JSON.stringify(e.dateIds)&&n.push(e)})),0===n.length;);var r=h(n);return c=h(l.seriesList)-r,s=r?(c/r*100).toFixed(2):"",r>0?c>0?(i.top="".concat(c.toFixed(2)," kg more"),i.bottom="".concat(s,"% more than last time")):0===c?(i.top="The same result as last time",i.bottom=""):(c*=-1,s*=-1,i.top="".concat(c.toFixed(2)," kg less"),i.bottom="".concat(s,"% less than last time")):(i.top="First training, don't give up!",i.bottom=""),i},h=function(e){var t=0;return e.forEach((function(e){t+=Number(e.weight)*Number(e.reps)})),t},j=function(e){var t=0;return e.forEach((function(e){t+=Number(e.reps)})),t};return Object(_.jsxs)("div",{className:"meal exercise",style:l.isExerciseOpened&&window.innerWidth>768?{left:"-10px"}:{left:"0px"},children:[Object(_.jsxs)("section",{className:"meal__top-section exercise__top-section",onClick:function(){d({type:q})},children:[Object(_.jsx)("h2",{className:"meal__top-section__meal-title",children:e.name}),Object(_.jsxs)("div",{className:"exercise__top-section__grade-container",title:"Exercise difficulty",children:[Object(_.jsx)("span",{className:"exercise__top-section__grade-container__point exercise__top-section__grade-container__point--filled"}),Object(_.jsx)("span",{className:e.difficulty>=2?"exercise__top-section__grade-container__point exercise__top-section__grade-container__point--filled":"exercise__top-section__grade-container__point"}),Object(_.jsx)("span",{className:3===e.difficulty?"exercise__top-section__grade-container__point exercise__top-section__grade-container__point--filled":"exercise__top-section__grade-container__point"})]})]}),0!==l.seriesList.length?Object(_.jsxs)("section",{className:"meal__products-section exercise__series-section",style:l.isExerciseOpened?{display:"flex"}:{display:"none"},children:[Object(_.jsx)("ul",{className:"exercise__series-section__list",children:l.seriesList.map((function(e){return Object(_.jsxs)("li",{className:"exercise__series-section__list__item",children:[Object(_.jsxs)("p",{className:"exercise__series-section__list__item__count",children:["Serie ",e.serieCount]}),Object(_.jsxs)("p",{className:"exercise__series-section__list__item__weight",children:[e.weight," kg"]}),Object(_.jsxs)("p",{className:"exercise__series-section__list__item__reps",children:[e.reps," reps"]})]},e.id)}))}),Object(_.jsxs)("ul",{className:"exercise__series-section__summary",children:[Object(_.jsxs)("li",{className:"exercise__series-section__summary__item",children:[Object(_.jsx)("p",{className:"exercise__series-section__summary__item__count",children:"Total"}),Object(_.jsxs)("p",{className:"exercise__series-section__summary__item__weight",children:[h(l.seriesList)," kg"]}),Object(_.jsxs)("p",{className:"exercise__series-section__summary__item__reps",children:[j(l.seriesList)," reps"]})]}),Object(_.jsxs)("li",{className:"exercise__series-section__summary__item",children:[Object(_.jsxs)("p",{className:"exercise__series-section__list__item__count",children:[Object(_.jsx)("span",{children:w().top}),Object(_.jsx)("span",{children:w().bottom})]}),Object(_.jsxs)("p",{className:"exercise__series-section__list__item__reps exercise__series-section__list__item__reps--stats",children:[(u=l.seriesList,(h(u)/j(u)).toFixed(2))," kg per rep"]})]})]})]}):null,Object(_.jsxs)("section",{className:"meal__buttons-section exercise__buttons-section",style:l.isExerciseOpened?{display:"flex"}:{display:"none"},children:[Object(_.jsx)("button",{className:"adding-window__main__form__tertiary",onClick:p,children:"More"}),Object(_.jsxs)("div",{children:[Object(_.jsx)("button",{className:l.seriesList.length?"meal__buttons-section__remove-button":"meal__buttons-section__remove-button--disabled",onClick:l.seriesList.length?b:null,disabled:!(!l.isAddWindowOpened&&!l.isRemoveWindowOpened),children:"Remove"}),Object(_.jsx)("button",{className:"adding-window__main__form__primary",onClick:m,disabled:!(!l.isAddWindowOpened&&!l.isRemoveWindowOpened),children:"Add"})]})]}),l.isAddWindowOpened?Object(_.jsx)(A,{type:"exercises",handleAddWindow:m,data:{weight:l.newSerie.weight,reps:l.newSerie.reps},warning:l.warning,handleOnChange:function(e){var t=function(){d({type:H,payload:{key:e.target.id,value:""}}),d({type:Y,payload:e.target.id})};/[0-9]/.test(e.target.value[e.target.value.length-1])?/^[0]{1}/.test(e.target.value)?t():(d({type:H,payload:{key:e.target.id,value:e.target.value}}),d({type:K,payload:e.target.id})):t()},handleFormClearing:function(){d({type:H,payload:{key:"weight",value:""}}),d({type:H,payload:{key:"reps",value:""}})},handleSerieAdding:function(e){e.preventDefault(),setTimeout((function(){d({type:V})}),10),d({type:G})},lastTimeData:l.lastTimeData}):null,l.isRemoveWindowOpened?Object(_.jsx)(T,{type:"exercises",list:l.seriesList,handleRemoving:function(e){d({type:Z,payload:e}),d({type:U})},handleRemoveWindow:b}):null,l.isMoreWindowOpened?Object(_.jsx)(M,{type:"exercises",title:e.name,description:e.description,difficulty:e.difficulty,typeOfExercise:e.typeOfExercise,muscles:e.muscles,properFormLink:e.properFormLink,handleMoreWindow:p}):null]})}var ae=[{id:0,name:"Bench Press",description:"The bench press is an upper-body weight training exercise in which the trainee\n                  presses a weight upwards while lying on a weight training bench. \n                  The exercise uses the pectoralis major, the anterior deltoids, and the triceps,\n                  among other stabilizing muscles. A barbell is generally used to hold the weight, \n                  but a pair of dumbbells can also be used.",difficulty:2,typeOfExercise:"Compound exercise",muscles:["Chest","Shoulders","Arms"],properFormLink:"https://www.youtube.com/embed/XSza8hVTlmM"},{id:1,name:"Deadlift",description:"Deadlift refers to the lifting of dead weight (weight without momentum),\n                  such as weights lying on the ground. It is one of the few standard weight training exercises\n                  in which all repetitions begin with dead weight. In most other lifts, there is an eccentric \n                  (lowering of the weight) phase followed by the concentric (lifting of the weight) phase. \n                  During these exercises, a small amount of energy is stored in the stretched muscles and \n                  tendons in the eccentric phase if the lifter is not flexible beyond the range of motion.\n                  Although this exercise uses the legs and hips as the primary movers, it can also be considered a back exercise.",difficulty:3,typeOfExercise:"Compound exercise",muscles:["Legs","Back","Core"],properFormLink:"https://www.youtube.com/embed/op9kVnSso6Q"},{id:2,name:"Squat",description:"A squat is a strength exercise in which the trainee lowers their hips from a standing position\n                  and then stands back up. During the descent of a squat, the hip and knee joints flex while\n                  the ankle joint dorsiflexes; conversely the hip and knee joints extend and the ankle joint\n                  plantarflexes when standing up. Squats are considered a vital exercise for increasing the strength and size of the lower body\n                  muscles as well as developing core strength. The primary agonist muscles used during the squat are\n                  the quadriceps femoris, the adductor magnus, and the gluteus maximus.",difficulty:3,typeOfExercise:"Compound exercise",muscles:["Legs","Core"],properFormLink:"https://www.youtube.com/embed/ultWZbUMPL8"},{id:3,name:"Pull-up",description:"A pull-up is an upper-body strength exercise. The pull-up is a closed-chain movement where \n                  the body is suspended by the hands and pulls up. As this happens, the elbows \n                  flex and the shoulders adduct and extend to bring the elbows to the torso.",difficulty:2,typeOfExercise:"Compound exercise",muscles:["Upper back","Arms"],properFormLink:"https://www.youtube.com/embed/HRV5YKKaeVw"},{id:4,name:"Push-up",description:"A push-up is a common calisthenics exercise beginning from the prone position. \n                  By raising and lowering the body using the arms, push-ups exercise the pectoral muscles, \n                  triceps, and anterior deltoids, with ancillary benefits to the rest of the deltoids, \n                  serratus anterior, coracobrachialis and the midsection as a whole. Push-ups are a basic \n                  exercise used in civilian athletic training or physical education and commonly in military \n                  physical training.",difficulty:1,typeOfExercise:"Compound exercise",muscles:["Chest","Shoulders","Arms","Core"],properFormLink:"https://www.youtube.com/embed/0pkjOk0EiAk"},{id:5,name:"Overhead Press",description:"The overhead press (abbreviated OHP), also referred to as a shoulder press, military press,\n                  or simply the press, is a weight training exercise with many variations. It is typically performed\n                  while either standing or sitting sometimes also when squatting, in which a weight is pressed straight\n                  upwards from racking position until the arms are locked out overhead, while the legs, lower back and\n                  abs maintain balance. The exercise helps build muscular shoulders with bigger arms, and is one\n                  of the most difficult compound upper-body exercises.",difficulty:2,typeOfExercise:"Compound exercise",muscles:["Shoulders","Arms","Core"],properFormLink:"https://www.youtube.com/embed/2yjwXTZQDDI"},{id:6,name:"Bent-over Row",description:"A bent-over row (or barbell row) is a weight training exercise \n                  that targets a variety of back muscles. Which ones are targeted varies on form. \n                  The bent over row is often used for both bodybuilding and powerlifting. \n                  It is a good exercise for increasing strength and size",difficulty:2,typeOfExercise:"Compound exercise",muscles:["Back","Arms","Core"],properFormLink:"https://www.youtube.com/embed/kBWAon7ItDw"},{id:7,name:"Biceps Curl",description:"Biceps curl is a general term for a series of strength exercises \n                  that involve brachioradialis, front deltoid and the main target on biceps brachii.\n                  Includes variations using barbell, dumbbell and resistance band, etc. The common point\n                  amongst them is the trainee lifting a certain amount of weight to contracting the biceps\n                  brachii, and tuck in their arms to the torso during the concentric phase. Once the biceps brachii\n                  is fully contracted, then return the weight to starting position during the eccentric phase.",difficulty:1,typeOfExercise:"Isolated exercise",muscles:["Biceps","Arms"],properFormLink:"https://www.youtube.com/embed/ykJmrZ5v0Oo"},{id:8,name:"French Press",description:"Lying triceps extensions, also known as skull crushers and French extensions\n                  or French presses, are a strength exercise used in many different forms of strength training.\n                  Lying triceps extensions are one of the most stimulating exercises to the entire triceps muscle\n                  group in the upper arm. It works the triceps from the elbow all the way to the latissimus dorsi.\n                  Due to its full use of the Triceps muscle group, the lying triceps extensions are used by many\n                  as part of their training regimen.",difficulty:1,typeOfExercise:"Isolated exercise",muscles:["Triceps","Arms"],properFormLink:"https://www.youtube.com/embed/JImgCWzCHwI"},{id:9,name:"Running",description:"Running is a method of terrestrial locomotion allowing humans and other animals\n                  to move rapidly on foot. Running is a type of gait characterized by an aerial phase in which\n                  all feet are above the ground (though there are exceptions). A feature of a running\n                  body from the viewpoint of spring-mass mechanics is that changes in kinetic and potential energy\n                  within a stride occur simultaneously, with energy storage accomplished by springy tendons and\n                  passive muscle elasticity. The term running can refer to any of a variety of speeds ranging from jogging to sprinting. ",difficulty:1,typeOfExercise:"Aerobic exercise",muscles:["Legs","Core"],properFormLink:"https://www.youtube.com/embed/brFHyOtTwH4"}],ne=(a(23),{isCategoryOpened:!1,isAccountCategory:!1,isNutritionCategory:!0,isTrainingCategory:!1,settingsData:{account:{},nutrition:{dailyDemand:{kcal:2e3,proteins:120,fats:55,carbs:240},namesOfMeals:{0:"Breakfast",1:"II Breakfast",2:"Lunch",3:"Snack",4:"Dinner",5:"",6:"",7:"",8:"",9:""},numberOfMeals:5},training:{selectedExercises:[0,1,2,3,5]}},clearAllProducts:!1,clearAllSeries:!1,isSettingsChanged:!1}),ie="negate-category-opened",se="change-settings-data",ce="load-settings",oe="set-clear-all-products",re="set-clear-all-series",le="add-exercise-to-selectedexercises",de="remove-exercise-from-selectedexercises",_e="set-settings-changed-state",ue="reset-nutrition-settings-to-initial",me="reset-training-settings-to-initial",be="set-category";function pe(e){var t=Object(o.useReducer)((function(t,a){switch(a.type){case ie:return Object(s.a)(Object(s.a)({},t),{},{isCategoryOpened:!t.isCategoryOpened});case se:switch(a.payload.key){case"editMealName":return Object(s.a)(Object(s.a)({},t),{},{settingsData:Object(s.a)(Object(s.a)({},t.settingsData),{},{nutrition:Object(s.a)(Object(s.a)({},t.settingsData.nutrition),{},{namesOfMeals:Object(s.a)(Object(s.a)({},t.settingsData.nutrition.namesOfMeals),{},Object(i.a)({},a.payload.index,a.payload.value))})})});case"setMealsNumber":return Object(s.a)(Object(s.a)({},t),{},{settingsData:Object(s.a)(Object(s.a)({},t.settingsData),{},{nutrition:Object(s.a)(Object(s.a)({},t.settingsData.nutrition),{},{numberOfMeals:a.payload.value})})});default:return Object(s.a)(Object(s.a)({},t),{},{settingsData:Object(s.a)(Object(s.a)({},t.settingsData),{},{nutrition:Object(s.a)(Object(s.a)({},t.settingsData.nutrition),{},{dailyDemand:Object(s.a)(Object(s.a)({},t.settingsData.nutrition.dailyDemand),{},Object(i.a)({},a.payload.key,a.payload.value))})})})}case ce:var n=JSON.parse(localStorage.getItem("settings"));return Object(s.a)(Object(s.a)({},t),{},{settingsData:n});case oe:return Object(s.a)(Object(s.a)({},t),{},{clearAllProducts:a.payload});case re:return Object(s.a)(Object(s.a)({},t),{},{clearAllSeries:a.payload});case le:var c=t.settingsData.training.selectedExercises;return c.push(a.payload),Object(s.a)(Object(s.a)({},t),{},{settingsData:Object(s.a)(Object(s.a)({},t.settingsData),{},{training:Object(s.a)(Object(s.a)({},t.settingsData.training),{},{selectedExercises:c})})});case de:var o=t.settingsData.training.selectedExercises,r=o.indexOf(a.payload);return o.splice(r,1),Object(s.a)(Object(s.a)({},t),{},{settingsData:Object(s.a)(Object(s.a)({},t.settingsData),{},{training:Object(s.a)(Object(s.a)({},t.settingsData.training),{},{selectedExercises:o})})});case _e:return Object(s.a)(Object(s.a)({},t),{},{isSettingsChanged:a.payload});case ue:return Object(s.a)(Object(s.a)({},t),{},{settingsData:Object(s.a)(Object(s.a)({},t.settingsData),{},{nutrition:e.initialData.nutrition})});case me:return console.log(t.settingsData.training.selectedExercises),Object(s.a)(Object(s.a)({},t),{},{settingsData:Object(s.a)(Object(s.a)({},t.settingsData),{},{training:e.initialData.training})});case be:var l=a.payload.category;return Object(s.a)(Object(s.a)({},t),{},Object(i.a)({},l,a.payload.value));default:return console.error("Unknown action type: ".concat(a.type))}}),ne),a=Object(n.a)(t,2),c=a[0],r=a[1],d=Object(o.useState)({"clear-all-products":!1,"reset-nutrition-to-initial":!1,"clear-all-series":!1,"reset-training-to-initial":!1}),u=Object(n.a)(d,2),m=u[0],b=u[1];Object(o.useEffect)((function(){0!==Object.keys(localStorage).length?r({type:ce}):w()}),[]),Object(o.useEffect)((function(){var e=document.querySelector("#root");return e.style.filter="blur(5px) opacity(40%) grayscale(100%)",e.style.pointerEvents="none",function(){e.style.filter="blur(0px) opacity(100%) grayscale(0%)",e.style.pointerEvents="auto"}}),[]),Object(o.useEffect)((function(){var e=document.querySelector(".window");c.clearAllProducts||c.clearAllSeries?(e.style.filter="blur(5px) opacity(40%) grayscale(100%)",e.style.pointerEvents="none"):(e.style.filter="blur(0px) opacity(100%) grayscale(0%)",e.style.pointerEvents="auto")}),[c.clearAllProducts,c.clearAllSeries]),Object(o.useEffect)((function(){var e=localStorage.getItem("settings"),t=JSON.stringify(c.settingsData);r(e===t?{type:_e,payload:!1}:{type:_e,payload:!0})}),[c.settingsData]),Object(o.useEffect)((function(){for(var e=0;e<Object.keys(m).length;e++){if(!0===Object.values(m)[e]){r({type:_e,payload:!0});break}r({type:_e,payload:!1})}}),[m]);var p=function(){Object.keys(m).forEach((function(e){m[e]=!1}))},w=function(){localStorage.setItem("settings",JSON.stringify(c.settingsData))},j=function(){r({type:ce})},g=function(t){t.preventDefault(),m["clear-all-products"]&&r({type:oe,payload:!0}),m["reset-nutrition-to-initial"]&&r({type:ue}),m["clear-all-series"]&&r({type:re,payload:!0}),m["reset-training-to-initial"]&&r({type:me}),r({type:_e,payload:!1}),w(),p(),e.updateGauges()},O=function(t){t.preventDefault(),j(),p(),e.updateGauges(),e.changePageTitle(e.previousPage)},y=function(t){t.preventDefault(),j(),p(),e.updateGauges()},f=function(e){e.target.style.backgroundColor?"transparent"===e.target.style.backgroundColor?r({type:le,payload:Number(e.target.id[e.target.id.length-1])}):r({type:de,payload:Number(e.target.id[e.target.id.length-1])}):"transparent"===e.target.children[0].style.backgroundColor?r({type:le,payload:Number(e.target.id[e.target.id.length-1])}):r({type:de,payload:Number(e.target.id[e.target.id.length-1])})},x=function(t){t.preventDefault(),"editMealName"===t.target.id&&r({type:se,payload:{key:t.target.id,index:Number(t.target.attributes["data-key"].value),value:t.target.value}}),/[0-9]/.test(t.target.value[t.target.value.length-1])?/^[0]{1}/.test(t.target.value)?r({type:se,payload:{key:t.target.id,value:1}}):r({type:se,payload:{key:t.target.id,value:t.target.value}}):r({type:se,payload:{key:t.target.id,value:""}}),e.updateGauges()},N=function(e){b((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(i.a)({},e.target.id,!m[e.target.id]))}))},v=function(e){e.preventDefault(),r({type:be,payload:{category:"isAccountCategory",value:!1}}),r({type:be,payload:{category:"isNutritionCategory",value:!1}}),r({type:be,payload:{category:"isTrainingCategory",value:!1}}),r({type:be,payload:{category:e.target.id,value:!0}}),j(),p()};return l.a.createPortal(Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("div",{className:"window",children:[Object(_.jsxs)("header",{className:"window__header",children:[Object(_.jsx)("h2",{className:"window__header__heading",children:"Settings"}),Object(_.jsx)("button",{className:"window__header__back-button",onClick:O,children:Object(_.jsx)(h.a,{})}),Object(_.jsxs)("button",{className:"window__header__switch",children:[Object(_.jsx)("h3",{className:c.isAccountCategory?"window__header__switch__left window__header__switch__left--selected":"window__header__switch__left",id:"isAccountCategory",onClick:v,children:"Account"}),Object(_.jsx)("h3",{className:c.isNutritionCategory?"window__header__switch__center window__header__switch__center--selected":"window__header__switch__center",id:"isNutritionCategory",onClick:v,children:"Nutrition"}),Object(_.jsx)("h3",{className:c.isTrainingCategory?"window__header__switch__right window__header__switch__right--selected":"window__header__switch__right",id:"isTrainingCategory",onClick:v,children:"Training"})]})]}),Object(_.jsxs)("main",{className:"window__form",children:[c.isAccountCategory&&Object(_.jsxs)("form",{className:"window__main window__main--add",onSubmit:g,children:[Object(_.jsx)("button",{className:c.isSettingsChanged?"window__header__add-button":"window__header__add-button window__header__add-button--disabled",type:"submit",style:{zIndex:11},disabled:!c.isSettingsChanged,children:Object(_.jsx)(h.d,{})}),Object(_.jsx)("section",{className:"window__main__section window__main__section--form",children:Object(_.jsx)("h3",{className:"window__main__section__title",children:"Account"})}),Object(_.jsxs)("section",{className:"window__bottom",children:[Object(_.jsx)("button",{className:c.isSettingsChanged?"window__bottom__tertiary-button":"window__bottom__tertiary-button window__bottom__tertiary-button--disabled",type:"button",onClick:y,disabled:!c.isSettingsChanged,children:"Reset"}),Object(_.jsxs)("div",{children:[Object(_.jsx)("button",{className:"window__bottom__secondary-button",type:"button",onClick:O,children:"Cancel"}),Object(_.jsx)("button",{className:c.isSettingsChanged?"window__bottom__primary-button":"window__bottom__primary-button window__bottom__primary-button--disabled",type:"submit",id:"saveSettings",value:"Save",disabled:!c.isSettingsChanged,children:"Save"})]})]})]}),c.isNutritionCategory&&Object(_.jsxs)("form",{className:"window__main window__main--add",onSubmit:g,children:[Object(_.jsx)("button",{className:c.isSettingsChanged?"window__header__add-button":"window__header__add-button window__header__add-button--disabled",type:"submit",style:{zIndex:11},disabled:!c.isSettingsChanged,children:Object(_.jsx)(h.d,{})}),Object(_.jsxs)("section",{className:"window__main__section window__main__section--form",children:[Object(_.jsx)("h3",{className:"window__main__section__title",children:"Daily demand"}),Object(_.jsxs)("div",{className:"window__main__input-line",children:[Object(_.jsx)("label",{className:"window__main__input-line__label",htmlFor:"proteins",children:"Proteins"}),Object(_.jsx)("input",{className:"window__main__input-line__input",type:"text",id:"proteins",value:c.settingsData.nutrition.dailyDemand.proteins,onChange:x,maxLength:"4"}),Object(_.jsx)("span",{className:"window__main__input-line__unit",children:"g"})]}),Object(_.jsxs)("div",{className:"window__main__input-line",children:[Object(_.jsx)("label",{className:"window__main__input-line__label",htmlFor:"fats",children:"Fats"}),Object(_.jsx)("input",{className:"window__main__input-line__input",type:"text",id:"fats",value:c.settingsData.nutrition.dailyDemand.fats,onChange:x,maxLength:"4"}),Object(_.jsx)("span",{className:"window__main__input-line__unit",children:"g"})]}),Object(_.jsxs)("div",{className:"window__main__input-line",children:[Object(_.jsx)("label",{className:"window__main__input-line__label",htmlFor:"carbs",children:"Carbohydrates"}),Object(_.jsx)("input",{className:"window__main__input-line__input",type:"text",id:"carbs",value:c.settingsData.nutrition.dailyDemand.carbs,onChange:x,maxLength:"4"}),Object(_.jsx)("span",{className:"window__main__input-line__unit",children:"g"})]}),Object(_.jsxs)("div",{className:"window__main__input-line",children:[Object(_.jsx)("label",{className:"window__main__input-line__label",htmlFor:"kcal",children:"Calories"}),Object(_.jsx)("input",{className:"window__main__input-line__input",type:"text",id:"kcal",value:c.settingsData.nutrition.dailyDemand.kcal,onChange:x,maxLength:"4"}),Object(_.jsx)("span",{className:"window__main__input-line__unit",children:"kcal"})]})]}),Object(_.jsxs)("section",{className:"window__main__section window__main__section--form",children:[Object(_.jsx)("h3",{className:"window__main__section__title",children:"Meals"}),Object(_.jsxs)("div",{className:"window__main__input-line",children:[Object(_.jsx)("label",{className:"window__main__input-line__label",htmlFor:"setMealsNumber",children:"Number of meals"}),Object(_.jsx)("input",{className:"window__main__input-line__input",type:"text",id:"setMealsNumber",value:c.settingsData.nutrition.numberOfMeals,onChange:x,maxLength:"1"}),Object(_.jsx)("span",{className:"window__main__input-line__unit",children:"meals"})]}),Object.values(c.settingsData.nutrition.namesOfMeals).map((function(e,t){return c.settingsData.nutrition.numberOfMeals>t?Object(_.jsxs)("div",{className:"window__main__input-line",children:[Object(_.jsx)("label",{className:"window__main__input-line__label",htmlFor:"editMealName",children:"Set meal nr ".concat(t+1," name")}),Object(_.jsx)("input",{className:"window__main__input-line__input","data-key":t,type:"text",id:"editMealName",value:c.settingsData.nutrition.namesOfMeals[t],onChange:x,required:!0})]},t):null}))]}),Object(_.jsxs)("section",{className:"window__main__section window__main__section--form",children:[Object(_.jsx)("h3",{className:"window__main__section__title",children:"Options"}),Object(_.jsxs)("div",{className:"window__main__input-line",children:[Object(_.jsx)("label",{className:"window__main__input-line__label window__main__input-line__label--checkbox",htmlFor:"clearAllProducts",children:"Clear all products"}),Object(_.jsx)("button",{className:"window__main__input-line__checkbox",id:"clear-all-products",type:"button",onClick:N,children:Object(_.jsx)("div",{className:"window__main__input-line__checkbox__background",id:"clear-all-products",style:m["clear-all-products"]?{backgroundColor:"#7500AF"}:{backgroundColor:"transparent"}})})]}),Object(_.jsxs)("div",{className:"window__main__input-line",children:[Object(_.jsx)("label",{className:"window__main__input-line__label window__main__input-line__label--checkbox",htmlFor:"resetNutritionSettingsToInitial",children:"Reset nutrition settings to initial"}),Object(_.jsx)("button",{className:"window__main__input-line__checkbox",id:"reset-nutrition-to-initial",type:"button",onClick:N,children:Object(_.jsx)("div",{className:"window__main__input-line__checkbox__background",id:"reset-nutrition-to-initial",style:m["reset-nutrition-to-initial"]?{backgroundColor:"#7500AF"}:{backgroundColor:"transparent"}})})]})]}),Object(_.jsxs)("section",{className:"window__bottom",children:[Object(_.jsx)("button",{className:c.isSettingsChanged?"window__bottom__tertiary-button":"window__bottom__tertiary-button window__bottom__tertiary-button--disabled",type:"button",onClick:y,disabled:!c.isSettingsChanged,children:"Reset"}),Object(_.jsxs)("div",{children:[Object(_.jsx)("button",{className:"window__bottom__secondary-button",type:"button",onClick:O,children:"Cancel"}),Object(_.jsx)("button",{className:c.isSettingsChanged?"window__bottom__primary-button":"window__bottom__primary-button window__bottom__primary-button--disabled",type:"submit",id:"saveSettings",value:"Save",disabled:!c.isSettingsChanged,children:"Save"})]})]})]}),c.isTrainingCategory&&Object(_.jsxs)("form",{className:"window__main window__main--add",onSubmit:g,children:[Object(_.jsx)("button",{className:c.isSettingsChanged?"window__header__add-button":"window__header__add-button window__header__add-button--disabled",type:"submit",style:{zIndex:11},disabled:!c.isSettingsChanged,children:Object(_.jsx)(h.d,{})}),Object(_.jsxs)("section",{className:"window__main__section window__main__section--form",children:[Object(_.jsx)("h3",{className:"window__main__section__title",children:"Exercises"}),ae.map((function(e){return Object(_.jsxs)("div",{className:"window__main__input-line",children:[Object(_.jsx)("label",{className:"window__main__input-line__label window__main__input-line__label--checkbox",htmlFor:"exercise"+e.id,children:e.name}),Object(_.jsx)("button",{className:"window__main__input-line__checkbox",id:"exercise"+e.id,type:"button",onClick:f,children:Object(_.jsx)("div",{className:"window__main__input-line__checkbox__background",id:"exercise"+e.id,style:c.settingsData.training.selectedExercises.includes(e.id)?{backgroundColor:"#7500AF"}:{backgroundColor:"transparent"}})})]},e.id)}))]}),Object(_.jsxs)("section",{className:"window__main__section window__main__section--form",children:[Object(_.jsx)("h3",{className:"window__main__section__title",children:"Options"}),Object(_.jsxs)("div",{className:"window__main__input-line",children:[Object(_.jsx)("label",{className:"window__main__input-line__label window__main__input-line__label--checkbox",htmlFor:"clear-all-series",children:"Clear all series"}),Object(_.jsx)("button",{className:"window__main__input-line__checkbox",id:"clear-all-series",type:"button",onClick:N,children:Object(_.jsx)("div",{className:"window__main__input-line__checkbox__background",id:"clear-all-series",style:m["clear-all-series"]?{backgroundColor:"#7500AF"}:{backgroundColor:"transparent"}})})]}),Object(_.jsxs)("div",{className:"window__main__input-line",children:[Object(_.jsx)("label",{className:"window__main__input-line__label window__main__input-line__label--checkbox",htmlFor:"reset-training-to-initial",children:"Reset training settings to initial"}),Object(_.jsx)("button",{className:"window__main__input-line__checkbox",id:"reset-training-to-initial",type:"button",onClick:N,children:Object(_.jsx)("div",{className:"window__main__input-line__checkbox__background",id:"reset-training-to-initial",style:m["reset-training-to-initial"]?{backgroundColor:"#7500AF"}:{backgroundColor:"transparent"}})})]})]}),Object(_.jsxs)("section",{className:"window__bottom",children:[Object(_.jsx)("button",{className:c.isSettingsChanged?"window__bottom__tertiary-button":"window__bottom__tertiary-button window__bottom__tertiary-button--disabled",type:"button",onClick:y,disabled:!c.isSettingsChanged,children:"Reset"}),Object(_.jsxs)("div",{children:[Object(_.jsx)("button",{className:"window__bottom__secondary-button",type:"button",onClick:O,children:"Cancel"}),Object(_.jsx)("button",{className:c.isSettingsChanged?"window__bottom__primary-button":"window__bottom__primary-button window__bottom__primary-button--disabled",type:"submit",id:"saveSettings",value:"Save",disabled:!c.isSettingsChanged,children:"Save"})]})]})]})]})]}),c.clearAllSeries&&Object(_.jsxs)("section",{className:"window window--login",children:[Object(_.jsx)("header",{className:"window__header",children:Object(_.jsx)("h2",{className:"window__header__heading",children:"Clear all?"})}),Object(_.jsx)("main",{className:"window__main",children:Object(_.jsx)("h3",{className:"window__main__message",children:"Are you sure you want to clear all series?"})}),Object(_.jsxs)("section",{className:"window__bottom",children:[Object(_.jsx)("button",{className:"window__bottom__secondary-button",onClick:function(){r({type:re,payload:!1})},children:"Cancel"}),Object(_.jsx)("button",{className:"window__bottom__primary-button",onClick:function(){r({type:re,payload:!1}),Object.keys(localStorage).forEach((function(e){JSON.parse(localStorage.getItem(e)).exerciseId>=0&&localStorage.removeItem(e)}))},children:"Remove"})]})]}),c.clearAllProducts&&Object(_.jsxs)("section",{className:"window window--login",children:[Object(_.jsx)("header",{className:"window__header",children:Object(_.jsx)("h2",{className:"window__header__heading",children:"Clear all?"})}),Object(_.jsx)("main",{className:"window__main",children:Object(_.jsx)("h3",{className:"window__main__message",children:"Are you sure you want to clear all products?"})}),Object(_.jsxs)("section",{className:"window__bottom",children:[Object(_.jsx)("button",{className:"window__bottom__secondary-button",onClick:function(){r({type:oe,payload:!1})},children:"Cancel"}),Object(_.jsx)("button",{className:"window__bottom__primary-button",onClick:function(){r({type:oe,payload:!1}),Object.keys(localStorage).forEach((function(e){JSON.parse(localStorage.getItem(e)).mealId>=0&&localStorage.removeItem(e)}))},children:"Remove"})]})]})]}),document.getElementById("portal"))}var we=a.p+"static/media/logo.92f8fff8.png";function he(e){var t=e.previousPage,a=e.changePageTitle;Object(o.useEffect)((function(){var e=document.querySelector("#root");return e.style.filter="blur(5px) opacity(40%) grayscale(100%)",e.style.pointerEvents="none",function(){e.style.filter="blur(0px) opacity(100%) grayscale(0%)",e.style.pointerEvents="auto"}}),[]);var n=function(e){e.preventDefault(),a(t)};return l.a.createPortal(Object(_.jsxs)("div",{className:"window",children:[Object(_.jsxs)("header",{className:"window__header",children:[Object(_.jsx)("h2",{className:"window__header__heading",children:"About"}),Object(_.jsx)("button",{className:"window__header__back-button",onClick:n,children:Object(_.jsx)(h.a,{})})]}),Object(_.jsxs)("main",{className:"window__main",children:[Object(_.jsxs)("section",{className:"window__main__section",children:[Object(_.jsx)("img",{className:"window__main__section__logo",src:we,alt:"Dietapp logo"}),Object(_.jsxs)("h1",{className:"left-section__logo-container__title",children:["Diet",Object(_.jsx)("span",{className:"left-section__logo-container__title__right",children:"app"})]})]}),Object(_.jsxs)("section",{className:"window__main__section",children:[Object(_.jsx)("h3",{className:"window__main__section__title",children:"Info"}),Object(_.jsx)("p",{className:"window__main__section__text",children:"The Dietapp is a complex nutrition and training organizer. Made to improve my skills in creating web apps using React, React Hooks, SCSS and Firebase."})]}),Object(_.jsxs)("section",{className:"window__main__section",children:[Object(_.jsx)("h3",{className:"window__main__section__title",children:"Features"}),Object(_.jsx)("p",{className:"window__main__section__text",children:"You can manually set your daily demand as well as your exercises which you are doing on training. An app saves data you entered and makes a several operations on these like counting macronutrients, progression made in training, or just storing these for any time you want."})]}),Object(_.jsxs)("section",{className:"window__main__section",children:[Object(_.jsx)("h3",{className:"window__main__section__title",children:"Idea"}),Object(_.jsx)("p",{className:"window__main__section__text",children:"Whole idea of the app is about my main hobby which are dietetics and bodybuilding. After 3 years of being a fit, I have included the most useful features to control your fit life."})]}),Object(_.jsx)("section",{className:"window__main__section",style:{marginTop:"40px"},children:Object(_.jsx)("h3",{className:"window__main__section__title",children:"\xa9 2021 Karol Jurczy\u0144ski"})})]}),Object(_.jsxs)("section",{className:"window__bottom",children:[Object(_.jsx)("div",{}),Object(_.jsx)("button",{className:"window__bottom__primary-button",type:"button",onClick:n,children:"Back"})]})]}),document.getElementById("portal"))}a(24);var je={isSignUpWindow:!1},ge="negate-sign-up-window";function Oe(e){var t=e.isLogout,a=e.setUserStatus,i=e.disableLoginWindows,c=Object(o.useReducer)((function(e,t){switch(t.type){case ge:return Object(s.a)(Object(s.a)({},e),{},{isSignUpWindow:!e.isSignUpWindow})}}),je),r=Object(n.a)(c,2),l=r[0],d=r[1],u=function(e){e.preventDefault(),d({type:ge})},m=function(e){e.preventDefault(),a("Guest"),i()},b=function(e){e.preventDefault(),a("Logged"),i()},p=function(e){e.preventDefault(),a("Log in"),i()},w=function(e){e.preventDefault(),i()};return Object(_.jsx)(_.Fragment,{children:t?Object(_.jsxs)("div",{className:"window window--logout",children:[Object(_.jsxs)("header",{className:"window__header",children:[Object(_.jsx)("h2",{className:"window__header__heading",children:"Log out?"}),Object(_.jsx)("button",{className:"window__header__back-button",type:"button",onClick:b,style:{zIndex:11},children:Object(_.jsx)(h.a,{})}),Object(_.jsx)("button",{className:"window__header__add-button",type:"button",onClick:p,style:{zIndex:11},children:Object(_.jsx)(h.b,{})})]}),Object(_.jsxs)("main",{className:"window__main",children:[Object(_.jsx)("h3",{className:"window__main__section__title",children:"Confirm"}),Object(_.jsx)("p",{className:"window__main__message",children:"Are you sure you want to log out?"})]}),Object(_.jsxs)("section",{className:"window__bottom",children:[Object(_.jsx)("button",{className:"window__bottom__secondary-button",type:"button",onClick:b,children:"Cancel"}),Object(_.jsx)("button",{className:"window__bottom__primary-button",type:"button",onClick:p,children:"Log out"})]})]}):Object(_.jsxs)("div",{className:"window window--login",children:[Object(_.jsxs)("header",{className:"window__header",children:[Object(_.jsx)("h2",{className:"window__header__heading",children:l.isSignUpWindow?"Sign up":"Log in"}),Object(_.jsx)("button",{className:"window__header__back-button",type:"button",onClick:w,style:{zIndex:11},children:Object(_.jsx)(h.a,{})}),Object(_.jsx)("button",{className:"window__header__add-button",type:"submit",onClick:b,style:{zIndex:11},children:Object(_.jsx)(h.b,{})})]}),l.isSignUpWindow?Object(_.jsxs)("main",{className:"window__main",children:[Object(_.jsxs)("span",{className:"window__main__input-line",children:[Object(_.jsx)("label",{className:"window__main__input-line__label",htmlFor:"login",children:"Login"}),Object(_.jsx)("input",{className:"window__main__input-line__input",type:"text",id:"login",placeholder:"Login"})]}),Object(_.jsxs)("span",{className:"window__main__input-line",children:[Object(_.jsx)("label",{className:"window__main__input-line__label",htmlFor:"email",children:"Email"}),Object(_.jsx)("input",{className:"window__main__input-line__input",type:"email",id:"email",placeholder:"Email"})]}),Object(_.jsxs)("span",{className:"window__main__input-line",children:[Object(_.jsx)("label",{className:"window__main__input-line__label",htmlFor:"password",children:"Password"}),Object(_.jsx)("input",{className:"window__main__input-line__input",type:"password",id:"password",placeholder:"Password"})]}),Object(_.jsxs)("span",{className:"window__main__input-line",children:[Object(_.jsx)("label",{className:"window__main__input-line__label",htmlFor:"confirmPassword",children:"Confirm Password"}),Object(_.jsx)("input",{className:"window__main__input-line__input",type:"password",id:"confirmPassword",placeholder:"Password"})]}),Object(_.jsxs)("section",{className:"window__main__login-options",children:[Object(_.jsxs)("span",{className:"window__main__login-options__line",children:["Already had an account? ",Object(_.jsx)("a",{className:"window__main__login-options__line__link",onClick:u,href:"",children:"Log in"})]}),Object(_.jsxs)("span",{className:"window__main__login-options__line",children:["or ",Object(_.jsx)("a",{className:"window__main__login-options__line__link",onClick:m,href:"",children:"Try as guest"})]})]})]}):Object(_.jsxs)("main",{className:"window__main",children:[Object(_.jsxs)("span",{className:"window__main__input-line",children:[Object(_.jsx)("label",{className:"window__main__input-line__label",htmlFor:"login",children:"Login"}),Object(_.jsx)("input",{className:"window__main__input-line__input",type:"text",id:"login",placeholder:"Login"})]}),Object(_.jsxs)("span",{className:"window__main__input-line",children:[Object(_.jsx)("label",{className:"window__main__input-line__label",htmlFor:"password",children:"Password"}),Object(_.jsx)("input",{className:"window__main__input-line__input",type:"password",id:"password",placeholder:"Password"}),Object(_.jsx)("a",{className:"window__main__input-line__link",href:"",children:"Forgot your password?"})]}),Object(_.jsxs)("section",{className:"window__main__login-options",children:[Object(_.jsxs)("span",{className:"window__main__login-options__line",children:["Don't have an account? ",Object(_.jsx)("a",{className:"window__main__login-options__line__link",onClick:u,href:"",children:"Sign up"})]}),Object(_.jsxs)("span",{className:"window__main__login-options__line",children:["or ",Object(_.jsx)("a",{className:"window__main__login-options__line__link",onClick:m,href:"",children:"Try as guest"})]})]})]}),Object(_.jsxs)("section",{className:"window__bottom",children:[Object(_.jsx)("button",{className:"window__bottom__secondary-button",type:"button",onClick:w,children:"Cancel"}),Object(_.jsx)("button",{className:"window__bottom__primary-button",type:"submit",onClick:b,children:l.isSignUpWindow?"Sign up":"Log in"})]})]})})}a(25);var ye="update-meals-ingredients-summary",fe="update-daily-ingredients-summary",xe="count-gauges-data",Ne="change-date",ve="change-page-title",ke="load-settings",Ie="set-login-window",Ce="set-user-status",Se="change-hamburger-state",Ee=function(e,t){return Number.isNaN(Math.round(e/t*100))?0:Math.round(e/t*100)};function De(){var e={dateIds:{dayId:0,monthId:0,yearId:0},pageTitle:"Dashboard",previousPageTitle:"Dashboard",isLoginWindowsEnabled:!1,isAddWindowsEnabled:!1,isRemoveWindowsEnabled:!1,isMoreWindowsEnabled:!1,hamburgerState:!1,userStatus:"Log in",mealsIngredientsSummary:[],dailyIngredientsSummary:{kcal:0,proteins:0,fats:0,carbs:0},gaugesData:{kcal:{eaten:0,left:0,max:0,percent:0},proteins:{eaten:0,left:0,max:0,percent:0},fats:{eaten:0,left:0,max:0,percent:0},carbs:{eaten:0,left:0,max:0,percent:0}},settingsData:{main:{},nutrition:{dailyDemand:{kcal:2e3,proteins:120,fats:55,carbs:240},namesOfMeals:{0:"Breakfast",1:"II Breakfast",2:"Lunch",3:"Snack",4:"Dinner",5:"",6:"",7:"",8:"",9:""},numberOfMeals:5},training:{selectedExercises:[0,1,2,3,5]}},clearAllProducts:!1,clearAllSeries:!1,isSettingsChanged:!1},t=Object(o.useReducer)((function(e,t){switch(t.type){case ye:var a=Object(c.a)(e.mealsIngredientsSummary);return a[t.payload.mealId]={proteins:t.payload.data.proteins,fats:t.payload.data.fats,carbs:t.payload.data.carbs,kcal:t.payload.data.kcal},Object(s.a)(Object(s.a)({},e),{},{mealsIngredientsSummary:a});case fe:var n={proteins:0,fats:0,carbs:0,kcal:0},o={proteins:0,fats:0,carbs:0,kcal:0};return e.mealsIngredientsSummary.forEach((function(e){o={proteins:e.proteins,fats:e.fats,carbs:e.carbs,kcal:e.kcal},n={proteins:n.proteins+o.proteins,fats:n.fats+o.fats,carbs:n.carbs+o.carbs,kcal:n.kcal+o.kcal},o={proteins:0,fats:0,carbs:0,kcalS:0}})),Object(s.a)(Object(s.a)({},e),{},{dailyIngredientsSummary:n});case xe:var r=t.payload.typeOfIngredient;return Object(s.a)(Object(s.a)({},e),{},{gaugesData:Object(s.a)(Object(s.a)({},e.gaugesData),{},Object(i.a)({},r,{eaten:e.dailyIngredientsSummary[r],left:(d=e.dailyIngredientsSummary[r],_=e.settingsData.nutrition.dailyDemand[r],d>=_?0:_-d),max:e.settingsData.nutrition.dailyDemand[r],percent:Ee(e.dailyIngredientsSummary[r],e.settingsData.nutrition.dailyDemand[r])}))});case Ne:return Object(s.a)(Object(s.a)({},e),{},{dateIds:{dayId:t.payload.currentDay,monthId:t.payload.currentMonth,yearId:t.payload.currentYear}});case ve:return Object(s.a)(Object(s.a)({},e),{},{previousPageTitle:e.pageTitle,pageTitle:t.payload});case ke:var l=JSON.parse(localStorage.getItem("settings"));return Object(s.a)(Object(s.a)({},e),{},{settingsData:l});case Ie:return Object(s.a)(Object(s.a)({},e),{},{isLoginWindowsEnabled:t.payload});case Ce:return Object(s.a)(Object(s.a)({},e),{},{userStatus:t.payload});case Se:return Object(s.a)(Object(s.a)({},e),{},{hamburgerState:!e.hamburgerState});default:return console.error("Unknown action type: ".concat(t.type))}var d,_}),e),a=Object(n.a)(t,2),r=a[0],l=a[1],d=[r.userStatus,"Nutrition","Training","Settings","About"];Object(o.useEffect)((function(){O()}),[r.dateIds]),Object(o.useEffect)((function(){localStorage.getItem("settings")?l({type:ke}):x(),O()}),[]),Object(o.useEffect)((function(){var e=document.querySelector(".wrapper");r.isLoginWindowsEnabled?(e.style.filter="blur(5px) opacity(40%) grayscale(100%)",e.style.pointerEvents="none"):(e.style.filter="blur(0px) opacity(100%) grayscale(0%)",e.style.pointerEvents="auto")}),[r.isLoginWindowsEnabled]),Object(o.useEffect)((function(){var e=document.querySelector(".left-section__menu-container");r.hamburgerState?e.style.display="none":e.style.display="flex"}),[r.hamburgerState]);var h=function(e,t){l({type:ye,payload:{data:e,mealId:t}}),g()},g=function(){l({type:fe}),O()},O=function(){Object.keys(r.settingsData.nutrition.dailyDemand).forEach((function(e){l({type:xe,payload:{typeOfIngredient:e}})}))},y=function(e){l({type:ve,payload:"Nutrition"===e?"Dashboard":e}),l({type:ke}),O()},f=function(e){e===r.userStatus?l({type:Ie,payload:!0}):y(e),window.innerWidth<768&&l({type:Se})},x=function(){localStorage.setItem("settings",JSON.stringify(r.settingsData))};return Object(_.jsxs)(_.Fragment,{children:[r.isLoginWindowsEnabled&&Object(_.jsx)(Oe,{setUserStatus:function(e){l({type:Ce,payload:e})},disableLoginWindows:function(){l({type:Ie,payload:!1})},isLogout:"Logged"===r.userStatus}),Object(_.jsxs)("div",{className:"wrapper",children:[Object(_.jsxs)("aside",{className:"left-section",children:[Object(_.jsxs)("header",{className:"left-section__logo-container",children:[Object(_.jsx)(u,{}),Object(_.jsx)(m,{})]}),Object(_.jsx)(b,{handleHamburger:function(){l({type:Se})}}),Object(_.jsx)("ul",{className:"left-section__menu-container",children:d.map((function(e,t){return Object(_.jsx)(w,{value:e,href:"",isActive:!1,linkTo:f},t)}))}),Object(_.jsx)("h2",{className:"left-section__quotation-container",children:Object(_.jsx)(p,{})})]}),Object(_.jsxs)("main",{className:"center-section",children:[Object(_.jsxs)("section",{className:"center-section__top",children:[Object(_.jsx)("h3",{className:"center-section__top__title",children:r.pageTitle}),("Dashboard"===r.pageTitle||"Training"===r.pageTitle)&&Object(_.jsx)(j,{changeDate:function(e){l({type:Ne,payload:e})}})]}),Object(_.jsxs)("section",{className:"center-section__main",children:["Training"===r.pageTitle&&r.settingsData.training.selectedExercises.map((function(e){return Object(_.jsx)(te,{exerciseId:e,dateIds:r.dateIds,name:ae[e].name,difficulty:ae[e].difficulty,description:ae[e].description,muscles:ae[e].muscles,typeOfExercise:ae[e].typeOfExercise,properFormLink:ae[e].properFormLink},e)})),"Dashboard"===r.pageTitle&&Object.values(r.settingsData.nutrition.namesOfMeals).map((function(e,t){if(r.settingsData.nutrition.numberOfMeals>t)return Object(_.jsx)(L,{name:e,mealId:t,dateIds:r.dateIds,updateGauges:h},t)})),"Settings"===r.pageTitle&&Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(pe,{initialData:e.settingsData,updateGauges:O,pageTitle:r.pageTitle,previousPage:r.previousPageTitle,changePageTitle:y})}),"About"===r.pageTitle&&Object(_.jsx)(he,{previousPage:r.previousPageTitle,changePageTitle:y})]})]}),Object(_.jsxs)("aside",{className:"right-section",children:[Object(_.jsx)(F,{amount:r.gaugesData.kcal.eaten,name:"kcal",percent:r.gaugesData.kcal.percent,left:r.gaugesData.kcal.left,isKcal:!0}),Object(_.jsx)(F,{amount:r.gaugesData.proteins.eaten,name:"proteins",percent:r.gaugesData.proteins.percent,left:r.gaugesData.proteins.left}),Object(_.jsx)(F,{amount:r.gaugesData.fats.eaten,name:"fats",percent:r.gaugesData.fats.percent,left:r.gaugesData.fats.left}),Object(_.jsx)(F,{amount:r.gaugesData.carbs.eaten,name:"carbohydrates",percent:r.gaugesData.carbs.percent,left:r.gaugesData.carbs.left})]})]})]})}l.a.render(Object(_.jsx)(De,{}),document.querySelector("#root"))}],[[26,1,2]]]);
//# sourceMappingURL=main.353f6ead.chunk.js.map