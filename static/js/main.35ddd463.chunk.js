(this.webpackJsonpDietapp=this.webpackJsonpDietapp||[]).push([[0],[,,,,,,function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(3),i=a(4),s=a(1),c=a(8),r=a(2),d=a(15),_=a.n(d),o=(a(11),a.p+"static/media/logo.92f8fff8.png"),l=a(0);function m(){return Object(l.jsx)("img",{className:"left-section__logo-container__logo",src:o,alt:"Dietapp logo"})}function u(){return Object(l.jsxs)("h1",{className:"left-section__logo-container__title",children:["Diet",Object(l.jsx)("span",{className:"left-section__logo-container__title__right",children:"app"})]})}function g(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("span",{className:"left-section__quotation-container__top",children:"Be healthy,"}),Object(l.jsx)("span",{className:"left-section__quotation-container__bottom",children:"be happy!"})]})}function b(e){return Object(l.jsx)("li",{className:"left-section__menu-container__list-item",children:Object(l.jsx)("a",{className:e.isActive?"left-section__menu-container__list-item__content left-section__menu-container__list-item__content--active":"left-section__menu-container__list-item__content",onClick:function(t){t.preventDefault(),e.linkTo(t.target.title)},href:e.href,title:e.value,children:e.value})})}a(12);var j=a(10);function p(e){var t=new Date,a=Object(r.useState)(t.getDate()),i=Object(n.a)(a,2),s=i[0],c=i[1],d=Object(r.useState)(t.getMonth()+1),_=Object(n.a)(d,2),o=_[0],m=_[1],u=Object(r.useState)(t.getFullYear()),g=Object(n.a)(u,2),b=g[0],p=g[1],O=function(){return b%4===0&&b%100!==0||b%400===0},w=function(){29===s&&2===o&&O()||28===s&&2===o&&!O()||30===s&&(4===o||6===o||9===o||11===o)||31===s?31===s&&12===o?(c(1),m(1),p((function(e){return e+1}))):(c(1),m((function(e){return e+1}))):c((function(e){return e+1}))},h=function(){1===s&&1===o?(c(31),m(12),p((function(e){return e-1}))):1===s&&3===o?(O()?c(29):c(28),m(2)):1!==s||4!==o&&6!==o&&8!==o&&9!==o&&11!==o?1===s?(c(30),m((function(e){return e-1}))):c((function(e){return e-1})):(c(31),m((function(e){return e-1})))};return Object(r.useEffect)((function(){e.changeDate({currentDay:s,currentMonth:o,currentYear:b})}),[s,o,b]),Object(l.jsxs)("div",{className:"center-section__top__date-changer",children:[Object(l.jsx)("button",{className:"center-section__top__date-changer__previous-button",onClick:function(){h()},children:Object(l.jsx)(j.a,{})}),Object(l.jsx)("h4",{className:"center-section__top__date-changer__current-date",children:"".concat(function(){switch(o){case 1:return"January";case 2:return"February";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"November";case 12:return"December"}}()," ").concat(s)}),Object(l.jsx)("button",{className:"center-section__top__date-changer__next-button",onClick:function(){w()},children:Object(l.jsx)(j.b,{})})]})}a(6);function O(e){var t={"list-saving":!1},a=Object(r.useState)(t),c=Object(n.a)(a,2),d=c[0],_=c[1],o=function(e){var t=JSON.parse(localStorage.getItem("predefined"));console.log(t),t.push(e),console.log(t),localStorage.setItem("predefined",JSON.stringify(t))};return Object(l.jsxs)("form",{className:"adding-window__main__form",onSubmit:function(t){e.handleProductAdding(t);var a=Object.keys(d);console.log(a);var n=[];a.forEach((function(e){d[e]&&n.push(e)})),console.log(n),n.forEach((function(e){switch(console.log(e),e){case"list-saving":var t={id:Date.now(),name:document.querySelector("#name").value,weight:Number(document.querySelector("#weight").value),proteins:Number(document.querySelector("#proteins").value),fats:Number(document.querySelector("#fats").value),carbs:Number(document.querySelector("#carbs").value),kcal:Number(document.querySelector("#kcal").value)};o(t)}}))},children:[Object(l.jsxs)("section",{className:"adding-window__main__form adding-window__main__form--product-info",children:[Object(l.jsx)("h3",{className:"adding-window__main__form__title",children:"Product info"}),Object(l.jsxs)("div",{className:"adding-window__main__form__line adding-window__main__form__line--long",children:[Object(l.jsx)("label",{className:"adding-window__main__form__line__label",htmlFor:"name",children:"Product name: "}),Object(l.jsx)("input",{className:"adding-window__main__form__line__input",type:"text",id:"name",value:e.data.name,onChange:e.handleOnChange,placeholder:"Product name",maxLength:"32",required:!0}),Object(l.jsx)("p",{className:"adding-window__main__form__line__warning",children:"name"===e.warning[1]?e.warning[0]:null})]}),Object(l.jsxs)("div",{className:"adding-window__main__form__line adding-window__main__form__line--short",children:[Object(l.jsx)("label",{className:"adding-window__main__form__line__label",htmlFor:"weight",children:"Product weight: "}),Object(l.jsx)("input",{className:"adding-window__main__form__line__input",type:"text",id:"weight",value:e.data.weight,onChange:e.handleOnChange,placeholder:"Weight",maxLength:"4",required:!0}),Object(l.jsx)("span",{className:"adding-window__main__form__line__decoration",children:"g"}),Object(l.jsx)("p",{className:"adding-window__main__form__line__warning",children:"weight"===e.warning[1]?e.warning[0]:null})]})]}),Object(l.jsxs)("section",{className:"adding-window__main__form adding-window__main__form--nutrition-facts",children:[Object(l.jsx)("h3",{className:"adding-window__main__form__title",children:"Nutrition facts"}),Object(l.jsxs)("div",{className:"adding-window__main__form__line--normal",children:[Object(l.jsx)("label",{className:"adding-window__main__form__line__label",htmlFor:"proteins",children:"Proteins: "}),Object(l.jsx)("input",{className:"adding-window__main__form__line__input",type:"text",id:"proteins",value:e.data.proteins,onChange:e.handleOnChange,placeholder:"Proteins",maxLength:"4",required:!0}),Object(l.jsx)("span",{className:"adding-window__main__form__line__decoration",children:"g"}),Object(l.jsx)("p",{className:"adding-window__main__form__line__warning",children:"proteins"===e.warning[1]?e.warning[0]:null})]}),Object(l.jsxs)("div",{className:"adding-window__main__form__line--normal",children:[Object(l.jsx)("label",{className:"adding-window__main__form__line__label",htmlFor:"fats",children:"Fats: "}),Object(l.jsx)("input",{className:"adding-window__main__form__line__input",type:"text",id:"fats",value:e.data.fats,onChange:e.handleOnChange,placeholder:"Fats",maxLength:"4",required:!0}),Object(l.jsx)("span",{className:"adding-window__main__form__line__decoration",children:"g"}),Object(l.jsx)("p",{className:"adding-window__main__form__line__warning",children:"fats"===e.warning[1]?e.warning[0]:null})]}),Object(l.jsxs)("div",{className:"adding-window__main__form__line--normal",children:[Object(l.jsx)("label",{className:"adding-window__main__form__line__label",htmlFor:"carbs",children:"Carbs: "}),Object(l.jsx)("input",{className:"adding-window__main__form__line__input",type:"text",id:"carbs",value:e.data.carbs,onChange:e.handleOnChange,placeholder:"Carbohydrates",maxLength:"4",required:!0}),Object(l.jsx)("span",{className:"adding-window__main__form__line__decoration",children:"g"}),Object(l.jsx)("p",{className:"adding-window__main__form__line__warning",children:"carbs"===e.warning[1]?e.warning[0]:null})]}),Object(l.jsxs)("div",{className:"adding-window__main__form__line--normal",children:[Object(l.jsx)("label",{className:"adding-window__main__form__line__label",htmlFor:"kcal",children:"Calories: "}),Object(l.jsx)("input",{className:"adding-window__main__form__line__input",type:"text",id:"kcal",value:e.data.kcal,onChange:e.handleOnChange,placeholder:"Calories",maxLength:"4",required:!0}),Object(l.jsx)("span",{className:"adding-window__main__form__line__decoration",children:"kcal"}),Object(l.jsx)("p",{className:"adding-window__main__form__line__warning",children:"kcal"===e.warning[1]?e.warning[0]:null})]})]}),Object(l.jsxs)("section",{className:"adding-window__main__form adding-window__main__form--options",children:[Object(l.jsx)("h3",{className:"adding-window__main__form__title",children:"Options"}),Object(l.jsxs)("div",{className:"adding-window__main__form__line adding-window__main__form__line--normal",children:[Object(l.jsx)("label",{className:"adding-window__main__form__line__label adding-window__main__form__line__label--options",htmlFor:"list-saving",children:"Save to list"}),Object(l.jsx)("button",{className:"adding-window__main__form__background",id:"list-saving",type:"button",onClick:function(e){_((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(i.a)({},e.target.id,!d[e.target.id]))}))},children:Object(l.jsx)("div",{className:"adding-window__main__form__background__checked",id:"list-saving",style:d["list-saving"]?{backgroundColor:"#7500AF"}:{backgroundColor:"transparent"}})})]})]}),Object(l.jsxs)("section",{className:"adding-window__main__form adding-window__main__form--buttons-section",children:[Object(l.jsx)("button",{className:"adding-window__main__form__tertiary",type:"button",onClick:function(){_(t),e.handleFormClearing()},children:"Clear"}),Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{className:"adding-window__main__form__secondary",type:"button",onClick:function(){e.handleAddingWindow()},children:"Cancel"}),Object(l.jsx)("button",{className:"adding-window__main__form__primary",type:"submit",children:"Add"})]})]})]})}var w="update-product-data",h="reset-form",f="set-warning",y="clear-warning";function N(e){var t={productData:{id:e.data.id,name:e.data.name,weight:e.data.weight,proteins:e.data.proteins,fats:e.data.fats,carbs:e.data.carbs,kcal:e.data.kcal},warning:["",""]},a=Object(r.useReducer)((function(t,a){switch(a.type){case w:switch(a.payload.key){case"name":return Object(s.a)(Object(s.a)({},t),{},{productData:Object(s.a)(Object(s.a)({},t.productData),{},{name:a.payload.value})});case"weight":return Object(s.a)(Object(s.a)({},t),{},{productData:Object(s.a)(Object(s.a)({},t.productData),{},{weight:a.payload.value})});case"proteins":return Object(s.a)(Object(s.a)({},t),{},{productData:Object(s.a)(Object(s.a)({},t.productData),{},{proteins:a.payload.value})});case"fats":return Object(s.a)(Object(s.a)({},t),{},{productData:Object(s.a)(Object(s.a)({},t.productData),{},{fats:a.payload.value})});case"carbs":return Object(s.a)(Object(s.a)({},t),{},{productData:Object(s.a)(Object(s.a)({},t.productData),{},{carbs:a.payload.value})});case"kcal":return Object(s.a)(Object(s.a)({},t),{},{productData:Object(s.a)(Object(s.a)({},t.productData),{},{kcal:a.payload.value})});default:return console.error("Unknown action type: ".concat(a.type))}case h:return Object(s.a)(Object(s.a)({},t),{},{productData:{id:e.data.id,name:e.data.name,weight:e.data.weight,proteins:e.data.proteins,fats:e.data.fats,carbs:e.data.carbs,kcal:e.data.kcal}});case f:return console.log(a.payload),"name"===a.payload?Object(s.a)(Object(s.a)({},t),{},{warning:[S.name,a.payload]}):Object(s.a)(Object(s.a)({},t),{},{warning:[S.weight,a.payload]});case y:return Object(s.a)(Object(s.a)({},t),{},{warning:["",a.payload]});default:return console.error("Unknown action type: ".concat(a.type))}}),t),i=Object(n.a)(a,2),c=i[0],d=i[1];return Object(l.jsxs)("section",{className:"adding-window__edit",children:[Object(l.jsx)("h1",{className:"adding-window__title adding-window__title--edit",children:"Edit product"}),Object(l.jsx)("main",{className:"adding-window__main",children:Object(l.jsxs)("form",{className:"adding-window__main__form adding-window__main__form--edit",onSubmit:function(t){t.preventDefault(),e.handleProductEditing(c.productData)},children:[Object(l.jsxs)("section",{className:"adding-window__main__form adding-window__main__form--product-info",children:[Object(l.jsx)("h3",{className:"adding-window__main__form__title",children:"Product info"}),Object(l.jsxs)("div",{className:"adding-window__main__form__line adding-window__main__form__line--long",children:[Object(l.jsx)("label",{className:"adding-window__main__form__line__label",htmlFor:"name",children:"Product name: "}),Object(l.jsx)("input",{className:"adding-window__main__form__line__input",type:"text",id:"name",value:c.productData.name,onChange:function(e){e.preventDefault(),/[a-z\s]/i.test(e.target.value[e.target.value.length-1])?(d({type:w,payload:{key:"name",value:e.target.value}}),d({type:y,payload:"name"})):(d({type:w,payload:{key:"name",value:""}}),d({type:f,payload:"name"}))},placeholder:"Product name",maxLength:"32",required:!0}),Object(l.jsx)("p",{className:"adding-window__main__form__line__warning",children:"name"===c.warning[1]?c.warning[0]:null})]}),Object(l.jsxs)("div",{className:"adding-window__main__form__line adding-window__main__form__line--short",children:[Object(l.jsx)("label",{className:"adding-window__main__form__line__label",htmlFor:"weight",children:"Product weight: "}),Object(l.jsx)("input",{className:"adding-window__main__form__line__input",type:"text",id:"weight",value:c.productData.weight,onChange:function(t){var a=Number(e.data.proteins)/Number(e.data.weight),n=Number(e.data.fats)/Number(e.data.weight),i=Number(e.data.carbs)/Number(e.data.weight),s=Number(e.data.kcal)/Number(e.data.weight),c=function(){d({type:w,payload:{key:"weight",value:""}}),d({type:w,payload:{key:"proteins",value:0}}),d({type:w,payload:{key:"fats",value:0}}),d({type:w,payload:{key:"carbs",value:0}}),d({type:w,payload:{key:"kcal",value:0}}),d({type:f,payload:"weight"})};/[0-9]/.test(t.target.value[t.target.value.length-1])?/^[0]{1}/.test(t.target.value)?c():(d({type:w,payload:{key:"weight",value:Number(t.target.value)}}),d({type:w,payload:{key:"proteins",value:Math.round(t.target.value*a)}}),d({type:w,payload:{key:"fats",value:Math.round(t.target.value*n)}}),d({type:w,payload:{key:"carbs",value:Math.round(t.target.value*i)}}),d({type:w,payload:{key:"kcal",value:Math.round(t.target.value*s)}}),d({type:y,payload:"weight"})):c()},placeholder:"Weight",maxLength:"4",required:!0}),Object(l.jsx)("span",{className:"adding-window__main__form__line__decoration",children:"g"}),Object(l.jsx)("p",{className:"adding-window__main__form__line__warning",children:"weight"===c.warning[1]?c.warning[0]:null})]})]}),Object(l.jsxs)("section",{className:"adding-window__main__form adding-window__main__form--nutrition-facts",children:[Object(l.jsx)("h3",{className:"adding-window__main__form__title",children:"Nutrition facts"}),Object(l.jsxs)("div",{className:"adding-window__main__form__line adding-window__main__form__line--normal",children:[Object(l.jsx)("label",{className:"adding-window__main__form__line__label",htmlFor:"proteins",children:"Proteins: "}),Object(l.jsx)("p",{className:"adding-window__main__form__line__input",id:"proteins",children:c.productData.proteins}),Object(l.jsx)("span",{className:"adding-window__main__form__line__decoration",children:"g"})]}),Object(l.jsxs)("div",{className:"adding-window__main__form__line adding-window__main__form__line--normal",children:[Object(l.jsx)("label",{className:"adding-window__main__form__line__label",htmlFor:"fats",children:"Fats: "}),Object(l.jsx)("p",{className:"adding-window__main__form__line__input",id:"fats",children:c.productData.fats}),Object(l.jsx)("span",{className:"adding-window__main__form__line__decoration",children:"g"})]}),Object(l.jsxs)("div",{className:"adding-window__main__form__line adding-window__main__form__line--normal",children:[Object(l.jsx)("label",{className:"adding-window__main__form__line__label",htmlFor:"carbs",children:"Carbs: "}),Object(l.jsx)("p",{className:"adding-window__main__form__line__input",id:"carbs",children:c.productData.carbs}),Object(l.jsx)("span",{className:"adding-window__main__form__line__decoration",children:"g"})]}),Object(l.jsxs)("div",{className:"adding-window__main__form__line adding-window__main__form__line--normal",children:[Object(l.jsx)("label",{className:"adding-window__main__form__line__label",htmlFor:"kcal",children:"Calories: "}),Object(l.jsx)("p",{className:"adding-window__main__form__line__input",id:"kcal",children:c.productData.kcal}),Object(l.jsx)("span",{className:"adding-window__main__form__line__decoration",children:"kcal"})]})]}),Object(l.jsxs)("section",{className:"adding-window__main__form adding-window__main__form--buttons-section",children:[Object(l.jsx)("button",{className:"adding-window__main__form__tertiary",type:"button",onClick:function(e){e.preventDefault(),d({type:h}),d({type:y})},children:"Reset"}),Object(l.jsxs)("div",{className:"adding-window__main__form__right",children:[Object(l.jsx)("button",{className:"adding-window__main__form__secondary",type:"button",onClick:e.handleEditingWindow,children:"Cancel"}),Object(l.jsx)("input",{className:"adding-window__main__form__primary",type:"submit",value:"Save"})]})]})]})})]})}var x="set-product-send-for-edit",v="negate-edit-window-state",D="update-saved-products-list",k="load-predefined-products-list-from-local-storage",A={savedProductList:[{id:0,name:"Cottage cheese",weight:100,proteins:20,fats:10,carbs:15,kcal:250},{id:1,name:"Skyr",weight:100,proteins:20,fats:0,carbs:12,kcal:100},{id:2,name:"Potatos",weight:100,proteins:9,fats:2,carbs:80,kcal:126},{id:3,name:"Coca Cola",weight:100,proteins:0,fats:0,carbs:100,kcal:400},{id:4,name:"Banana",weight:100,proteins:5,fats:3,carbs:52,kcal:173}],productSendForEdit:{id:0,name:"",weight:0,proteins:0,fats:0,carbs:0,kcal:0},isEditWindowOpened:!1};function E(e){var t=Object(r.useReducer)((function(e,t){switch(t.type){case k:return Object(s.a)(Object(s.a)({},e),{},{savedProductList:t.payload});case v:return Object(s.a)(Object(s.a)({},e),{},{isEditWindowOpened:!e.isEditWindowOpened});case x:return Object(s.a)(Object(s.a)({},e),{},{productSendForEdit:{id:t.payload.id,name:t.payload.name,weight:t.payload.weight,proteins:t.payload.proteins,fats:t.payload.fats,carbs:t.payload.carbs,kcal:t.payload.kcal}});case D:var a=e.savedProductList;return a[t.payload.index]=t.payload.newProduct,console.log(a),Object(s.a)(Object(s.a)({},e),{},{savedProductList:a});default:return console.error("Unknown action type: ".concat(t.type))}}),A),a=Object(n.a)(t,2),i=a[0],c=a[1];Object(r.useEffect)((function(){var e=[];Object.keys(localStorage).includes("predefined")?(e=JSON.parse(localStorage.getItem("predefined")),c({type:k,payload:e})):(e=i.savedProductList,localStorage.setItem("predefined",JSON.stringify(e)))}),[]),Object(r.useEffect)((function(){var e=document.querySelector(".adding-window");i.isEditWindowOpened?e.style.boxShadow="none":e.style.boxShadow="1px 1px 5px #707070"}),[i.isEditWindowOpened]);var d=function(e){var t=document.getElementById(e.target.id);if(e.target.id){var a=t.querySelector(".adding-window__main__adding-list__item__name");"bold"===a.style.fontWeight?(t.style.background="#ffffff",a.style.fontWeight="normal"):(t.style.background="#7500AF30",a.style.fontWeight="bold",_(i.savedProductList[m(e.target.id)]),o())}},_=function(e){c({type:x,payload:e})},o=function(){c({type:v})},m=function(e){var t=i.savedProductList,a=0;return t.forEach((function(t,n){t.id===Number(e)&&(a=n)})),a};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("ul",{className:"adding-window__main__adding-list adding-window__main__adding-list--heading",children:Object(l.jsx)("li",{className:"adding-window__main__adding-list__item adding-window__main__adding-list__item--heading",children:Object(l.jsxs)("div",{className:"adding-window__main__adding-list__wrapper",children:[Object(l.jsx)("span",{className:"adding-window__main__adding-list__item__name",style:{color:"white"},children:"Product name"}),Object(l.jsxs)("span",{className:"adding-window__main__adding-list__item__nutrition-facts",children:[Object(l.jsx)("p",{className:"adding-window__main__adding-list__item__nutrition-facts__proteins",title:"Proteins",children:"P"}),Object(l.jsx)("p",{className:"adding-window__main__adding-list__item__nutrition-facts__fats",title:"Fats",children:"F"}),Object(l.jsx)("p",{className:"adding-window__main__adding-list__item__nutrition-facts__carbs",title:"Carbohydrates",children:"C"})]}),Object(l.jsx)("span",{className:"adding-window__main__adding-list__item__calories",children:"Calories"})]})})}),Object(l.jsx)("ul",{className:"adding-window__main__adding-list",children:i.savedProductList.map((function(e){return Object(l.jsxs)("li",{id:e.id,className:"adding-window__main__adding-list__item",onClick:d,children:[Object(l.jsxs)("div",{className:"adding-window__main__adding-list__wrapper",children:[Object(l.jsx)("span",{id:e.id,className:"adding-window__main__adding-list__item__name",children:e.name}),Object(l.jsxs)("span",{id:e.id,className:"adding-window__main__adding-list__item__nutrition-facts",children:[Object(l.jsxs)("p",{id:e.id,className:"adding-window__main__adding-list__item__nutrition-facts__proteins",title:"Proteins",children:[e.proteins," g"]}),Object(l.jsxs)("p",{id:e.id,className:"adding-window__main__adding-list__item__nutrition-facts__fats",title:"Fats",children:[e.fats," g"]}),Object(l.jsxs)("p",{id:e.id,className:"adding-window__main__adding-list__item__nutrition-facts__carbs",title:"Carbohydrates",children:[e.carbs," g"]})]}),Object(l.jsxs)("span",{id:e.id,className:"adding-window__main__adding-list__item__calories",children:[e.kcal," kcal"]})]}),Object(l.jsxs)("span",{id:e.id,className:"adding-window__main__adding-list__item__weight",children:[e.weight," g"]})]},e.id)}))}),Object(l.jsxs)("section",{className:"adding-window__main__adding-list__buttons-section",children:[Object(l.jsx)("button",{className:"adding-window__main__adding-list__buttons-section__secondary",onClick:e.handleAddingWindow,children:"Cancel"}),Object(l.jsx)("button",{className:"adding-window__main__adding-list__buttons-section__primary",onClick:function(){var t=[];document.querySelectorAll(".adding-window__main__adding-list__item").forEach((function(e,a){"bold"===e.querySelector(".adding-window__main__adding-list__item__name").style.fontWeight&&t.push({name:i.savedProductList[a-1].name,weight:i.savedProductList[a-1].weight,proteins:i.savedProductList[a-1].proteins,fats:i.savedProductList[a-1].fats,carbs:i.savedProductList[a-1].carbs,kcal:i.savedProductList[a-1].kcal})})),e.handlePredefinedProductsAdding(t)},children:"Add"})]}),i.isEditWindowOpened?Object(l.jsx)(N,{data:{id:i.productSendForEdit.id,name:i.productSendForEdit.name,weight:i.productSendForEdit.weight,proteins:i.productSendForEdit.proteins,fats:i.productSendForEdit.fats,carbs:i.productSendForEdit.carbs,kcal:i.productSendForEdit.kcal},warning:e.warning,handleProductEditing:function(e){var t=m(e.id);c({type:D,payload:{index:t,newProduct:e}});var a=i.savedProductList;localStorage.setItem("predefined",JSON.stringify(a)),o()},handleEditingWindow:o}):null]})}function C(e){var t=Object(r.useState)(!0),a=Object(n.a)(t,2),i=a[0],s=a[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"adding-window__background-blur"}),Object(l.jsxs)("section",{className:"adding-window",children:[Object(l.jsx)("h1",{className:"adding-window__title",children:"Add product"}),Object(l.jsxs)("button",{className:"adding-window__switch",onClick:function(){s(!i)},children:[Object(l.jsx)("h3",{className:i?"adding-window__switch__left adding-window__switch__left--selected":"adding-window__switch__left",children:"From list"}),Object(l.jsx)("h3",{className:i?"adding-window__switch__right":"adding-window__switch__right adding-window__switch__right--selected",children:"Your own"})]}),Object(l.jsx)("main",{className:"adding-window__main",children:i?Object(l.jsx)(E,{warning:e.warning,handleAddingWindow:e.handleAddingWindow,handlePredefinedProductsAdding:e.handlePredefinedProductsAdding}):Object(l.jsx)(O,{data:{isPlaceholderEnabled:e.data.isPlaceholderEnabled,name:e.data.name,weight:e.data.weight,proteins:e.data.proteins,fats:e.data.fats,carbs:e.data.carbs,kcal:e.data.kcal},warning:e.warning,handleOnChange:e.handleOnChange,handleFormClearing:e.handleFormClearing,handleProductAdding:e.handleProductAdding,handleAddingWindow:e.handleAddingWindow})})]})]})}a(21);function P(e){var t=Object(r.useState)(!1),a=Object(n.a)(t,2),i=a[0],s=a[1];Object(r.useEffect)((function(){var e=document.querySelector(".removing-window");i?(e.style.filter="blur(4px)",e.style.pointerEvents="none"):(e.style.filter="none",e.style.pointerEvents="auto")}),[i]);var c=function(e){var t=document.getElementById(e.target.id);if(e.target.id){var a=t.querySelector(".removing-window__main__list__item__name");"bold"===a.style.fontWeight?(t.style.background="#ffffff",a.style.fontWeight="normal"):(t.style.background="#7500AF30",a.style.fontWeight="bold")}};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("section",{className:"removing-window",children:[Object(l.jsx)("h1",{className:"removing-window__title",children:"Remove product"}),Object(l.jsxs)("main",{className:"removing-window__main",children:[Object(l.jsx)("ul",{className:"removing-window__main__list removing-window__main__list--heading",children:Object(l.jsx)("li",{className:"removing-window__main__list__item removing-window__main__list__item--heading",children:Object(l.jsxs)("div",{className:"removing-window__main__list__wrapper",children:[Object(l.jsx)("span",{className:"removing-window__main__list__item__name",style:{color:"white"},children:"Product name"}),Object(l.jsxs)("span",{className:"removing-window__main__list__item__nutrition-facts",children:[Object(l.jsx)("p",{className:"removing-window__main__list__item__nutrition-facts__proteins",title:"Proteins",children:"P"}),Object(l.jsx)("p",{className:"removing-window__main__list__item__nutrition-facts__fats",title:"Fats",children:"F"}),Object(l.jsx)("p",{className:"removing-window__main__list__item__nutrition-facts__carbs",title:"Carbohydrates",children:"C"})]}),Object(l.jsx)("span",{className:"removing-window__main__list__item__calories",children:"Calories"})]})})}),Object(l.jsx)("ul",{className:"removing-window__main__list",children:e.productList.map((function(e){return Object(l.jsxs)("li",{onClick:c,id:e.id,className:"removing-window__main__list__item",children:[Object(l.jsxs)("div",{className:"removing-window__main__list__wrapper",children:[Object(l.jsx)("span",{id:e.id,className:"removing-window__main__list__item__name",children:e.name}),Object(l.jsxs)("span",{id:e.id,className:"removing-window__main__list__item__nutrition-facts",children:[Object(l.jsxs)("p",{id:e.id,className:"removing-window__main__list__item__nutrition-facts__proteins",title:"Proteins",children:[e.proteins," g"]}),Object(l.jsxs)("p",{id:e.id,className:"removing-window__main__list__item__nutrition-facts__fats",title:"Fats",children:[e.fats," g"]}),Object(l.jsxs)("p",{id:e.id,className:"removing-window__main__list__item__nutrition-facts__carbs",title:"Carbohydrates",children:[e.carbs," g"]})]}),Object(l.jsxs)("span",{id:e.id,className:"removing-window__main__list__item__calories",children:[e.kcal," kcal"]})]}),Object(l.jsxs)("span",{id:e.id,className:"removing-window__main__list__item__weight",children:[e.weight," g"]})]},e.id)}))}),Object(l.jsxs)("section",{className:"removing-window__main__list__buttons-section",children:[Object(l.jsx)("button",{className:"removing-window__main__list__buttons-section__tertiary",onClick:function(){s(!0)},children:"Remove all"}),Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{className:"removing-window__main__list__buttons-section__secondary",onClick:e.handleRemovingWindow,children:"Cancel"}),Object(l.jsx)("button",{className:"removing-window__main__list__buttons-section__primary",onClick:function(){var t=[];document.querySelectorAll(".removing-window__main__list__item").forEach((function(e){"bold"===e.querySelector(".removing-window__main__list__item__name").style.fontWeight&&t.push(Number(e.id))})),0!==t.length&&e.handleProductRemoving(t)},children:"Remove"})]})]})]})]}),i?Object(l.jsxs)("section",{className:"removing-window__confirm",children:[Object(l.jsx)("h1",{className:"removing-window__title",children:"Remove all?"}),Object(l.jsx)("h3",{className:"removing-window__confirm__subtitle",children:"Are you sure you want to remove all products in current meal?"}),Object(l.jsx)("section",{className:"removing-window__main__list__buttons-section",style:{justifyContent:"flex-end"},children:Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{className:"removing-window__main__list__buttons-section__secondary",onClick:function(){s(!1)},children:"Cancel"}),Object(l.jsx)("button",{className:"removing-window__main__list__buttons-section__primary",onClick:function(){var t=[];document.querySelectorAll(".removing-window__main__list__item").forEach((function(e){t.push(Number(e.id))})),e.handleProductRemoving(t)},children:"Remove"})]})})]}):null]})}a(13);var S={name:"Name must be a string of letters only",weight:"Weight must be a positive number",macros:"Macronutrient must be a number"},I={NEGATE_MEAL_STATE:"negate-meal-state",NEGATE_ADDING_WINDOW_STATE:"negate-adding-window-state",NEGATE_REMOVING_WINDOW_STATE:"negate-removing-window-state",ADD_PRODUCT:"add-product",ENABLE_PLACEHOLDER:"enable-placeholder",DISABLE_PLACEHOLDER:"disable-placeholder",SET_WARNING:"set-warning",CLEAR_WARNING:"clear-warning",REMOVE_PRODUCT:"remove-product",ADD_TO_SUMMARY:"add-to-summary",SUB_FROM_SUMMARY:"sub-from-summary",CLEAR_PRODUCTLIST_BEFORE_DAY_CHANGING:"clear-productlist-before-day-changing",ADD_PRODUCT_TO_PRODUCTLIST:"add-product-to-productlist"};function T(e){var t={isMealOpened:!1,isAddingWindowOpened:!1,isRemovingWindowOpened:!1,countIngredients:!1,productList:[],newProduct:{id:0,mealId:e.mealId,dateIds:{dayId:0,monthId:0,yearId:0},name:"",weight:"",proteins:"",fats:"",carbs:"",kcal:""},warning:["",""],summary:{proteins:0,fats:0,carbs:0,kcal:0}},a=Object(r.useReducer)((function(t,a){switch(a.type){case I.NEGATE_MEAL_STATE:return Object(s.a)(Object(s.a)({},t),{},{isMealOpened:!t.isMealOpened});case I.NEGATE_ADDING_WINDOW_STATE:return Object(s.a)(Object(s.a)({},t),{},{isAddingWindowOpened:!t.isAddingWindowOpened});case I.NEGATE_REMOVING_WINDOW_STATE:return Object(s.a)(Object(s.a)({},t),{},{isRemovingWindowOpened:!t.isRemovingWindowOpened});case I.CHANGE_NEW_PRODUCT_DATA:switch(a.payload.key){case"name":return Object(s.a)(Object(s.a)({},t),{},{newProduct:Object(s.a)(Object(s.a)({},t.newProduct),{},{name:a.payload.value})});case"weight":return Object(s.a)(Object(s.a)({},t),{},{newProduct:Object(s.a)(Object(s.a)({},t.newProduct),{},{weight:a.payload.value})});case"proteins":return Object(s.a)(Object(s.a)({},t),{},{newProduct:Object(s.a)(Object(s.a)({},t.newProduct),{},{proteins:a.payload.value})});case"fats":return Object(s.a)(Object(s.a)({},t),{},{newProduct:Object(s.a)(Object(s.a)({},t.newProduct),{},{fats:a.payload.value})});case"carbs":return Object(s.a)(Object(s.a)({},t),{},{newProduct:Object(s.a)(Object(s.a)({},t.newProduct),{},{carbs:a.payload.value})});case"kcal":return Object(s.a)(Object(s.a)({},t),{},{newProduct:Object(s.a)(Object(s.a)({},t.newProduct),{},{kcal:a.payload.value})})}case I.ADD_PRODUCT:return t.newProduct.id=Date.now(),t.newProduct.dateIds=e.dateIds,t.productList.push(t.newProduct),localStorage.setItem(t.newProduct.id,JSON.stringify(t.newProduct)),Object(s.a)(Object(s.a)({},t),{},{newProduct:{id:0,mealId:e.mealId,dateIds:{dayId:0,monthId:0,yearId:0},name:"",weight:"",proteins:"",fats:"",carbs:"",kcal:""}});case I.SET_WARNING:switch(a.payload){case"name":return Object(s.a)(Object(s.a)({},t),{},{warning:[S.name,a.payload]});case"weight":return Object(s.a)(Object(s.a)({},t),{},{warning:[S.weight,a.payload]});default:return Object(s.a)(Object(s.a)({},t),{},{warning:[S.macros,a.payload]})}case I.CLEAR_WARNING:return Object(s.a)(Object(s.a)({},t),{},{warning:["",a.payload]});case I.REMOVE_PRODUCT:var n=t.productList;return a.payload.forEach((function(e){n.forEach((function(t,a){Number(t.id)===Number(e)&&(n.splice(a,1),localStorage.removeItem(t.id))}))})),Object(s.a)(Object(s.a)({},t),{},{productList:n});case I.ADD_TO_SUMMARY:switch(a.payload.ingredient){case"proteins":return Object(s.a)(Object(s.a)({},t),{},{summary:Object(s.a)(Object(s.a)({},t.summary),{},{proteins:t.summary.proteins+Number(a.payload.value)})});case"fats":return Object(s.a)(Object(s.a)({},t),{},{summary:Object(s.a)(Object(s.a)({},t.summary),{},{fats:t.summary.fats+Number(a.payload.value)})});case"carbs":return Object(s.a)(Object(s.a)({},t),{},{summary:Object(s.a)(Object(s.a)({},t.summary),{},{carbs:t.summary.carbs+Number(a.payload.value)})});case"kcal":return Object(s.a)(Object(s.a)({},t),{},{summary:Object(s.a)(Object(s.a)({},t.summary),{},{kcal:t.summary.kcal+Number(a.payload.value)})})}case I.SUB_FROM_SUMMARY:switch(a.payload.ingredient){case"proteins":return Object(s.a)(Object(s.a)({},t),{},{summary:Object(s.a)(Object(s.a)({},t.summary),{},{proteins:t.summary.proteins-Number(a.payload.value)})});case"fats":return Object(s.a)(Object(s.a)({},t),{},{summary:Object(s.a)(Object(s.a)({},t.summary),{},{fats:t.summary.fats-Number(a.payload.value)})});case"carbs":return Object(s.a)(Object(s.a)({},t),{},{summary:Object(s.a)(Object(s.a)({},t.summary),{},{carbs:t.summary.carbs-Number(a.payload.value)})});case"kcal":return Object(s.a)(Object(s.a)({},t),{},{summary:Object(s.a)(Object(s.a)({},t.summary),{},{kcal:t.summary.kcal-Number(a.payload.value)})})}case I.ADD_PRODUCT_TO_PRODUCTLIST:return Object(s.a)(Object(s.a)({},t),{},{productList:[].concat(Object(c.a)(t.productList),[a.payload])});case I.CLEAR_PRODUCTLIST_BEFORE_DAY_CHANGING:return Object(s.a)(Object(s.a)({},t),{},{productList:[]});default:return console.error("Unknown action type: ".concat(a.type))}}),t),i=Object(n.a)(a,2),d=i[0],_=i[1],o=Object(r.useState)(!1),m=Object(n.a)(o,2),u=m[0],g=m[1];Object(r.useEffect)((function(){Object.keys(localStorage).forEach((function(t){var a=JSON.parse(localStorage.getItem(t));a.mealId===e.mealId&&a.dateIds.dayId===e.dateIds.dayId&&a.dateIds.monthId===e.dateIds.monthId&&a.dateIds.yearId===e.dateIds.yearId&&_({type:I.ADD_PRODUCT_TO_PRODUCTLIST,payload:a})}))}),[e.dateIds]),Object(r.useEffect)((function(){return function(){return _({type:I.CLEAR_PRODUCTLIST_BEFORE_DAY_CHANGING})}}),[e.dateIds]),Object(r.useEffect)((function(){var e=function(e,t){e&&_({type:t})};e(d.isMealOpened,I.NEGATE_MEAL_STATE),e(d.isAddingWindowOpened,I.NEGATE_ADDING_WINDOW_STATE),e(d.isRemovingWindowOpened,I.NEGATE_REMOVING_WINDOW_STATE)}),[e.dateIds]),Object(r.useEffect)((function(){e.updateGauges(d.summary,e.mealId)}),[d.summary]),Object(r.useEffect)((function(){var e=function(e){document.querySelectorAll(".meal").forEach((function(t){t.querySelector(".meal__buttons-section").style.pointerEvents=e}))};d.isAddingWindowOpened||d.isRemovingWindowOpened?e("none"):e("auto")}),[d.isAddingWindowOpened,d.isRemovingWindowOpened]);var b=function(e){Object.keys(e).forEach((function(t){_({type:I.ADD_TO_SUMMARY,payload:{ingredient:t,value:e[t]}})}))},j=function(e){Object.keys(e).forEach((function(t){_({type:I.SUB_FROM_SUMMARY,payload:{ingredient:t,value:e[t]}})}))},p=function(){_({type:I.NEGATE_ADDING_WINDOW_STATE})},O=function(){_({type:I.NEGATE_REMOVING_WINDOW_STATE})};return Object(l.jsxs)("div",{className:"meal",style:d.isMealOpened?{marginLeft:"-10px"}:{marginLeft:"0px"},children:[Object(l.jsxs)("section",{className:"meal__top-section",onClick:function(){_({type:I.NEGATE_MEAL_STATE})},children:[Object(l.jsx)("h2",{className:"meal__top-section__meal-title",children:e.name}),Object(l.jsxs)("ul",{className:"meal__top-section__meal-stats-list",children:[Object(l.jsxs)("li",{className:"meal__top-section__meal-stats-list__item",children:[d.summary.proteins," g"]}),Object(l.jsxs)("li",{className:"meal__top-section__meal-stats-list__item",children:[d.summary.fats," g"]}),Object(l.jsxs)("li",{className:"meal__top-section__meal-stats-list__item",children:[d.summary.carbs," g"]}),Object(l.jsxs)("li",{className:"meal__top-section__meal-stats-list__item",children:[d.summary.kcal," kcal"]})]})]}),0!==d.productList.length?Object(l.jsx)("section",{className:"meal__products-section",style:d.isMealOpened?{display:"flex"}:{display:"none"},children:d.productList.map((function(e){return Object(l.jsx)(R,{name:e.name,weight:e.weight,proteins:e.proteins,fats:e.fats,carbs:e.carbs,kcal:e.kcal,addIngredientsFunction:b,subIngredientsFunction:j},e.id)}))}):null,Object(l.jsxs)("section",{className:"meal__buttons-section",style:d.isMealOpened?{display:"flex"}:{display:"none"},children:[Object(l.jsx)("button",{className:"meal__buttons-section__remove-button",onClick:d.productList.length?O:null,disabled:!(!d.isAddingWindowOpened&&!d.isRemovingWindowOpened),children:"Remove"}),Object(l.jsx)("button",{className:"meal__buttons-section__add-button",onClick:p,disabled:!(!d.isAddingWindowOpened&&!d.isRemovingWindowOpened),children:"Add"})]}),d.isAddingWindowOpened?Object(l.jsx)(C,{data:{isPlaceholderEnabled:u,name:d.newProduct.name,weight:d.newProduct.weight,proteins:d.newProduct.proteins,fats:d.newProduct.fats,carbs:d.newProduct.carbs,kcal:d.newProduct.kcal},warning:d.warning,handleOnChange:function(e){var t=function(){_({type:I.CHANGE_NEW_PRODUCT_DATA,payload:{key:e.target.id,value:""}}),_({type:I.SET_WARNING,payload:e.target.id})},a=function(){_({type:I.CHANGE_NEW_PRODUCT_DATA,payload:{key:e.target.id,value:e.target.value}}),_({type:I.CLEAR_WARNING,payload:e.target.id})};"name"===e.target.id?/[a-z\s]/i.test(e.target.value[e.target.value.length-1])?a():t():/[0-9]/.test(e.target.value[e.target.value.length-1])?/^[0]{1}/.test(e.target.value)?"weight"===e.target.id?t():(_({type:I.CHANGE_NEW_PRODUCT_DATA,payload:{key:e.target.id,value:"0"}}),_({type:I.CLEAR_WARNING,payload:e.target.id})):a():t()},handleFormClearing:function(){_({type:I.CHANGE_NEW_PRODUCT_DATA,payload:{key:"name",value:""}}),_({type:I.CHANGE_NEW_PRODUCT_DATA,payload:{key:"weight",value:""}}),_({type:I.CHANGE_NEW_PRODUCT_DATA,payload:{key:"proteins",value:""}}),_({type:I.CHANGE_NEW_PRODUCT_DATA,payload:{key:"fats",value:""}}),_({type:I.CHANGE_NEW_PRODUCT_DATA,payload:{key:"carbs",value:""}}),_({type:I.CHANGE_NEW_PRODUCT_DATA,payload:{key:"kcal",value:""}}),g(!1)},handleProductAdding:function(e){e.preventDefault(),setTimeout((function(){_({type:I.ADD_PRODUCT})}),10),_({type:I.NEGATE_ADDING_WINDOW_STATE})},handleAddingWindow:p,handlePredefinedProductsAdding:function(e){e.forEach((function(e){setTimeout((function(){Object.keys(e).forEach((function(t){_({type:I.CHANGE_NEW_PRODUCT_DATA,payload:{key:t,value:e[t]}})})),_({type:I.ADD_PRODUCT})}),10)})),_({type:I.NEGATE_ADDING_WINDOW_STATE})}}):null,d.isRemovingWindowOpened?Object(l.jsx)(P,{productList:d.productList,handleProductRemoving:function(e){_({type:I.REMOVE_PRODUCT,payload:e}),_({type:I.NEGATE_REMOVING_WINDOW_STATE})},handleRemovingWindow:O}):null]})}function R(e){return Object(r.useEffect)((function(){var t={proteins:e.proteins,fats:e.fats,carbs:e.carbs,kcal:e.kcal};return e.addIngredientsFunction(t),function(){e.subIngredientsFunction(t)}}),[]),Object(l.jsxs)("div",{className:"meal__products-section__product",children:[Object(l.jsxs)("div",{className:"meal__products-section__product__info",children:[Object(l.jsx)("h2",{className:"meal__products-section__product__title",children:e.name}),Object(l.jsxs)("p",{className:"meal__products-section__product__weight",children:[e.weight," g"]})]}),Object(l.jsxs)("ul",{className:"meal__products-section__product__stats-list",children:[Object(l.jsxs)("li",{className:"meal__products-section__product__stats-list__item",children:[e.proteins," g"]}),Object(l.jsxs)("li",{className:"meal__products-section__product__stats-list__item",children:[e.fats," g"]}),Object(l.jsxs)("li",{className:"meal__products-section__product__stats-list__item",children:[e.carbs," g"]}),Object(l.jsxs)("li",{className:"meal__products-section__product__stats-list__item",children:[e.kcal," kcal"]})]})]})}a(14);function W(e){return Object(l.jsxs)("div",{className:e.isKcal?"right-section__gauge-container right-section__gauge-container--kcal":"right-section__gauge-container",children:[Object(l.jsx)("div",{className:e.isKcal?"right-section__gauge-container__bar right-section__gauge-container__bar--kcal":"right-section__gauge-container__bar",style:e.percent<100?function(){var t=2.7*e.percent;return t<90?{transform:"rotate(".concat(t,"deg)")}:t>=90&&t<180?{transform:"rotate(".concat(t,"deg)"),borderRightColor:"#ffffff80"}:t>=180?{transform:"rotate(".concat(t,"deg)"),borderRightColor:"#ffffff80",borderTopColor:"#ffffff80"}:void 0}():{borderColor:"#e00000"}}),Object(l.jsxs)("div",{className:e.isKcal?"right-section__gauge-container__text right-section__gauge-container__text--kcal":"right-section__gauge-container__text",children:[Object(l.jsxs)("h4",{className:e.isKcal?"right-section__gauge-container__text__amount right-section__gauge-container__text__amount--kcal":"right-section__gauge-container__text__amount",children:[e.amount," ",e.isKcal?null:"g"]}),Object(l.jsxs)("h6",{className:e.isKcal?"right-section__gauge-container__text__name right-section__gauge-container__text__name--kcal":"right-section__gauge-container__text__name",children:[e.name," "]}),Object(l.jsxs)("p",{className:e.isKcal?"right-section__gauge-container__text__percent right-section__gauge-container__text__percent--kcal":"right-section__gauge-container__text__percent",children:[e.percent," %"]}),Object(l.jsxs)("h5",{className:e.isKcal?"right-section__gauge-container__text__left right-section__gauge-container__text__left--kcal":"right-section__gauge-container__text__left",children:[e.left," ",e.isKcal?null:"g"," left"]})]})]})}a(22);function L(e){var t=Object(r.useState)(!1),a=Object(n.a)(t,2),i=a[0],s=a[1];return Object(l.jsxs)("div",{className:"meal",style:i?{marginLeft:"-10px"}:{marginLeft:"0px"},children:[Object(l.jsxs)("section",{className:"meal__top-section",onClick:function(){s(!i)},children:[Object(l.jsx)("h2",{className:"meal__top-section__meal-title",children:e.name}),Object(l.jsxs)("div",{className:"meal__top-section__grade-container",children:[Object(l.jsx)("span",{className:"meal__top-section__grade-container__point"}),Object(l.jsx)("span",{className:"meal__top-section__grade-container__point"}),Object(l.jsx)("span",{className:"meal__top-section__grade-container__point"})]})]}),Object(l.jsx)("section",{className:"meal__products-section"}),Object(l.jsxs)("section",{className:"meal__buttons-section",children:[Object(l.jsx)("button",{children:"Add"}),Object(l.jsx)("button",{children:"Remove"})]})]})}a(23);var F=["Log in","Nutrition","Training","Settings","About"],M="update-meals-ingredients-summary",G="update-daily-ingredients-summary",U="count-gauges-data",q="change-date",B="change-page-title",H="change-settings-data",J="backup-old-settings",Y="restore-old-settings",K="load-settings",V=function(e,t){return Number.isNaN(Math.round(e/t*100))?0:Math.round(e/t*100)};function z(){Object(r.useEffect)((function(){0!==Object.keys(localStorage).length?d({type:K}):h(),d({type:J})}),[]);var e=Object(r.useReducer)((function(e,t){switch(t.type){case M:var a=Object(c.a)(e.mealsIngredientsSummary);return a[t.payload.mealId]={proteins:t.payload.data.proteins,fats:t.payload.data.fats,carbs:t.payload.data.carbs,kcal:t.payload.data.kcal},Object(s.a)(Object(s.a)({},e),{},{mealsIngredientsSummary:a});case G:var n={proteins:0,fats:0,carbs:0,kcal:0},r={proteins:0,fats:0,carbs:0,kcal:0};return e.mealsIngredientsSummary.forEach((function(e){r={proteins:e.proteins,fats:e.fats,carbs:e.carbs,kcal:e.kcal},n={proteins:n.proteins+r.proteins,fats:n.fats+r.fats,carbs:n.carbs+r.carbs,kcal:n.kcal+r.kcal},r={proteins:0,fats:0,carbs:0,kcalS:0}})),Object(s.a)(Object(s.a)({},e),{},{dailyIngredientsSummary:n});case U:var d=t.payload.typeOfIngredient;return Object(s.a)(Object(s.a)({},e),{},{gaugesData:Object(s.a)(Object(s.a)({},e.gaugesData),{},Object(i.a)({},d,{eaten:e.dailyIngredientsSummary[d],left:(o=e.dailyIngredientsSummary[d],l=e.settingsData.nutrition.dailyDemand[d],o>=l?0:l-o),max:e.settingsData.nutrition.dailyDemand[d],percent:V(e.dailyIngredientsSummary[d],e.settingsData.nutrition.dailyDemand[d])}))});case q:return Object(s.a)(Object(s.a)({},e),{},{dateIds:{dayId:t.payload.currentDay,monthId:t.payload.currentMonth,yearId:t.payload.currentYear}});case B:return Object(s.a)(Object(s.a)({},e),{},{pageTitle:t.payload});case J:return Object(s.a)(Object(s.a)({},e),{},{oldSettingsData:e.settingsData});case Y:return Object(s.a)(Object(s.a)({},e),{},{settingsData:e.oldSettingsData});case H:switch(t.payload.key){case"clearAllProducts":return Object(s.a)(Object(s.a)({},e),{},{settingsData:Object(s.a)(Object(s.a)({},e.settingsData),{},{nutrition:Object(s.a)(Object(s.a)({},e.settingsData.nutrition),{},{clearAllProducts:t.payload.value})})});case"editMealName":return Object(s.a)(Object(s.a)({},e),{},{settingsData:Object(s.a)(Object(s.a)({},e.settingsData),{},{nutrition:Object(s.a)(Object(s.a)({},e.settingsData.nutrition),{},{namesOfMeals:Object(s.a)(Object(s.a)({},e.settingsData.nutrition.namesOfMeals),{},Object(i.a)({},t.payload.index,t.payload.value))})})});case"setMealsNumber":return Object(s.a)(Object(s.a)({},e),{},{settingsData:Object(s.a)(Object(s.a)({},e.settingsData),{},{nutrition:Object(s.a)(Object(s.a)({},e.settingsData.nutrition),{},{numberOfMeals:t.payload.value})})});default:return Object(s.a)(Object(s.a)({},e),{},{settingsData:Object(s.a)(Object(s.a)({},e.settingsData),{},{nutrition:Object(s.a)(Object(s.a)({},e.settingsData.nutrition),{},{dailyDemand:Object(s.a)(Object(s.a)({},e.settingsData.nutrition.dailyDemand),{},Object(i.a)({},t.payload.key,t.payload.value))})})})}case K:var _=JSON.parse(localStorage.getItem("settings"));return Object(s.a)(Object(s.a)({},e),{},{settingsData:_});default:return console.error("Unknown action type: ".concat(t.type))}var o,l}),{dateIds:{dayId:0,monthId:0,yearId:0},pageTitle:"Dashboard",mealsIngredientsSummary:[],dailyIngredientsSummary:{kcal:0,proteins:0,fats:0,carbs:0},gaugesData:{kcal:{eaten:0,left:0,max:0,percent:0},proteins:{eaten:0,left:0,max:0,percent:0},fats:{eaten:0,left:0,max:0,percent:0},carbs:{eaten:0,left:0,max:0,percent:0}},settingsData:{main:{},nutrition:{dailyDemand:{kcal:2e3,proteins:120,fats:55,carbs:240},namesOfMeals:{0:"Breakfast",1:"II Breakfast",2:"Lunch",3:"Snack",4:"Dinner",5:"",6:"",7:"",8:"",9:""},numberOfMeals:5,clearAllProducts:!1},training:{namesOfExercises:{0:"Bench Press",1:"Deadlift",2:"Squat",3:"Biceps",4:"Triceps",5:"ABS",6:"",7:"",8:"",9:""},numberOfExercises:6}},oldSettingsData:{}}),t=Object(n.a)(e,2),a=t[0],d=t[1];Object(r.useEffect)((function(){j()}),[a.dateIds]);var _=function(e,t){d({type:M,payload:{data:e,mealId:t}}),o()},o=function(){d({type:G}),j()},j=function(){Object.keys(a.settingsData.nutrition.dailyDemand).forEach((function(e){d({type:U,payload:{typeOfIngredient:e}})}))},O=function(e){!function(e){d({type:B,payload:"Nutrition"===e?"Dashboard":e}),d({type:Y})}(e)},w=function(e){document.querySelector("#"+e).checked=!1},h=function(){localStorage.setItem("settings",JSON.stringify(a.settingsData))},f=function(e){e.preventDefault(),"editMealName"===e.target.id&&d({type:H,payload:{key:e.target.id,index:Number(e.target.attributes["data-key"].value),value:e.target.value}}),/[0-9]/.test(e.target.value[e.target.value.length-1])?/^[0]{1}/.test(e.target.value)?d({type:H,payload:{key:e.target.id,value:1}}):d({type:H,payload:{key:e.target.id,value:e.target.value}}):d({type:H,payload:{key:e.target.id,value:""}}),j()};return Object(l.jsxs)("div",{className:"wrapper",children:[Object(l.jsxs)("aside",{className:"left-section",children:[Object(l.jsxs)("header",{className:"left-section__logo-container",children:[Object(l.jsx)(m,{}),Object(l.jsx)(u,{})]}),Object(l.jsx)("ul",{className:"left-section__menu-container",children:F.map((function(e,t){return Object(l.jsx)(b,{value:e,href:"",isActive:!1,linkTo:O},t)}))}),Object(l.jsx)("h2",{className:"left-section__quotation-container",children:Object(l.jsx)(g,{})})]}),Object(l.jsxs)("main",{className:"center-section",children:[Object(l.jsxs)("section",{className:"center-section__top",children:[Object(l.jsx)("h3",{className:"center-section__top__title",children:a.pageTitle}),("Dashboard"===a.pageTitle||"Training"===a.pageTitle)&&Object(l.jsx)(p,{changeDate:function(e){d({type:q,payload:e})}})]}),Object(l.jsxs)("section",{className:"center-section__main",children:["Log in"===a.pageTitle&&Object(l.jsx)("h2",{children:"Log in"}),"Training"===a.pageTitle&&Object.values(a.settingsData.training.namesOfExercises).map((function(e,t){if(a.settingsData.training.numberOfExercises>t)return Object(l.jsx)(L,{name:e,exerciseId:t,dateIds:a.dateIds},t)})),"Dashboard"===a.pageTitle&&Object.values(a.settingsData.nutrition.namesOfMeals).map((function(e,t){if(a.settingsData.nutrition.numberOfMeals>t)return Object(l.jsx)(T,{name:e,mealId:t,dateIds:a.dateIds,updateGauges:_},t)})),"Settings"===a.pageTitle&&Object(l.jsxs)(l.Fragment,{children:[a.settingsData.nutrition.clearAllProducts&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{children:"Remove ALL products?"}),Object(l.jsx)("button",{onClick:function(){d({type:H,payload:{key:"clearAllProducts",value:!1}}),Object.keys(localStorage).forEach((function(e){"settings"!==e&&localStorage.removeItem(e)})),w("clearAllProducts"),j()},children:"Remove"}),Object(l.jsx)("button",{onClick:function(){d({type:H,payload:{key:"clearAllProducts",value:!1}}),w("clearAllProducts"),j()},children:"Cancel"})]}),Object(l.jsx)("section",{className:"center-section__main__settings",children:Object(l.jsxs)("form",{className:"center-section__main__settings__form",onSubmit:function(e){e.preventDefault(),h(),!0===e.target[4].checked?d({type:H,payload:{key:"clearAllProducts",value:!0}}):(d({type:H,payload:{key:"clearAllProducts",value:!1}}),w("clearAllProducts")),d({type:J}),j()},children:[Object(l.jsxs)("section",{className:"center-section__main__settings__form__section",children:[Object(l.jsx)("h2",{className:"center-section__main__settings__form__section__title",children:"Nutrition"}),Object(l.jsx)("label",{htmlFor:"setDailyDemand",children:"Set daily demand: "}),Object(l.jsxs)("section",{id:"setDailyDemand",className:"center-section__main__settings__form__section__daily-demand",children:[Object(l.jsxs)("span",{className:"center-section__main__settings__form__section__input",children:[Object(l.jsx)("label",{htmlFor:"kcal",children:"Kcal: "}),Object(l.jsx)("input",{type:"text",id:"kcal",value:a.settingsData.nutrition.dailyDemand.kcal,maxLength:5,onChange:f,required:!0})]}),Object(l.jsxs)("span",{className:"center-section__main__settings__form__section__input",children:[Object(l.jsx)("label",{htmlFor:"proteins",children:"Proteins: "}),Object(l.jsx)("input",{type:"text",id:"proteins",value:a.settingsData.nutrition.dailyDemand.proteins,maxLength:4,onChange:f,required:!0})]}),Object(l.jsxs)("span",{className:"center-section__main__settings__form__section__input",children:[Object(l.jsx)("label",{htmlFor:"fats",children:"Fats: "}),Object(l.jsx)("input",{type:"text",id:"fats",value:a.settingsData.nutrition.dailyDemand.fats,maxLength:4,onChange:f,required:!0})]}),Object(l.jsxs)("span",{className:"center-section__main__settings__form__section__input",children:[Object(l.jsx)("label",{htmlFor:"carbs",children:"Carbs: "}),Object(l.jsx)("input",{type:"text",id:"carbs",value:a.settingsData.nutrition.dailyDemand.carbs,maxLength:4,onChange:f,required:!0})]})]}),Object(l.jsxs)("span",{className:"center-section__main__settings__form__section__input",children:[Object(l.jsx)("label",{htmlFor:"clearAllProducts",children:"Clear all products: "}),Object(l.jsx)("input",{type:"checkbox",id:"clearAllProducts"})]}),Object(l.jsxs)("span",{className:"center-section__main__settings__form__section__input",children:[Object(l.jsx)("label",{htmlFor:"setMealsNumber",children:"Set number of meals: "}),Object(l.jsx)("input",{type:"text",id:"setMealsNumber",value:a.settingsData.nutrition.numberOfMeals,onChange:f,required:!0})]}),Object.values(a.settingsData.nutrition.namesOfMeals).map((function(e,t){return a.settingsData.nutrition.numberOfMeals>t?Object(l.jsxs)("span",{className:"center-section__main__settings__form__section__input",children:[Object(l.jsx)("label",{htmlFor:"editMealName",children:"Set meal name: "}),Object(l.jsx)("input",{"data-key":t,type:"text",id:"editMealName",value:a.settingsData.nutrition.namesOfMeals[t],onChange:f,required:!0})]},t):null}))]}),Object(l.jsx)("input",{className:"center-section__main__settings__form__submit-button",type:"submit",value:"Save",id:"saveSettings"}),Object(l.jsx)("button",{className:"center-section__main__settings__form__cancel-button",onClick:function(e){e.preventDefault(),d({type:Y}),h(),w("clearAllProducts"),j()},disabled:a.oldSettingsData===a.settingsData,children:"Cancel"})]})})]}),"About"===a.pageTitle&&Object(l.jsx)("h2",{children:"About"})]})]}),Object(l.jsxs)("aside",{className:"right-section",children:[Object(l.jsx)(W,{amount:a.gaugesData.kcal.eaten,name:"kcal",percent:a.gaugesData.kcal.percent,left:a.gaugesData.kcal.left,isKcal:!0}),Object(l.jsx)(W,{amount:a.gaugesData.proteins.eaten,name:"proteins",percent:a.gaugesData.proteins.percent,left:a.gaugesData.proteins.left}),Object(l.jsx)(W,{amount:a.gaugesData.fats.eaten,name:"fats",percent:a.gaugesData.fats.percent,left:a.gaugesData.fats.left}),Object(l.jsx)(W,{amount:a.gaugesData.carbs.eaten,name:"carbohydrates",percent:a.gaugesData.carbs.percent,left:a.gaugesData.carbs.left})]})]})}_.a.render(Object(l.jsx)(z,{}),document.querySelector("#root"))}],[[24,1,2]]]);
//# sourceMappingURL=main.35ddd463.chunk.js.map